<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] A proposal for up-front payments.
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-November/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20A%20proposal%20for%20up-front%20payments.&In-Reply-To=%3C3G9Jh5pNv8G2TfPVvv1HVWiCyyd735xvguy3SegPw-_Nxx11gxNJ4WezrNZ37SOIhsSUi_6wG6GR9PnBC93eBwihJFDZQcqJFt1k24RjZ-I%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002346.html">
   <LINK REL="Next"  HREF="002348.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] A proposal for up-front payments.</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20A%20proposal%20for%20up-front%20payments.&In-Reply-To=%3C3G9Jh5pNv8G2TfPVvv1HVWiCyyd735xvguy3SegPw-_Nxx11gxNJ4WezrNZ37SOIhsSUi_6wG6GR9PnBC93eBwihJFDZQcqJFt1k24RjZ-I%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] A proposal for up-front payments.">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Tue Nov 26 08:12:08 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="002346.html">[Lightning-dev] A proposal for up-front payments.
</A></li>
        <LI>Next message: <A HREF="002348.html">[Lightning-dev] A proposal for up-front payments.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2347">[ date ]</a>
              <a href="thread.html#2347">[ thread ]</a>
              <a href="subject.html#2347">[ subject ]</a>
              <a href="author.html#2347">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning Orfeas,

&gt;<i> Hi ZmnSCPxj,
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; &gt; requiring a fee is equivalent to requiring proof-of-work, incentive-wise.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Not necessarily, given that
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; 1.  there is a finite bitcoin supply but an eventually infinite PoW
</I>&gt;<i> &gt; &gt;     supply (relevant in the unlikely case fees are burned)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; 2.  sats are transferrable, whereas PoW isn't (relevant in the case fees
</I>&gt;<i> &gt; &gt;     are paid)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Not actually.
</I>&gt;<i> &gt; Again, let me point out that PoW can be bought, that is precisely what Bitcoin blockchain layer does.
</I>&gt;<i> &gt; And the blockchain layer PoW is bought with two things: fees and subsidies (inflation).
</I>&gt;<i> &gt; Thus PoW, being purchaseable, is incentive-wise equivalent to paying somebody to spend electricity (possibly with efficiencies at scale).
</I>&gt;<i> &gt; Just cut the middleman.
</I>&gt;<i>
</I>&gt;<i> I wasn't clear enough, sorry for that. I agree that in general PoW can
</I>&gt;<i> be bought. However if I understand this particular PoW proposal
</I>&gt;<i> correctly, a brand-new PoW has to be created for each intermediary.
</I>&gt;<i> These PoWs cannot be reused by the intermediary for later payments (or
</I>&gt;<i> for anything else).
</I>&gt;<i>
</I>&gt;<i> I will now show that there exist spam-prevention schemes that differ
</I>&gt;<i> only on whether the payer gives sats or PoWs to intermediaries, such
</I>&gt;<i> that economically rational agents are incentivized to cheat in the case
</I>&gt;<i> of sats but not so in the case of PoWs. This proves that fees are not
</I>&gt;<i> equivalent to PoWs incentive-wise.
</I>&gt;<i>
</I>&gt;<i> In our model, an intermediary can follow one of three possible
</I>&gt;<i> strategies (we make the assumption that other strategies are strictly
</I>&gt;<i> dominated by one of the three). Each strategy results in different
</I>&gt;<i> resource utilization and proceeds from fees.
</I>&gt;<i> (A) do nothing. This results in resources_A = 0 and sats_A = 0
</I>&gt;<i> (B) play honestly. resources_B &lt; 0 (negative because they constitute
</I>&gt;<i> an operating cost) and sats_B = anti_spam_fee + routing_fee
</I>&gt;<i> (C) mount a plausibly deniable attack. Here resources_C &lt; 0 and sats_C
</I>&gt;<i> = anti_spam_fee.
</I>&gt;<i> We assume that resources_C &gt; resources_B + routing_fee (1).
</I>&gt;<i>
</I>&gt;<i> In case intermediaries receive PoWs as an anti-spam measure, it is
</I>&gt;<i> anti_spam_fee = 0 which means that resources_C + sats_C &lt; 0 =
</I>&gt;<i> resources_A + sats_A, therefore strategy C is strictly dominated by A.
</I>&gt;<i> (The fact that A also strictly dominates B is an interesting
</I>&gt;<i> observation, but beside the point for the argument made.)
</I>&gt;<i>
</I>&gt;<i> OTOH, in the case of anti-spam sats, it is anti_spam_fee &gt; 0. Therefore
</I>&gt;<i> we have resources_C + sats_C &gt; resources_B + sats_B (using (1)) and for
</I>&gt;<i> a big enough anti_spam_fee, it is resources_C + sats_C &gt; 0, therefore
</I>&gt;<i>
</I>&gt;<i> strategy C strictly dominates both A and B.
</I>&gt;<i>
</I>&gt;<i> In other words, by just changing whether we use anti-spam PoWs or fees,
</I>&gt;<i> we change the economically rational behavior.
</I>&gt;<i>
</I>&gt;<i> I apologize for the previous ambiguity and I hope this has made my
</I>&gt;<i> argument clearer.
</I>
This can be made &quot;the same&quot; by any of the following methods:

* Burning the up-front fees.
* Locking the up-front fees for a time, then reverting them to the original sender.

Fees and PoW are equivalent.
The artificial difference here is that in the PoW case, the PoW cannot be reused by the intermediate node.
Then we only need to make the up front fees also not reusable by the intermediate node, which can be done by either of the above.
I believe the latter would be more palatable: you pay fees, part of which is just there to prove you are not spamming the network, and which will be returned to you after a few days.
Or just provably burn the funds by sending it to a P2WSH containing `OP_RETURN &quot;ZmnSCPxj is not an AI&quot;`.

This lets us get around having to *design* a PoW, which devs have to change every few months to get around the inevitable ASIC targeting the algorithm, and just lets us reuse existing mechanisms (i.e. Bitcoin).
The same thing is used in spam prevention in defiads, for example -- the money backing an advertisement is locked, and this justifies the propagation of the advertisement as long as the money remains locked in the UTXO.

Regards,
ZmnSCPxj

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002346.html">[Lightning-dev] A proposal for up-front payments.
</A></li>
	<LI>Next message: <A HREF="002348.html">[Lightning-dev] A proposal for up-front payments.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2347">[ date ]</a>
              <a href="thread.html#2347">[ thread ]</a>
              <a href="subject.html#2347">[ subject ]</a>
              <a href="author.html#2347">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
