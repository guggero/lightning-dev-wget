<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Payment and Refund Stuck
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2015-September/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Payment%20and%20Refund%20Stuck&In-Reply-To=%3CCAMXsxZP%3DXc1NNrk4S1hX4uYX8sfeMBHB170Xz_%2Biv%2B_sQyk%2Bvg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000226.html">
   <LINK REL="Next"  HREF="000223.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Payment and Refund Stuck</H1>
    <B>Pierre</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Payment%20and%20Refund%20Stuck&In-Reply-To=%3CCAMXsxZP%3DXc1NNrk4S1hX4uYX8sfeMBHB170Xz_%2Biv%2B_sQyk%2Bvg%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Payment and Refund Stuck">pm+lists at acinq.fr
       </A><BR>
    <I>Thu Sep 24 12:13:42 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000226.html">[Lightning-dev] Payment and Refund Stuck
</A></li>
        <LI>Next message: <A HREF="000223.html">[Lightning-dev] Payment and Refund Stuck
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#222">[ date ]</a>
              <a href="thread.html#222">[ thread ]</a>
              <a href="subject.html#222">[ subject ]</a>
              <a href="author.html#222">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Mats,

I am not sure I understand what you meant, so forgive me if my answer
is a bit off topic.

Let's consider A-&gt;B-&gt;C-&gt;D-&gt;E.

The way lightning works is that A does *not* pay B, instead it locks
the corresponding funds in a contract that can end up two ways :
1) B provides a secret R which means E got the funds, and the contract
is fulfilled.
2) a timeout occurs in which case the contract is voided. So there is
no refund because the payment never actually took place.

But what you might have meant is that you are aware how this works,
but you still want a way for A to cancel the contract before the
timeout, in case A and E cooperate and C is unresponsive.

I would say this is a bit contradictory because when A signed the
initial contract, it basically acknowledged the fact that it is
willing to take the risk to have its funds locked for at most $timeout
if things go bad, right ? This is the essence of lightning after all.

That been said, I see two ways for A to reduce the timeout :
- either find a shorter path (maybe even A-&gt;E)
- or convince B/C/D to use small timeouts, maybe just a few blocks
between each node. That would reduce A's timeout to a few hours, and I
don't see why that wouldn't work. This might be the real answer to
your problem, but I am certainly missing something!

Now that I think of it, I actually don't know why the default timeout
is 1 day on the original lightning presentation, that seems really
high.

Cheers,

Pierre
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000226.html">[Lightning-dev] Payment and Refund Stuck
</A></li>
	<LI>Next message: <A HREF="000223.html">[Lightning-dev] Payment and Refund Stuck
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#222">[ date ]</a>
              <a href="thread.html#222">[ thread ]</a>
              <a href="subject.html#222">[ subject ]</a>
              <a href="author.html#222">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
