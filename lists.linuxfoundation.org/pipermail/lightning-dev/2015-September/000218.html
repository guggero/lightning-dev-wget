<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Minor protocol revisions.
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2015-September/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Minor%20protocol%20revisions.&In-Reply-To=%3C87r3lo2wsi.fsf%40rustcorp.com.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000223.html">
   <LINK REL="Next"  HREF="000220.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Minor protocol revisions.</H1>
    <B>Rusty Russell</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Minor%20protocol%20revisions.&In-Reply-To=%3C87r3lo2wsi.fsf%40rustcorp.com.au%3E"
       TITLE="[Lightning-dev] Minor protocol revisions.">rusty at rustcorp.com.au
       </A><BR>
    <I>Thu Sep 24 05:47:41 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000223.html">[Lightning-dev] Payment and Refund Stuck
</A></li>
        <LI>Next message: <A HREF="000220.html">[Lightning-dev] Minor protocol revisions.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#218">[ date ]</a>
              <a href="thread.html#218">[ thread ]</a>
              <a href="subject.html#218">[ subject ]</a>
              <a href="author.html#218">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all!

        I know everyone's been busy, but I wanted to note some
lightning.proto changes I just pushed.

1) Close now has an second ACK stage, which means you know the close ack
   has been received.
2) Minor renumbering (I avoided this while it was still thrashing).
3) HTLC rejection (eg. bad route, insufficient fees) added.
4) HTLC precision increase, ceiling drop.

The last one deserves some discussion; I floated the idea with Taj and
Joseph of allowing sub-satoshi HTLC amounts, and they concurred.
Amounts get truncated on settlement of course, but they may serve us
well in future.

As a secondary effect, 32 bits places a ceiling of 0.04 satoshi
(currently about $10USD) on each HTLC.  That's more than enough to cover
the micropayment uses of lightning, yet if you lose all your money due
to a horrible bug in the early days, I can buy you a beer and count us
about even[1].  And we can change the protocol later if it becomes
overly limiting.

Cheers,
Rusty.
[1] Please do not construe this as any form of beverage-backed warranty :)
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000223.html">[Lightning-dev] Payment and Refund Stuck
</A></li>
	<LI>Next message: <A HREF="000220.html">[Lightning-dev] Minor protocol revisions.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#218">[ date ]</a>
              <a href="thread.html#218">[ thread ]</a>
              <a href="subject.html#218">[ subject ]</a>
              <a href="author.html#218">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
