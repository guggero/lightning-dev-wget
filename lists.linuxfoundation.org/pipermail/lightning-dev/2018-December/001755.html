<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] An Argument For Single-Asset Lightning Network
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-December/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20An%20Argument%20For%20Single-Asset%20Lightning%20Network&In-Reply-To=%3C4hNCcfTPKEPizEk0j6oxKrvdz_SVKE_tRib-PqwfCQ7klJwx33Lt2iffmkeeGt5zk63oTZzJW4vx4qt7vvSo_ot6OtVTxYCLGWCL-WSvBFY%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001754.html">
   <LINK REL="Next"  HREF="001758.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] An Argument For Single-Asset Lightning Network</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20An%20Argument%20For%20Single-Asset%20Lightning%20Network&In-Reply-To=%3C4hNCcfTPKEPizEk0j6oxKrvdz_SVKE_tRib-PqwfCQ7klJwx33Lt2iffmkeeGt5zk63oTZzJW4vx4qt7vvSo_ot6OtVTxYCLGWCL-WSvBFY%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] An Argument For Single-Asset Lightning Network">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Thu Dec 27 16:01:37 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001754.html">[Lightning-dev] An Argument For Single-Asset Lightning Network
</A></li>
        <LI>Next message: <A HREF="001758.html">[Lightning-dev] An Argument For Single-Asset Lightning Network
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1755">[ date ]</a>
              <a href="thread.html#1755">[ thread ]</a>
              <a href="subject.html#1755">[ subject ]</a>
              <a href="author.html#1755">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning Alex and Will,

&gt;<i> 1. Cross-asset brokers charge a standard option premium to perform the brokerage. I can't tell if you think this is totally broken or if it's just sad. I don't understand lightning well enough to figure that out on my own - could you expand more on what effects this would have?
</I>
It is quite broken.
We assume generally that if a payment route fails, that the payer making the payment route loses nothing.

Unfortunately, once there is a premium involved for cross-asset swaps, it implies that any failures *after* the swap will now have a cost, specifically, the premium paid.
Perhaps you could inform the cross-asset broker who the ultimate payee is so it can retry failures after it on your behalf, but now the broker has the ability to censor payments to payees it does not like.

&gt;<i> 2. Cross-asset brokers require counterparties to issue them a symmetric but slightly more out-of-the-money call, which they can redeem in the event of a large FX swing. This bounds their FX losses.
</I>
I am uncertain what you mean exactly.

Do you mean, that if you make a swap on Lightning, which *might* be a Bitcoin-to-WJT American Call Option, I will refuse to forward until I also get something that is a WJT-to-Bitcoin call option, similar to a butterfly spread?
That implies that in the &quot;normal&quot;, non-American-call-option case, the payer has the target asset, which brings up the question: why would the payer even go through the cross-asset broker in a Lightning route if the payer already has the target asset?


&gt;<i> There&#8217;s another potential partial solution here if we can create some cryptographic protocol for atomically swapping information. This would be used to swap the final HTLC sig for the hash preimage, preventing the optionality issue. This idea was inspired by a paper called &#8220;Timed Commitments&#8221; by Dan Boneh&#160;
</I>&gt;<i> (<A HREF="https://www.iacr.org/archive/crypto2000/18800237/18800237.pdf">https://www.iacr.org/archive/crypto2000/18800237/18800237.pdf</A>).&#160;
</I>&gt;<i>
</I>&gt;<i> The high level idea is that each party swaps a commitment to the information they want to atomically swap and then slowly reveal verifiable &#8220;hints&#8221; that make it easier and easier to brute force the commitment. Each party takes turns revealing a hint.&#160;
</I>&gt;<i>
</I>&gt;<i> The protocol to do something like this in lightning doesn&#8217;t exist afaik but it seems feasible. This also may fail to work when there are intermediary nodes not controlled by the two trading parties.&#160;
</I>
The entire point of using HTLCs in Lightning routing is to enforce that the final payee actually gets paid, or nobody along the route gets paid.
&gt;<i>From my understanding of this, if this is used, then an intermediate node can try to brute force the preimage instead of actually bothering to forward payments or hints.
</I>
Regards,
ZmnSCPxj
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001754.html">[Lightning-dev] An Argument For Single-Asset Lightning Network
</A></li>
	<LI>Next message: <A HREF="001758.html">[Lightning-dev] An Argument For Single-Asset Lightning Network
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1755">[ date ]</a>
              <a href="thread.html#1755">[ thread ]</a>
              <a href="subject.html#1755">[ subject ]</a>
              <a href="author.html#1755">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
