<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] SPSP: Simple Protocol for Spontaneous Payments
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-June/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20SPSP%3A%20Simple%20Protocol%20for%20Spontaneous%20Payments&In-Reply-To=%3C1530129371.7954.3.camel%40ultimatestunts.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001325.html">
   <LINK REL="Next"  HREF="001327.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] SPSP: Simple Protocol for Spontaneous Payments</H1>
    <B>CJP</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20SPSP%3A%20Simple%20Protocol%20for%20Spontaneous%20Payments&In-Reply-To=%3C1530129371.7954.3.camel%40ultimatestunts.nl%3E"
       TITLE="[Lightning-dev] SPSP: Simple Protocol for Spontaneous Payments">cjp at ultimatestunts.nl
       </A><BR>
    <I>Wed Jun 27 19:56:11 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001325.html">[Lightning-dev] Including a Protocol for splicing to BOLT
</A></li>
        <LI>Next message: <A HREF="001327.html">[Lightning-dev] SPSP: Simple Protocol for Spontaneous Payments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1326">[ date ]</a>
              <a href="thread.html#1326">[ thread ]</a>
              <a href="subject.html#1326">[ subject ]</a>
              <a href="author.html#1326">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Currently, in Lightning, you need to get an invoice from the receiver
to be able to send a payment. But what if you want to do a payment
spontaneously, e.g. as a gift? I just realized this use case can be met
in quite a simple way.

You simply route the payment to the receiver's Lightning node (so you
do need to know the node ID). The routing message to the receiver's
node is of a special form, and includes the preimage. It might also
contain some (small!) other data: maybe the hash of a signed
description?

Anyway, if the receiver's node recognizes this routing message format,
it can then use the preimage to finish the transaction. It may also
cancel the transaction instead, if the node owner doesn't want to
receive unsolicited money.

The fun thing is, none of the intermediate nodes can use the preimage
to steal funds, since the routing data is encrypted.

I do realize that spontaneous payments can also be done with a &quot;payment
to self&quot; that just happens to give a very large fee to a particular
intermediate node. The new protocol has the advantages that it doesn't
need the second half of the route (back to self), it is clear to the
receiving node that this is in fact intended as a payment, and you may
be able to include a small message.

CJP

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001325.html">[Lightning-dev] Including a Protocol for splicing to BOLT
</A></li>
	<LI>Next message: <A HREF="001327.html">[Lightning-dev] SPSP: Simple Protocol for Spontaneous Payments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1326">[ date ]</a>
              <a href="thread.html#1326">[ thread ]</a>
              <a href="subject.html#1326">[ subject ]</a>
              <a href="author.html#1326">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
