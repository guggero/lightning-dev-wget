<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] [bitcoin-dev] eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-June/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20%5Bbitcoin-dev%5D%20eltoo%3A%20A%20Simplified%20update%0A%20Mechanism%20for%20Lightning%20and%20Off-Chain%20Contracts&In-Reply-To=%3C20180619180251.j4l3zvxfmwi5mwlb%40email%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001311.html">
   <LINK REL="Next"  HREF="001313.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] [bitcoin-dev] eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts</H1>
    <B>David A. Harding</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20%5Bbitcoin-dev%5D%20eltoo%3A%20A%20Simplified%20update%0A%20Mechanism%20for%20Lightning%20and%20Off-Chain%20Contracts&In-Reply-To=%3C20180619180251.j4l3zvxfmwi5mwlb%40email%3E"
       TITLE="[Lightning-dev] [bitcoin-dev] eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts">dave at dtrt.org
       </A><BR>
    <I>Tue Jun 19 18:02:51 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001311.html">[Lightning-dev] [bitcoin-dev] eltoo: A Simplified update	Mechanism for Lightning and Off-Chain Contracts
</A></li>
        <LI>Next message: <A HREF="001313.html">[Lightning-dev] [bitcoin-dev] eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1312">[ date ]</a>
              <a href="thread.html#1312">[ thread ]</a>
              <a href="subject.html#1312">[ subject ]</a>
              <a href="author.html#1312">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Jun 19, 2018 at 04:46:32PM +0200, Christian Decker wrote:
&gt;<i> That is true, we can't prevent S_2 to make it into the blockchain, but
</I>&gt;<i> we can make sure it doesn't have any effect (aside from wasting some
</I>&gt;<i> fees), by simply binding S_3 to it immediately afterwards. 
</I>
Right, but I'm picking on the phrasing in the paper here, which seems to
imply that once the final settlement transaction enters the mempool with
a reasonable fee, its confirmation---and the safe close of the
channel---is &quot;certain.&quot;  I don't think that's the case and I think the
phrasing might be accidentally misleading to readers who don't have a
good grasp of mempool behavior.

&gt;<i> It should be noted that anyone can perform the rewriting, and it's easy
</I>&gt;<i> to do so, by just following the funding output and knowing the final
</I>&gt;<i> update.
</I>
Anyone can rewrite a SIGHASH_NOINPUT input's outpoint, but the actual
transaction containing the settlement is expected to have (at least) two
inputs, with the second one originating the fees.  That second input's
signature is (I assume) using SIGHASH_ALL to commit to all outpoints in
the transaction, so it can't be arbitrarily rewritten by a third-party
to apply to a different state outpoint---and so I think we're dependent
on a motivated person (e.g. one of the channel participants) performing
the rewrite so that the rewritten final settlement transaction pays
fees.

Thanks,

-Dave
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180619/7bde3561/attachment.sig">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180619/7bde3561/attachment.sig</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001311.html">[Lightning-dev] [bitcoin-dev] eltoo: A Simplified update	Mechanism for Lightning and Off-Chain Contracts
</A></li>
	<LI>Next message: <A HREF="001313.html">[Lightning-dev] [bitcoin-dev] eltoo: A Simplified update Mechanism for Lightning and Off-Chain Contracts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1312">[ date ]</a>
              <a href="thread.html#1312">[ thread ]</a>
              <a href="subject.html#1312">[ subject ]</a>
              <a href="author.html#1312">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
