<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Payment sender authentication
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-December/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Payment%20sender%20authentication&In-Reply-To=%3CCAEjd%3Drrh1F3R-1wH%3DjbhbqoWRfCuA_Djd7b5h97Ncz%2BYMj4CbA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003431.html">
   <LINK REL="Next"  HREF="003428.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Payment sender authentication</H1>
    <B>fiatjaf</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Payment%20sender%20authentication&In-Reply-To=%3CCAEjd%3Drrh1F3R-1wH%3DjbhbqoWRfCuA_Djd7b5h97Ncz%2BYMj4CbA%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Payment sender authentication">fiatjaf at gmail.com
       </A><BR>
    <I>Mon Dec 20 16:06:41 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="003431.html">[Lightning-dev] Payment sender authentication
</A></li>
        <LI>Next message: <A HREF="003428.html">[Lightning-dev] Payment sender authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3432">[ date ]</a>
              <a href="thread.html#3432">[ thread ]</a>
              <a href="subject.html#3432">[ subject ]</a>
              <a href="author.html#3432">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Joost,

On Mon, Dec 20, 2021 at 5:02 AM Joost Jager &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">joost.jager at gmail.com</A>&gt; wrote:

&gt;<i> Hi fiatjaf and peter,
</I>&gt;<i>
</I>&gt;<i> On Sat, Dec 18, 2021 at 2:08 PM fiatjaf &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">fiatjaf at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> As a temporary solution, I suggest taking a look at
</I>&gt;&gt;<i> <A HREF="https://github.com/fiatjaf/lnurl-rfc/blob/luds/18.md.">https://github.com/fiatjaf/lnurl-rfc/blob/luds/18.md.</A> The idea is that
</I>&gt;&gt;<i> you can either provide
</I>&gt;&gt;<i>  - a lone pubkey (to be used for manually identifying the payer later if
</I>&gt;&gt;<i> necessary);
</I>&gt;&gt;<i>  - a domain-specific pubkey along with a signature of a challenge
</I>&gt;&gt;<i> provided by the receiver; or
</I>&gt;&gt;<i>  - an unauthenticated name or email (for light things like donations for
</I>&gt;&gt;<i> which one may not care very much about cryptographic authentication).
</I>&gt;&gt;<i> And then you commit these things, whatever they are, inside the BOLT11
</I>&gt;&gt;<i> payment request using the 'h' tag.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Interesting read. I see it uses a signature, but is that a good idea? It
</I>&gt;<i> could allow the receiver to prove to a 3rd party that the payment was made.
</I>&gt;<i> I guess it depends on the application if that is desired or not. The more
</I>&gt;<i> privacy conscious users would probably try to avoid committing to data via
</I>&gt;<i> a signature.
</I>&gt;<i>
</I>
Just to clarify:

For the lone pubkey method there are no privacy implications I think, since
it's just a random pubkey and can be used later only if needed in some
custom way.

For the signature method the privacy implications are close to none (unless
I'm missing something) because the key used to sign is (supposed to be)
generated by a method that makes it specific to the DNS domain of the
service being paid. Since this assumes an LNURL request that has a domain,
the key will be generated with something like `HMAC(domain, seed_key)` (the
specifics don't matter) so it will not be possible for anyone to relate
that signature to anyone. Only the receiver service will be able to relate
it to other payments (or logins) to that same exact service -- which can
prove quite handy in many cases.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20211220/d98a888e/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20211220/d98a888e/attachment.html</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003431.html">[Lightning-dev] Payment sender authentication
</A></li>
	<LI>Next message: <A HREF="003428.html">[Lightning-dev] Payment sender authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3432">[ date ]</a>
              <a href="thread.html#3432">[ thread ]</a>
              <a href="subject.html#3432">[ subject ]</a>
              <a href="author.html#3432">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
