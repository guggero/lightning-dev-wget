<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] BOLTs and meaning of &quot;MUST&quot; in potentially adversarial contexts
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-January/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20BOLTs%20and%20meaning%20of%20%22MUST%22%20in%20potentially%0A%20adversarial%20contexts&In-Reply-To=%3CCANVuFb1mudO09u5_m82xMJLvRns%2BqLpw5uPQrw6KjH1%2BVkbP7g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000936.html">
   <LINK REL="Next"  HREF="000948.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] BOLTs and meaning of &quot;MUST&quot; in potentially adversarial contexts</H1>
    <B>Benjamin Mord</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20BOLTs%20and%20meaning%20of%20%22MUST%22%20in%20potentially%0A%20adversarial%20contexts&In-Reply-To=%3CCANVuFb1mudO09u5_m82xMJLvRns%2BqLpw5uPQrw6KjH1%2BVkbP7g%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] BOLTs and meaning of &quot;MUST&quot; in potentially adversarial contexts">ben at mord.io
       </A><BR>
    <I>Tue Jan 16 14:37:25 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="000936.html">[Lightning-dev] BOLTs and meaning of &quot;MUST&quot; in	potentially	adversarial contexts
</A></li>
        <LI>Next message: <A HREF="000948.html">[Lightning-dev] BOLTs and meaning of &quot;MUST&quot; in potentially	adversarial contexts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#937">[ date ]</a>
              <a href="thread.html#937">[ thread ]</a>
              <a href="subject.html#937">[ subject ]</a>
              <a href="author.html#937">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>With all due respect to Bradner, RFC 2119 (written in 1997) is harmful to
lightning and to cryptocurrency protocols more broadly. As was the
prevailing mindset at the time, RFC 2119 is for a world of good guys and
(if we're feeling diligent) bad guys, where good guys try to communicate
despite presence of bad guys who would spoil the fun. The intended endpoint
of your communication would never itself be a bad guy - why would you
knowingly communicate with a bad guy?

But Satoshi was less naive, and considered every node as pursuing self
interest alone. Rather than good guys and bad guys, we have lots of selfish
guys playing the game (and also selfish guys trying to destroy the game).
The lightning concept itself embraces this idea also at the very abstract
level, so the navel-gazing we MUST take on now is simply the task of
carrying that philosophy through into the byte-level details and how we
sell those details to programmers. RFC 2119 is harmful both for what it
says and what it does not say. The harm in what it says is illustrated by
this example - one of several (emphasis mine):
   &quot;In particular, they MUST only be used where it is
   actually required for interoperation or to limit behavior *which has*
*   potential for causing harm* (e.g., limiting retransmisssions)&quot;

(Another example is where it limits what sort of behavior implementers
ought to prepare for in their peers.)

When someone violates a MUST, what shall we do? Throw them in jail? Say
nasty things behind their backs? No, cryptocurrency protocol specifications
are 100% advisory - a cleverly devised system where we can sincerely sell
the implementer that it will be in their individual best interest to do
highly specific things which have been arranged to also accrue to the
collective benefit. Use of MUST (in RFC 2119 sense) invites lazy thought in
the protocol design itself, where details need not be sold as beneficial to
individuals. We should say, there is no RFC 2119 MUST - there is only self
interest.

Another way to view it: a protocol spec attempts to program the
programmers. But unlike computers, people don't always do what you ask
simply because you asked. Every detail must therefore be sold, as there is
no other source of authority at our disposal. RFC 2119 assumes an intrinsic
authority that simply does not exist here. We must arrange for that to be
OK - not only at an abstract level, but at a detailed one also.


On Mon, Jan 15, 2018 at 7:01 PM, Rusty Russell &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">rusty at rustcorp.com.au</A>&gt;
wrote:

&gt;<i> Benjamin Mord &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">ben at mord.io</A>&gt; writes:
</I>&gt;<i> &gt; One thing I find useful in RFCs is a brief discussion about the meaning
</I>&gt;<i> of
</I>&gt;<i> &gt; terms like MUST, SHOULD, MAY, etc.. as used in the subsequent protocol
</I>&gt;<i> &gt; definition.
</I>&gt;<i>
</I>&gt;<i> Hi Benjamin!
</I>&gt;<i>
</I>&gt;<i>         Weird, I always find them kinda useless.  RFC2119 pretty much
</I>&gt;<i> covers it.
</I>&gt;<i>
</I>&gt;<i> &gt; When a BOLT says that a lightning node MUST do some X, what does that
</I>&gt;<i> mean
</I>&gt;<i> &gt; exactly? I'm thinking it means we should stigmatize it as &quot;non-compliant&quot;
</I>&gt;<i> &gt; with protocol consensus as documented in BOLTs, whenever we discuss the
</I>&gt;<i> &gt; implementation. I think violation of a MUST should be considered
</I>&gt;<i> hostile. I
</I>&gt;<i> &gt; think a MUST encourages nodes to fail a channel or connection upon
</I>&gt;<i> &gt; observing a violation of that MUST, and even to take
</I>&gt;<i> &gt; implementation-specific defensive measures as deemed appropriate by
</I>&gt;<i> &gt; implementers (so long as they have cryptographic evidence that the
</I>&gt;<i> &gt; violation is not forged). But in no way does a MUST assure implementers
</I>&gt;<i> &gt; that they may assume this MUST will be respected by remote nodes, as it
</I>&gt;<i> is
</I>&gt;<i> &gt; not the purpose of MUST to convey that cryptographic safeguards or such
</I>&gt;<i> &gt; elsewhere in the protocol design have arranged to force adherence..
</I>&gt;<i>
</I>&gt;<i> This is why we attempt to divide requirements into sender and receiver.
</I>&gt;<i> For example, this is an absolute unchangable protocol requirement:
</I>&gt;<i>
</I>&gt;<i>         Sender MUST set X.
</I>&gt;<i>         Receiver MUST close channel if X is not set.
</I>&gt;<i>
</I>&gt;<i> or:
</I>&gt;<i>         Sender MUST set X.
</I>&gt;<i>         If X is set, Receiver MUST ...
</I>&gt;<i>
</I>&gt;<i> The latter implies that future versions of the spec may have senders not
</I>&gt;<i> setting X.
</I>&gt;<i>
</I>&gt;<i> I thought about writing a BOLT on how to write BOLTs, but it would
</I>&gt;<i> doubtless come across as inane navel-gazing.
</I>&gt;<i>
</I>&gt;<i> Note also that the spec does not live up to this property in all places,
</I>&gt;<i> but we bugfix where we find that.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Rusty.
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180116/9a13eedb/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180116/9a13eedb/attachment.html</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000936.html">[Lightning-dev] BOLTs and meaning of &quot;MUST&quot; in	potentially	adversarial contexts
</A></li>
	<LI>Next message: <A HREF="000948.html">[Lightning-dev] BOLTs and meaning of &quot;MUST&quot; in potentially	adversarial contexts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#937">[ date ]</a>
              <a href="thread.html#937">[ thread ]</a>
              <a href="subject.html#937">[ subject ]</a>
              <a href="author.html#937">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
