<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] [1.1] Proposed `funding_cancelled` message
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-January/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20%5B1.1%5D%20Proposed%20%60funding_cancelled%60%20message&In-Reply-To=%3C010701d392b7%2474191e30%245c4b5a90%24%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000960.html">
   <LINK REL="Next"  HREF="000957.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] [1.1] Proposed `funding_cancelled` message</H1>
    <B>7riw77 at gmail.com</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20%5B1.1%5D%20Proposed%20%60funding_cancelled%60%20message&In-Reply-To=%3C010701d392b7%2474191e30%245c4b5a90%24%40gmail.com%3E"
       TITLE="[Lightning-dev] [1.1] Proposed `funding_cancelled` message">7riw77 at gmail.com
       </A><BR>
    <I>Sun Jan 21 12:57:32 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="000960.html">[Lightning-dev] How to use LN
</A></li>
        <LI>Next message: <A HREF="000957.html">[Lightning-dev] [1.1] Proposed `funding_cancelled` message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#956">[ date ]</a>
              <a href="thread.html#956">[ thread ]</a>
              <a href="subject.html#956">[ subject ]</a>
              <a href="author.html#956">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> Yes, but it still limits how much damage each peer can do to the node.
</I>&gt;<i> And I think you overstate the ease of distributed denial of service attacks,
</I>&gt;<i> and the relative resource consumption differences on an attacker simulating
</I>&gt;<i> multiple nodes versus one simulating a single node.
</I>
So assume the following situation: Someone has gotten a &quot;bum deal&quot; on their pizza (or thinks they have), and they want to take down their pizza provider. They note the lightning node the pizza provider uses happens to be some particular address, so they hire out a 10k node botnet (rather small in the real world), and ask each bot to open as many transactions as possible, as fast as possible, without completing any of them, with the ip address of the node in question. The server eventually says &quot;I'm not accepting any more connections, because I have too many outstanding connections right now,&quot; which effectively takes it off line for new transactions, blocking anyone who uses that node from any sort of transaction. How long can this last? So long as the botnet continues asking for new connections. 

There are ways around this on the network side -- specifically using anycast, like DNS does, to spread the attack around -- but I'm not certain anycast would work in this case because of the state issues involved in lightning. 

When I was at Verisign, we figured a 100g link was enough to block any sort of DDoS against the DNS root servers. The attack against Krebs shows just how silly this line of thinking is today. 

There is no perfect defense, but it might be useful to think about these things, and how to solve them, now, rather than once they happen, particularly when the trust of the overall network is in play. This might mean several things, such as --

1. The closer you can come to stateless on the server side during session setup, before you know the request is going to be followed through/is legitimate, the less chance this sort of thing will happen
2. The more you have the ability to shift a transaction from one server to another without losing some essential state, the more a network of devices can be designed to handle such problems

There may be other solutions, as well; just throwing some ideas out there.

&#128522; /r 


</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000960.html">[Lightning-dev] How to use LN
</A></li>
	<LI>Next message: <A HREF="000957.html">[Lightning-dev] [1.1] Proposed `funding_cancelled` message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#956">[ date ]</a>
              <a href="thread.html#956">[ thread ]</a>
              <a href="subject.html#956">[ subject ]</a>
              <a href="author.html#956">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
