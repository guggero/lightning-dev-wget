<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] lightning operation during / following a chain	fork (e.g. BIP 50)
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-January/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20lightning%20operation%20during%20/%20following%20a%20chain%0A%09fork%20%28e.g.%20BIP%2050%29&In-Reply-To=%3C6Q40l0m3BQ68EQcQ26nDVz-NeQcA-ycp5N-GdO6CPCcWkESMR-ZRM86365AgRwBEieRrAzgDX8-cTfSkWxYP9RqGP6zxoWNn0naEAAD0iUo%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000962.html">
   <LINK REL="Next"  HREF="000968.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] lightning operation during / following a chain	fork (e.g. BIP 50)</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20lightning%20operation%20during%20/%20following%20a%20chain%0A%09fork%20%28e.g.%20BIP%2050%29&In-Reply-To=%3C6Q40l0m3BQ68EQcQ26nDVz-NeQcA-ycp5N-GdO6CPCcWkESMR-ZRM86365AgRwBEieRrAzgDX8-cTfSkWxYP9RqGP6zxoWNn0naEAAD0iUo%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] lightning operation during / following a chain	fork (e.g. BIP 50)">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Tue Jan 30 06:16:02 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="000962.html">[Lightning-dev] lightning operation during / following a chain fork	(e.g. BIP 50)
</A></li>
        <LI>Next message: <A HREF="000968.html">[Lightning-dev] lightning operation during / following a chain fork (e.g. BIP 50)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#967">[ date ]</a>
              <a href="thread.html#967">[ thread ]</a>
              <a href="subject.html#967">[ subject ]</a>
              <a href="author.html#967">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning Ben,

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> One topic I can't seem to find in the BOLTs is how lightning nodes maintain consensus during or after a fork of the underlying blockchain(s). For example, channel_announcement messages use a chain_hash, defined as hash of underlying block chain's genesis block, to identify the currency in use. Today, one might ask which hash identifies BTC as opposed to BCH?
</I>
I believe the rough consensus among most Lightning developers is that BTC is &quot;the real BTC&quot; and gets the Satoshi genesis hash, while BCH is an altcoin that was forked off BTC and gets as hash the branching-off point.  You could try to convince people developing and using Lightning software to do the reverse, but I think it is unlikely that many people would agree to that.

&gt;<i> A more difficult question arises in how existing channels handle intentional forks which arise after funding of a payment channel.
</I>&gt;<i>
</I>&gt;<i> An even more difficult question arises in the handling of unintentional forks, as documented for example in BIP 50.
</I>&gt;<i>
</I>&gt;<i> Have these scenarios been analyzed / designed yet, or does that work remain?
</I>
The work remains.  For the most part, the priority is to get implementations to a state, where we can safely deploy on Bitcoin Mainnet.  Then optimize further by adding RBF and multi-channel funding, then integrate Burchert-Decker-Wattenhofer channel factories, splicing, and so on.  Greater support for altcoins can be done later.

For forked altcoins, short channel IDs contain the block height at which the funding transaction confirmed.  This might be used to judge if a channel contains forked coins or not.

Regards,
ZmnSCPxj

&gt;<i> Thanks!
</I>&gt;<i> Ben
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180130/6b952288/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180130/6b952288/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000962.html">[Lightning-dev] lightning operation during / following a chain fork	(e.g. BIP 50)
</A></li>
	<LI>Next message: <A HREF="000968.html">[Lightning-dev] lightning operation during / following a chain fork (e.g. BIP 50)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#967">[ date ]</a>
              <a href="thread.html#967">[ thread ]</a>
              <a href="subject.html#967">[ subject ]</a>
              <a href="author.html#967">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
