<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Onion routing strawman proposal
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2015-October/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Onion%20routing%20strawman%20proposal&In-Reply-To=%3C87r3l8n4x0.fsf%40rustcorp.com.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000253.html">
   <LINK REL="Next"  HREF="000255.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Onion routing strawman proposal</H1>
    <B>Rusty Russell</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Onion%20routing%20strawman%20proposal&In-Reply-To=%3C87r3l8n4x0.fsf%40rustcorp.com.au%3E"
       TITLE="[Lightning-dev] Onion routing strawman proposal">rusty at rustcorp.com.au
       </A><BR>
    <I>Tue Oct  6 01:48:11 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000253.html">[Lightning-dev] Onion routing strawman proposal
</A></li>
        <LI>Next message: <A HREF="000255.html">[Lightning-dev] Onion routing strawman proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#254">[ date ]</a>
              <a href="thread.html#254">[ thread ]</a>
              <a href="subject.html#254">[ subject ]</a>
              <a href="author.html#254">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Anthony Towns &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">aj at erisian.com.au</A>&gt; writes:
&gt;<i> On Fri, Oct 02, 2015 at 03:18:39PM +0930, Rusty Russell wrote:
</I>&gt;<i> Question:
</I>&gt;<i>
</I>&gt;<i>  - I think this means lightning nodes are identified by the
</I>&gt;<i>    full 512 bit (or 257 bit?) public key used for routing -- (ie,
</I>&gt;<i>    knowing the HASH160 of the pubkey isn't enough, unlike in normal
</I>&gt;<i>    bitcoin pay2pubkey transactions).
</I>
Yes, since you need to encrypt to it, you need the full pubkey.

&gt;<i>  - I think you can still use different keys for routing and
</I>&gt;<i>    anchors/commitments so far. (Using the anchor transaction to turn
</I>&gt;<i>    your routing id into a beacon would probably change that though)
</I>
Yes, that's still TBD.

&gt;<i>From the other email:
</I>
&gt;<i>   - AES128 just uses the first half of the calculated enckey, iv and
</I>&gt;<i>     pad_iv
</I>
True.

&gt;<i>  - since libsecp256k1 already sha256s the ecdh secret; the hmac/enckey/etc
</I>&gt;<i>    end up being sha256'ed twice (with a byte added in between). confused
</I>&gt;<i>    me for a minute.
</I>
I didn't notice that.  Perhaps this is somewhere we should optimize?

Cheers,
Rusty.
PS.  Message size of 128 bytes is completely made up, as is 20 hops.  We
     might want to reduce to 96 or 64 bytes.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000253.html">[Lightning-dev] Onion routing strawman proposal
</A></li>
	<LI>Next message: <A HREF="000255.html">[Lightning-dev] Onion routing strawman proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#254">[ date ]</a>
              <a href="thread.html#254">[ thread ]</a>
              <a href="subject.html#254">[ subject ]</a>
              <a href="author.html#254">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
