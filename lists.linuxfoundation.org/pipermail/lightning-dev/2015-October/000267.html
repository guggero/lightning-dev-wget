<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Preventing MITM - Providing new nodes with real pubkeys
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2015-October/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Preventing%20MITM%20-%20Providing%20new%20nodes%20with%20real%0A%20pubkeys&In-Reply-To=%3C20151016234747.GB22262%40navy%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000264.html">
   <LINK REL="Next"  HREF="000268.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Preventing MITM - Providing new nodes with real pubkeys</H1>
    <B>Anthony Towns</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Preventing%20MITM%20-%20Providing%20new%20nodes%20with%20real%0A%20pubkeys&In-Reply-To=%3C20151016234747.GB22262%40navy%3E"
       TITLE="[Lightning-dev] Preventing MITM - Providing new nodes with real pubkeys">aj at erisian.com.au
       </A><BR>
    <I>Fri Oct 16 23:47:47 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000264.html">[Lightning-dev] Preventing MITM - Providing new nodes with real	pubkeys
</A></li>
        <LI>Next message: <A HREF="000268.html">[Lightning-dev] Preventing MITM - Providing new nodes with real	pubkeys
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#267">[ date ]</a>
              <a href="thread.html#267">[ thread ]</a>
              <a href="subject.html#267">[ subject ]</a>
              <a href="author.html#267">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Oct 17, 2015 at 07:20:30AM +1030, Rusty Russell wrote:
&gt;<i>         KEYA KEYB NODE-PUBKEYA NODE-PUBKEYB TXID DUAL-SIGNATURE
</I>
AFAICS, to have a lightning channel between NODE-A and NODE-B, you just
have to have a way for those two people to be comfortable writing IOUs
to each other. HTLCs and commitments spending anchor transactions on
the blockchain is one way to do this, but you could also do it on a
pegged sidechain, or, if the two parties trusted each other, you could
do it with literal IOUs written on bits of paper. I'm not sure we want
to block people from doing those things?

Also, if you're only doing dual-signature, not quad-signature, I think
it's open to creating fake edges in the routing graph: ie, I make up to
keys AJ1 and AJ2, and publish a multisig transaction in the blockchain,
then claim there's a route between RUSTY and MATS by publishing

    AJ1 AJ2 RUSTY MATS TX &lt;SIG:AJ1 AJ2&gt;

Then when Alice wants to route to Bob, she decides to use that edge, and
her transaction fails because it doesn't exist.

(If you just sign with RUSTY and MATS, obviously you can claim to have
a route just by referencing any multisig transaction that you know the
pubkeys of)

&gt;<i> &gt; For 100k nodes and 10 open channels per node,
</I>&gt;<i> &gt; this adds up to 220MB. [...]
</I>&gt;<i> Also, once a node is live, I'm not sure how much of the map it will need
</I>&gt;<i> to keep.  It might be able to prune distant parts of the map randomly,
</I>&gt;<i> and get it back from the rest of the network if needed?  Requires more
</I>&gt;<i> thought, though.
</I>
Well, we could not worry about it until there are &gt;10k nodes; and then
we'd have actual data as well?

Cheers,
aj

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000264.html">[Lightning-dev] Preventing MITM - Providing new nodes with real	pubkeys
</A></li>
	<LI>Next message: <A HREF="000268.html">[Lightning-dev] Preventing MITM - Providing new nodes with real	pubkeys
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#267">[ date ]</a>
              <a href="thread.html#267">[ thread ]</a>
              <a href="subject.html#267">[ subject ]</a>
              <a href="author.html#267">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
