<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Preventing MITM - Providing new nodes with real	pubkeys
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2015-October/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Preventing%20MITM%20-%20Providing%20new%20nodes%20with%20real%0A%09pubkeys&In-Reply-To=%3CCAE8CtVnWb5210-PHzKxpVdyKM%3Db4c1nWhdciHLU-qAakUrfSMw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000266.html">
   <LINK REL="Next"  HREF="000270.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Preventing MITM - Providing new nodes with real	pubkeys</H1>
    <B>Mats Jerratsch</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Preventing%20MITM%20-%20Providing%20new%20nodes%20with%20real%0A%09pubkeys&In-Reply-To=%3CCAE8CtVnWb5210-PHzKxpVdyKM%3Db4c1nWhdciHLU-qAakUrfSMw%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Preventing MITM - Providing new nodes with real	pubkeys">matsjj at gmail.com
       </A><BR>
    <I>Sun Oct 18 11:25:29 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000266.html">[Lightning-dev] Preventing MITM - Providing new nodes with real pubkeys
</A></li>
        <LI>Next message: <A HREF="000270.html">[Lightning-dev] Preventing MITM - Providing new nodes with real pubkeys
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#269">[ date ]</a>
              <a href="thread.html#269">[ thread ]</a>
              <a href="subject.html#269">[ subject ]</a>
              <a href="author.html#269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> It only works if you actually setup a channel, though -- so you have to
</I>&gt;<i> lock some money into the channel for however many confirmations until
</I>&gt;<i> the channel activates, before you can test, plus the OP_CSV delay if
</I>&gt;<i> the test fails.
</I>
And there's the catch. If an attacker achieves nodes opening up
channels with him, he already succeeded in vandalism. Furthermore, an
attacker can always play by the rules and forward all payments up to
one point where he stops. And even worse, if everyone connect to his
nodes, he can relay all payments, but he is able to distinctively
identify payee and payers, even with onion routing.

&gt;<i> [1] Hmm, does forwarding 1 satoshi (2.6 10,000ths of a cent) make
</I>&gt;<i>     sense, or would the CPU cycles cost more than the fees you'd make?
</I>&gt;<i>     How much does it cost to forward a transaction? In python on my
</I>&gt;<i>     laptop, I get about 1000 ECDH operations per second in python, and
</I>&gt;<i>     290k AES ops over a 3kB onion per second, and about 77k SHA256 ops
</I>&gt;<i>     per second. So just counting elliptic ops, forwarding a transaction
</I>&gt;<i>     requires three ops: an ECDH on the onion message, and an ECDSA on
</I>&gt;<i>     the commitment transaction to add the HTLC, and another sometime
</I>&gt;<i>     later to remove it.  So say 1/350th of a CPU-second. My linode costs
</I>&gt;<i>     3c/hour and seems to be about half as fast on the SHA256 test, but
</I>&gt;<i>     gives me two CPUs which evens it out. So so 3/60/60/350 cents is
</I>&gt;<i>     about the cost of forwarding a single transaction, which is about
</I>&gt;<i>     2.4e-8 dollars, which is currently about 9.1e-11 bitcoin, which
</I>&gt;<i>     is 0.0091 satoshi. Conveniently lightning balances are denominated
</I>&gt;<i>     in millisatoshi, so as long as yours increases by 9 or 10, you're
</I>&gt;<i>     doing fine. 10 millisatoshi is 1% of 1 satoshi, so that seems like
</I>&gt;<i>     the right order of magnitude.
</I>
Interesting math, thank you for that!
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000266.html">[Lightning-dev] Preventing MITM - Providing new nodes with real pubkeys
</A></li>
	<LI>Next message: <A HREF="000270.html">[Lightning-dev] Preventing MITM - Providing new nodes with real pubkeys
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#269">[ date ]</a>
              <a href="thread.html#269">[ thread ]</a>
              <a href="subject.html#269">[ subject ]</a>
              <a href="author.html#269">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
