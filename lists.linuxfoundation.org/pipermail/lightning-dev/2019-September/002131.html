<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] eltoo implementation in Bitcoin functional test	framework
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-September/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20eltoo%20implementation%20in%20Bitcoin%20functional%20test%0A%09framework&In-Reply-To=%3CCACJVCgKsEZQ7wDC-jQk7h8b%2B9GwAmoH8e6sjm9aoJ%3DBrhqsgYA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="002132.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] eltoo implementation in Bitcoin functional test	framework</H1>
    <B>Richard Myers</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20eltoo%20implementation%20in%20Bitcoin%20functional%20test%0A%09framework&In-Reply-To=%3CCACJVCgKsEZQ7wDC-jQk7h8b%2B9GwAmoH8e6sjm9aoJ%3DBrhqsgYA%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] eltoo implementation in Bitcoin functional test	framework">rich at gotenna.com
       </A><BR>
    <I>Wed Sep  4 11:19:49 UTC 2019</I>
    <P><UL>
        
        <LI>Next message: <A HREF="002132.html">[Lightning-dev] eltoo implementation in Bitcoin functional test	framework
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2131">[ date ]</a>
              <a href="thread.html#2131">[ thread ]</a>
              <a href="subject.html#2131">[ subject ]</a>
              <a href="author.html#2131">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

To better understand how the eltoo update scheme (
<A HREF="https://blockstream.com/eltoo.pdf">https://blockstream.com/eltoo.pdf</A> ) works in practice I implemented eltoo
in the Bitcoin functional test framework. These simulations exercise a
concrete implementation of the eltoo Bitcoin scripts and explore the data
flow between nodes that use eltoo to update their channel state.

My motivation for creating these tests is to have a framework for both
understanding and refining the Bitcoin scripts and message passing protocol
for eltoo. I&#8217;d love to hear what people think of my initial implementation.

This simulation uses a fork of Bitcoin with cdecker&#8217;s SIGHASH_NOINPUT patch
applied to the signet2 fork fjahr created with patches applied for signet
(kallewoof), taproot (sipa) and anyprevout* (ajtowns).

<A HREF="https://github.com/remyers/signet2/blob/eltoo/test/functional/simulate_eltoo.py">https://github.com/remyers/signet2/blob/eltoo/test/functional/simulate_eltoo.py</A>

Next steps:

   -

   add bidirectional channel updates
   -

   derive public keys for settle transactions from a pre-shared basepoint


Does anyone know of any other eltoo implementations? I&#8217;d love to compare
notes and get the ball rolling on a detailed specification.

Special thanks to the Chaincode Summer Residency and Christian Decker for
their helpful advice and encouragement while I worked on this project.

  -- Richard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20190904/332d1310/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20190904/332d1310/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="002132.html">[Lightning-dev] eltoo implementation in Bitcoin functional test	framework
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2131">[ date ]</a>
              <a href="thread.html#2131">[ thread ]</a>
              <a href="subject.html#2131">[ subject ]</a>
              <a href="author.html#2131">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
