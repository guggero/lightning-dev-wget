<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Lightning over NFC
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-April/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Lightning%20over%20NFC&In-Reply-To=%3CCAJx8jdzSs2K-%2BEA6kaYJQAbFEWFXDWDyvWw7ScCzo3N-kJOxDg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001131.html">
   <LINK REL="Next"  HREF="001133.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Lightning over NFC</H1>
    <B>Igor Cota</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Lightning%20over%20NFC&In-Reply-To=%3CCAJx8jdzSs2K-%2BEA6kaYJQAbFEWFXDWDyvWw7ScCzo3N-kJOxDg%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Lightning over NFC">igor at codexapertus.com
       </A><BR>
    <I>Thu Apr  5 09:46:32 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001131.html">[Lightning-dev] De geschiedenis van Lightning
</A></li>
        <LI>Next message: <A HREF="001133.html">[Lightning-dev] Lightning over NFC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1132">[ date ]</a>
              <a href="thread.html#1132">[ thread ]</a>
              <a href="subject.html#1132">[ subject ]</a>
              <a href="author.html#1132">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

I feel that one of the biggest promises of lightning lies in it being used
for everyday retail payments.

I'd like to see a system that's:
1) instantaneous like the contactless bank cards of today
2) encodes a fancy HTML receipt in bolt11 for the payers future reference

QR codes are a bit unwieldy and even more so if you want a nice HTML table
description of your grocery shopping with hundreds of items - this
relatively large amount of data makes them impractical to scan.

To this end I've been running an instance of c-lightning on Android
[1][2][3] and experimenting with payments via NFC. I set up a machine with
an NFC USB dongle that acts as an point-of-sale terminal [4]. So far so
good!

There are two basic ways you can use NFC enabled phones today - as passive
tag readers or in card emulation mode (not sure if the latter is available
on iOS).

Passive tags are really simple and encoding bolt11 to them works as
expected. If you set the right MIME type Android will open whatever app is
registered to handle lightning and you can either pay instantaneously or
after user confirmation. Works great provided both the phone and terminal
are connected to the network and have a route to each other.

Card emulation mode is more interesting because it enables us to have two
way communication and therefore an ad hoc connection to the lightning
network. After some handshaking, phone can tell the terminal that it wants
to connect to lightning via NFC. All communication between these two
lightning nodes can be done over NFC or even bluetooth [5]. This might be
useful as fallback in situations where mobile data is not available.

I settled on a MIME type (application/lightning) and an NFC application id
(LIGHTNING). There is also a very simple protocol to forward socket data.
For the sake of interoperability it would be great if we agreed on some
standards but I'm not sure how to proceed with this. Should these be part
of a future BOLT or is mailing list banter enough?

I look forward to your views!

Cheers,
Igor


[1]
<A HREF="https://github.com/ElementsProject/lightning/commit/bd95aba7a5f9bad8f447bf3de8f7e8cfe83751af">https://github.com/ElementsProject/lightning/commit/bd95aba7a5f9bad8f447bf3de8f7e8cfe83751af</A>
[2]
<A HREF="https://github.com/ElementsProject/lightning/commit/d4d1c4acb08efb6be4f491cdee5cb6dd4b84ddf7">https://github.com/ElementsProject/lightning/commit/d4d1c4acb08efb6be4f491cdee5cb6dd4b84ddf7</A>
[3]
<A HREF="https://github.com/ElementsProject/lightning/commit/bd95aba7a5f9bad8f447bf3de8f7e8cfe83751af">https://github.com/ElementsProject/lightning/commit/bd95aba7a5f9bad8f447bf3de8f7e8cfe83751af</A>
[4] <A HREF="https://github.com/icota/presto">https://github.com/icota/presto</A>
[5] <A HREF="https://github.com/ElementsProject/lightning/pull/1323">https://github.com/ElementsProject/lightning/pull/1323</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180405/14754627/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180405/14754627/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001131.html">[Lightning-dev] De geschiedenis van Lightning
</A></li>
	<LI>Next message: <A HREF="001133.html">[Lightning-dev] Lightning over NFC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1132">[ date ]</a>
              <a href="thread.html#1132">[ thread ]</a>
              <a href="subject.html#1132">[ subject ]</a>
              <a href="author.html#1132">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
