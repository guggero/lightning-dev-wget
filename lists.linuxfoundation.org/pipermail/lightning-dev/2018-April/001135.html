<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] An Idea to Improve Connectivity of the Graph
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-April/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20An%20Idea%20to%20Improve%20Connectivity%20of%20the%20Graph&In-Reply-To=%3Cx4QWF1NEJGCbEGgHWTlkOdYrHr215fqXrcbdYJPExNKrNV7IVN-T9mv6E7i7U2XSjsbITrkhE2uM7LfwaNGZHauIVjzafw0ncqXueNOqOL4%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001137.html">
   <LINK REL="Next"  HREF="001138.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] An Idea to Improve Connectivity of the Graph</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20An%20Idea%20to%20Improve%20Connectivity%20of%20the%20Graph&In-Reply-To=%3Cx4QWF1NEJGCbEGgHWTlkOdYrHr215fqXrcbdYJPExNKrNV7IVN-T9mv6E7i7U2XSjsbITrkhE2uM7LfwaNGZHauIVjzafw0ncqXueNOqOL4%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] An Idea to Improve Connectivity of the Graph">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Thu Apr  5 16:13:19 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001137.html">[Lightning-dev] Lightning over NFC
</A></li>
        <LI>Next message: <A HREF="001138.html">[Lightning-dev] An Idea to Improve Connectivity of the Graph
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1135">[ date ]</a>
              <a href="thread.html#1135">[ thread ]</a>
              <a href="subject.html#1135">[ subject ]</a>
              <a href="author.html#1135">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning Alejandro,

There is no assumption involved, merely a large number of questions.

In a retaliation construction, if a party misbehaves, the other party gets the entire amount they are working on together, as disincentive for any party to cheat.

That works for the two-party case A and B.  If A cheats, B gets money.

How do you extend that to the three-party case A B C?  If A cheats, what happens?

Suppose the correct current state is A=2, B=99, C=3.  Suppose A cheats and attempts to publish A=102, B=1, C=1.  C detects it because B is asleep at that time.  Does C get to claim the money that A claimed for itself, basically 101+1 and thus 102?  But the correct state has almost all of the money assigned to B instead.  Obviously that is unjust.  Instead C should get to claim only 3 from A (its 3 in the final state) in addition to its 1 in the published state, and should give the 99 to B.  So now B also needs another retaliatory construction for the case &quot;A cheated first and C found out and and also cheated me&quot;, and a separate construction for &quot;A cheated but C was honest&quot;.  And that is separate construction for the case &quot;C cheated first and A found out and also cheated me&quot; and a separate construction for &quot;C cheated but A was honest&quot;.

As should be obvious, it does not scale well with number of participants on a single offchain &quot;purse&quot;; it quickly becomes complex fast.

Retaliatory constructions however have the major advantage of not imposing limits on the number of updates that are allowed to the offchain &quot;purse&quot;.  Prior to Rusty shachains it was thought to require storage linear in the number of updates (which could be pruned once the channel/&quot;purse&quot; is brought onchain), but Rusty shachains also require O(1) storage on number of updates.  Thus retaliatory constructions are used for channels.

Note that channel factories, to my understanding, can have the Duplex construction near the root of the initial onchain anchor transaction, but be terminated in Poon-Dryja retaliatory channels, so that a good part of the current LN technology has a good chance of working even after channel factories are implemented.  This strikes me as a good balance: restructuring channels is expected to be much rarer compared to updating them normally for normal usage, so each construction plays its own strengths: the Decker-Wattenhofer construction which imposes a limit on the number of updates, but has no limit on number of participants, is used for the rarer. massive &quot;channel restructuring&quot; operations, while the Poon-Dryja construction which imposes a practical limit on number of particiapnts, but has no limit on number of updates, is used for &quot;day-to-day&quot; normal operation.

Regards,
ZmnSCPxj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180405/21fe4178/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180405/21fe4178/attachment.html</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001137.html">[Lightning-dev] Lightning over NFC
</A></li>
	<LI>Next message: <A HREF="001138.html">[Lightning-dev] An Idea to Improve Connectivity of the Graph
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1135">[ date ]</a>
              <a href="thread.html#1135">[ thread ]</a>
              <a href="subject.html#1135">[ subject ]</a>
              <a href="author.html#1135">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
