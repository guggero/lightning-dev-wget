<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] General question on routing difficulties
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2017-November/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20General%20question%20on%20routing%20difficulties&In-Reply-To=%3C15b5026a-a718-eeff-4751-c79c5d30dc93%40purdue.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000800.html">
   <LINK REL="Next"  HREF="000803.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] General question on routing difficulties</H1>
    <B>Pedro Moreno Sanchez</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20General%20question%20on%20routing%20difficulties&In-Reply-To=%3C15b5026a-a718-eeff-4751-c79c5d30dc93%40purdue.edu%3E"
       TITLE="[Lightning-dev] General question on routing difficulties">pmorenos at purdue.edu
       </A><BR>
    <I>Sat Nov 25 17:13:25 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="000800.html">[Lightning-dev] General question on routing difficulties
</A></li>
        <LI>Next message: <A HREF="000803.html">[Lightning-dev] General question on routing difficulties
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#802">[ date ]</a>
              <a href="thread.html#802">[ thread ]</a>
              <a href="subject.html#802">[ subject ]</a>
              <a href="author.html#802">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Christian,

Thanks for your prompt reply. Please, see my minor comments and
questions below.

On 11/23/17 7:50 AM, Christian Decker wrote:
&gt;<i> Thanks Pedro for the paper, I'll read through it as soon as possible and
</I>&gt;<i> add more feedback :-) I just have some minor points to add regarding
</I>&gt;<i> your last mail.
</I>&gt;<i> 
</I>&gt;&gt;<i> The onion-like packets used for *payments* in the current LN
</I>&gt;&gt;<i> implementations inevitably assume that the sender knows the complete
</I>&gt;&gt;<i> path from the sender to the intended receiver. The question/challenge
</I>&gt;&gt;<i> that we are solving in this work is: how does the sender gets to know
</I>&gt;&gt;<i> such path in the first place?
</I>&gt;<i> 
</I>&gt;<i> The current implementation requires the node to compute the entire
</I>&gt;<i> route, yes. However we have mechanisms in place for the two endpoints of a
</I>&gt;<i> route to collaboratively find such a route. This includes telling the
</I>&gt;<i> recipient ginving the sender hints as how best to reach the recipient,
</I>&gt;<i> e.g., adding channel information in the invoice. In the long-term we
</I>&gt;<i> also plan to add landmarks.
</I>When you say &quot;we have mechanisms in place&quot;, you refer to the
descriptions available in
<A HREF="https://github.com/lightningnetwork/lightning-rfc?">https://github.com/lightningnetwork/lightning-rfc?</A>

Interesting to know that you have landmark-based routing in your plans.
Given the time, I would be obviously interested to talk to you more
about it and possibly collaborate on that if you find it suitable.

&gt;<i> 
</I>&gt;<i> Personally I'd like to separate the base routing layer and the onion
</I>&gt;<i> routing layer eventually. The base layer would provide end-to-end
</I>&gt;<i> connectivity between any two nodes and the onion layer would then simply
</I>&gt;<i> chose some random nodes in the network and not be bound to the networks
</I>&gt;<i> topology. The same way IP and TOR are not mixed.
</I>
Yes, I totally agree. I also think that this separation would help us to
better understand what are the necessary and/or sufficient guarantees
required in both layers for the LN to work.

&gt;<i> 
</I>&gt;&gt;<i> One approach is that each user in the LN locally stores the complete set
</I>&gt;&gt;<i> of opened channels either by looking at open channel transactions in the
</I>&gt;&gt;<i> blockchain or by a gossip protocol. However, this approach has trivial
</I>&gt;&gt;<i> privacy issues and it is not scalable for a growing number of users and
</I>&gt;&gt;<i> channels between them. Moreover, this approach is no longer possible if
</I>&gt;&gt;<i> open channel transactions can be modified such that they are
</I>&gt;&gt;<i> indistinguishable from other Bitcoin transactions.
</I>&gt;<i> 
</I>&gt;<i> The funding transactions are currently indistinguishable from any other
</I>&gt;<i> P2SH transaction. We currently only rely on being able to reveal the
</I>&gt;<i> script behind the P2SH hash in order to prove that indeed the two
</I>&gt;<i> endpoints have setup a channel. The gossip protocol does not require the
</I>&gt;<i> information to be identifiable on-chain, only that we can verify some
</I>&gt;<i> commitment to what we are claiming.
</I>
Could you please point me to where this mechanism is described? I have
been thinking about this, but the solution is not completely clear in my
mind yet.
&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Christian
</I>
Thanks again,
Pedro.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20171125/578defda/attachment.sig">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20171125/578defda/attachment.sig</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000800.html">[Lightning-dev] General question on routing difficulties
</A></li>
	<LI>Next message: <A HREF="000803.html">[Lightning-dev] General question on routing difficulties
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#802">[ date ]</a>
              <a href="thread.html#802">[ thread ]</a>
              <a href="subject.html#802">[ subject ]</a>
              <a href="author.html#802">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
