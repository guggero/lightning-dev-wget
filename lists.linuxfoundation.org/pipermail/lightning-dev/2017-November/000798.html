<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] General question on routing difficulties
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2017-November/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20General%20question%20on%20routing%20difficulties&In-Reply-To=%3C49e10ec4-83ef-df0e-ae87-598bbf7e0784%40purdue.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000793.html">
   <LINK REL="Next"  HREF="000801.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] General question on routing difficulties</H1>
    <B>Pedro Moreno Sanchez</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20General%20question%20on%20routing%20difficulties&In-Reply-To=%3C49e10ec4-83ef-df0e-ae87-598bbf7e0784%40purdue.edu%3E"
       TITLE="[Lightning-dev] General question on routing difficulties">pmorenos at purdue.edu
       </A><BR>
    <I>Tue Nov 21 15:37:48 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="000793.html">[Lightning-dev] General question on routing difficulties
</A></li>
        <LI>Next message: <A HREF="000801.html">[Lightning-dev] General question on routing difficulties
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#798">[ date ]</a>
              <a href="thread.html#798">[ thread ]</a>
              <a href="subject.html#798">[ subject ]</a>
              <a href="author.html#798">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

my name is Pedro Moreno-Sanchez and I am a PhD student at the computer
science department at Purdue. I would like to bring to your attention a
novel routing algorithm suitable for the Lightning Network (LN) that I
have been working on with my supervisor Prof. Aniket Kate (Purdue
University) and my co-workers Stefanie Roos and Prof. Ian Goldberg
(University of Waterloo).

Our approach is called SpeedyMurmurs, a routing algorithm for
decentralized payment networks such as the LN. SpeedyMurmurs uses an
embedding-based approach, meaning that the algorithm assigns meaningful
coordinates to nodes that enable efficient and effective discovery of
payment paths.  In a nutshell, SpeedyMurmurs creates a spanning tree by
means of a Breadth-First Search and then associates a coordinate to each
node depending on its position in the tree. A path from the sender to
the receiver is then calculated in a flexible manner, with each
intermediate node choosing the next node in the path as a function of
its neighbors' coordinates, available funds and closeness to the
receiver. To account for topology changes (e.g., a new channel is
created), the routing information is locally updated by only those
affected nodes in the network.

We have simulated several configurations of SpeedyMurmurs using real
data from the Ripple network and compared it with other routing
algorithms available in the literature. Our simulation results show that
SpeedyMurmurs is able to find paths at about twice faster, reduces the
communication overhead by at least a factor of 2 and maintains a similar
or higher payment success ratio. Our simulation framework is open source
and we believe that it might be of independent interest for this
community to test this and any other alternative protocols that you
might have in mind. If you are interested, we are happy to extend on this.

Finally, we also show that SpeedyMurmurs achieves the privacy notions of
interest in the LN. In particular, SpeedyMurmurs achieves value privacy,
i.e., the total value of a transaction remains hidden, as well as sender
and receiver privacy, i.e., the identities of the two transacting nodes
remain hidden from the adversary.


You can find all the details in the draft of our paper [1]. The final
version of this work will appear at NDSS 2018 conference [2]. We would
be glad to hear any question and feedback from you and are open to carry
out further collaborations if this line of work is of interest for you.

Best regards,
Pedro, Stef, Aniket and Ian.

[1] <A HREF="https://arxiv.org/abs/1709.05748">https://arxiv.org/abs/1709.05748</A>
[2] <A HREF="https://www.ndss-symposium.org/">https://www.ndss-symposium.org/</A>

On 11/17/17 8:09 PM, Saravanan Vijayakumaran wrote:
&gt;<i> Hi Christian,
</I>&gt;<i> 
</I>&gt;<i> Are there any open source simulators available for trying different
</I>&gt;<i> routing strategies? Or even a simulator for the Lightning network as a
</I>&gt;<i> whole?
</I>&gt;<i> 
</I>&gt;<i> Regards
</I>&gt;<i> sarva
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Fri, Nov 17, 2017 at 8:00 PM, Christian Decker
</I>&gt;<i> &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">decker.christian at gmail.com</A> &lt;mailto:<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">decker.christian at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i>     Oh yeah, my mail tool destroyed that mail quite expertly :-)
</I>&gt;<i> 
</I>&gt;<i>     The footnotes were&#160;
</I>&gt;<i>     [1]
</I>&gt;<i>     <A HREF="https://github.com/lightningnetwork/lightning-rfc/blob/master/07-routing-gossip.md">https://github.com/lightningnetwork/lightning-rfc/blob/master/07-routing-gossip.md</A>
</I>&gt;<i>     &lt;<A HREF="https://secure-web.cisco.com/1wkWGu7k6qIvsw8KxbTL8XXIpbTYjcgzOohVSUjpLJpNW0_r00YaFlguhX0pSCEAg2qU5kztXF4bxEpLbMz-RLAz9KTBvE0lh3kFGUjL5qke6yx8EcYvhHQQSttWjRX5HOt69vu8suXd7AhjEweVxeBFhvptINqjBarDx7woqCa14ZgWZdMk0dAt45Lnu_w1wjgn3j5sD7tBo187MGXR94eapimiMFjXySj70GeP1yiEA8rP0NUQ5CSXme2wQy-spVW_SLQpvkAQ01NlXUjK-ufQw_APez6C73Qx0bFh_9F-CPhKhhvM3tSs6IGNEM63aXMVeti2Ci0R5Xc15tvcT9gxpC32bNetja5ber6wbIHLbI9FWviQ63cWaNwhedQRN/https%3A%2F%2Fgithub.com%2Flightningnetwork%2Flightning-rfc%2Fblob%2Fmaster%2F07-routing-gossip.md">https://secure-web.cisco.com/1wkWGu7k6qIvsw8KxbTL8XXIpbTYjcgzOohVSUjpLJpNW0_r00YaFlguhX0pSCEAg2qU5kztXF4bxEpLbMz-RLAz9KTBvE0lh3kFGUjL5qke6yx8EcYvhHQQSttWjRX5HOt69vu8suXd7AhjEweVxeBFhvptINqjBarDx7woqCa14ZgWZdMk0dAt45Lnu_w1wjgn3j5sD7tBo187MGXR94eapimiMFjXySj70GeP1yiEA8rP0NUQ5CSXme2wQy-spVW_SLQpvkAQ01NlXUjK-ufQw_APez6C73Qx0bFh_9F-CPhKhhvM3tSs6IGNEM63aXMVeti2Ci0R5Xc15tvcT9gxpC32bNetja5ber6wbIHLbI9FWviQ63cWaNwhedQRN/https%3A%2F%2Fgithub.com%2Flightningnetwork%2Flightning-rfc%2Fblob%2Fmaster%2F07-routing-gossip.md</A>&gt;
</I>&gt;<i>     [2]
</I>&gt;<i>     <A HREF="https://medium.com/@rusty_lightning/lightning-routing-rough-background-dbac930abbad">https://medium.com/@rusty_lightning/lightning-routing-rough-background-dbac930abbad</A>
</I>&gt;<i>     &lt;<A HREF="https://secure-web.cisco.com/1UG1OaEI1KFpQ4prjxrhN1Wsxs0P1Tco0MXQz0xltJZQjwI-sNi98eXMz-gW4qOQd2jJ4i0uktvL8CH-9RrmEg3GkxHfcxjnjxY_hlLP-ctXOYMSk4BFbySy7vD5xWivimHIfMHtr13ffgEoFLItUgoajxUe7tnkchPN_P5OZ_FOzYdpqW_UDdgWW0_VOsccR5yt1vh0MRyVxO2B2ua8k4NmbFgTmht6hxUlXDsXOsOSGDHm1WO5VNrRbUcGeTPpdBMx0xeyZ9FTMTBCIAMOZ6UEb_eAX3X1iVIFkP_MPtuJcp0q8t9Tk_UBs-dHVRjyYcCsnetXYNI_mEsdtyg63aLXuJE1pMLb8-eamWaFfklVo-w9N9F0XTbmbkgGfcWU4/https%3A%2F%2Fmedium.com%2F%40rusty_lightning%2Flightning-routing-rough-background-dbac930abbad">https://secure-web.cisco.com/1UG1OaEI1KFpQ4prjxrhN1Wsxs0P1Tco0MXQz0xltJZQjwI-sNi98eXMz-gW4qOQd2jJ4i0uktvL8CH-9RrmEg3GkxHfcxjnjxY_hlLP-ctXOYMSk4BFbySy7vD5xWivimHIfMHtr13ffgEoFLItUgoajxUe7tnkchPN_P5OZ_FOzYdpqW_UDdgWW0_VOsccR5yt1vh0MRyVxO2B2ua8k4NmbFgTmht6hxUlXDsXOsOSGDHm1WO5VNrRbUcGeTPpdBMx0xeyZ9FTMTBCIAMOZ6UEb_eAX3X1iVIFkP_MPtuJcp0q8t9Tk_UBs-dHVRjyYcCsnetXYNI_mEsdtyg63aLXuJE1pMLb8-eamWaFfklVo-w9N9F0XTbmbkgGfcWU4/https%3A%2F%2Fmedium.com%2F%40rusty_lightning%2Flightning-routing-rough-background-dbac930abbad</A>&gt;
</I>&gt;<i>     [3]
</I>&gt;<i>     <A HREF="https://www.tik.ee.ethz.ch/file/a20a865ce40d40c8f942cf206a7cba96/Scalable_Funding_Of_Blockchain_Micropayment_Networks%20(1">https://www.tik.ee.ethz.ch/file/a20a865ce40d40c8f942cf206a7cba96/Scalable_Funding_Of_Blockchain_Micropayment_Networks%20(1</A>).pdf
</I>&gt;<i>     &lt;<A HREF="https://secure-web.cisco.com/1XOlJdRo0gtzmPhNfVlEpMsrVBAI6BSjdDawPogEDIwYDdva2BSx4H8F9B3E6bkVIqA7ByFEF85qVjJ775leFwE54p5G6-wHH4Cio0p9sYLJ14-NHwcwvYQ--zdI8hdAyjGQbcLltVFAmorMaTlHq4FGI1CmxlwiUYgH1tjZn3UAHOu5xm5pLVi6KTb9WsJvuJsOBJhLfRLWGcAhVbjRXuV8b3x_G4ybOg1CQYC9ZVq3RJCPnNgQ3BN3a5ZuzW4veOE_dgi80FEy1x7a8spH-TV-cb_fey6ud-S25AWQ1PbctVS5zgQ4Ki4XYkR5igotNGGbWhACevBJfU1Hxqk90_g-DgQtS9_e_UX_FsY-yAjw/https%3A%2F%2Fwww.tik.ee.ethz.ch%2Ffile%2Fa20a865ce40d40c8f942cf206a7cba96%2FScalable_Funding_Of_Blockchain_Micropayment_Networks%2520%281%29.pdf">https://secure-web.cisco.com/1XOlJdRo0gtzmPhNfVlEpMsrVBAI6BSjdDawPogEDIwYDdva2BSx4H8F9B3E6bkVIqA7ByFEF85qVjJ775leFwE54p5G6-wHH4Cio0p9sYLJ14-NHwcwvYQ--zdI8hdAyjGQbcLltVFAmorMaTlHq4FGI1CmxlwiUYgH1tjZn3UAHOu5xm5pLVi6KTb9WsJvuJsOBJhLfRLWGcAhVbjRXuV8b3x_G4ybOg1CQYC9ZVq3RJCPnNgQ3BN3a5ZuzW4veOE_dgi80FEy1x7a8spH-TV-cb_fey6ud-S25AWQ1PbctVS5zgQ4Ki4XYkR5igotNGGbWhACevBJfU1Hxqk90_g-DgQtS9_e_UX_FsY-yAjw/https%3A%2F%2Fwww.tik.ee.ethz.ch%2Ffile%2Fa20a865ce40d40c8f942cf206a7cba96%2FScalable_Funding_Of_Blockchain_Micropayment_Networks%2520%281%29.pdf</A>&gt;
</I>&gt;<i> 
</I>&gt;<i>     We will eventually move away from the hash function based approach
</I>&gt;<i>     in favor of something that allows us to decorrelate hops in a route.
</I>&gt;<i>     We have indeed started writing down some of the ideas at least for
</I>&gt;<i>     Lightning in the project's wiki [4], but they're definitely not
</I>&gt;<i>     fleshed out.
</I>&gt;<i> 
</I>&gt;<i>     [4]&#160;<A HREF="https://github.com/lightningnetwork/lightning-rfc/wiki/Brainstorming">https://github.com/lightningnetwork/lightning-rfc/wiki/Brainstorming</A>
</I>&gt;<i>     &lt;<A HREF="https://secure-web.cisco.com/1XqVZXht8sW8tdbLxwEMjoU-hxxV6OJwpKqc2OudZy26Le21yvOIBPwqizepwLi9TBeEV2BMDc-nCiKpj3eryi59jqvoZcBRrSQSVt9Qrq8pIxNSvhIMlG4cRd3lnj17JT9mDRRt0lS51C_9gpryV6qFqdiROdyJeTKfqUGmnvPo3isfeUbC_TOOfWLDV16jYA38ytCfTOryyDvJgJdYw7ArAUEMg10jNv8lV9aTARBOcOmgLjqJt0ktecsUpUCfIVAQlJEvtAAbWAUKwMoXg6MpIQEA4NE1ATntmwjLGl4IqQEqRAGxkGxWI8yQDL74yPPTIQmGTxs_JXE6YYMrhuD93GR1kyUJkOAH3Z_5nL1bsr3ifW31PJtUckQNnwY8e/https%3A%2F%2Fgithub.com%2Flightningnetwork%2Flightning-rfc%2Fwiki%2FBrainstorming">https://secure-web.cisco.com/1XqVZXht8sW8tdbLxwEMjoU-hxxV6OJwpKqc2OudZy26Le21yvOIBPwqizepwLi9TBeEV2BMDc-nCiKpj3eryi59jqvoZcBRrSQSVt9Qrq8pIxNSvhIMlG4cRd3lnj17JT9mDRRt0lS51C_9gpryV6qFqdiROdyJeTKfqUGmnvPo3isfeUbC_TOOfWLDV16jYA38ytCfTOryyDvJgJdYw7ArAUEMg10jNv8lV9aTARBOcOmgLjqJt0ktecsUpUCfIVAQlJEvtAAbWAUKwMoXg6MpIQEA4NE1ATntmwjLGl4IqQEqRAGxkGxWI8yQDL74yPPTIQmGTxs_JXE6YYMrhuD93GR1kyUJkOAH3Z_5nL1bsr3ifW31PJtUckQNnwY8e/https%3A%2F%2Fgithub.com%2Flightningnetwork%2Flightning-rfc%2Fwiki%2FBrainstorming</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     On Fri, Nov 17, 2017 at 3:10 PM Benjamin Mord &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">ben at mord.io</A>
</I>&gt;<i>     &lt;mailto:<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">ben at mord.io</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i>         &quot;I think this is exactly the right venue to discuss these kinds
</I>&gt;<i>         of issue...&quot; - you are probably right! My bad.
</I>&gt;<i> 
</I>&gt;<i>         Christian, thank you for your knowledgable reply. The footnotes
</I>&gt;<i>         did not come through on my end, I am especially interested in
</I>&gt;<i>         [3]. Do you have a link? I am thrilled to hear of a
</I>&gt;<i>         Bitcoin-compatible revive alternative! :)
</I>&gt;<i> 
</I>&gt;<i>         Are we keeping an inventory somewhere of the cryptographic
</I>&gt;<i>         primitives being used in lightning and the specific assumptions
</I>&gt;<i>         being made about them (e.g. preimage resistance vs collision
</I>&gt;<i>         resistance and such)? One project I have not yet found but
</I>&gt;<i>         believe we need across the entire cryptocurrency community, is a
</I>&gt;<i>         (wiki-style?) inventory of unproven mathematical assumptions
</I>&gt;<i>         (e.g. hardness of discrete logarithm) and/or cryptographic
</I>&gt;<i>         primitives, cataloged in terms of the cryptocurrency
</I>&gt;<i>         technologies which require them. Such a resource could help the
</I>&gt;<i>         community respond more quickly, comprehensively, and
</I>&gt;<i>         transparently to the inevitable cryptanalytic surprises that
</I>&gt;<i>         will pop up over time (especially from the quantum cryptanalytic
</I>&gt;<i>         area, but even the classical cryptanalytic community as well).
</I>&gt;<i> 
</I>&gt;<i>         Related, I believe the ideal end state would be to only assume
</I>&gt;<i>         existence of a preimage-resistant hash function, and to code
</I>&gt;<i>         such that one function could be quickly swapped with another and
</I>&gt;<i>         thus update entire system. I'm not sure if that is a realistic
</I>&gt;<i>         goal, but here is my first attempt to move in that direction in
</I>&gt;<i>         case it is of interest to lightning. It is hard to imagine it
</I>&gt;<i>         would be a new idea, although I have not yet found the precedent:
</I>&gt;<i>         <A HREF="http://ben.mord.io/p/delayed-chained-key-revelation-dckr.html">http://ben.mord.io/p/delayed-chained-key-revelation-dckr.html</A>
</I>&gt;<i>         &lt;<A HREF="http://secure-web.cisco.com/1ewGQFfIxw1QZwneD3sDbhSSWP-YTmBwOYe529E7_zeYZZADnASbspvBAftPFXX6ZxJI2l2-8-xEqdpkmFg3fEIfkfRBYN8oZ8Z0HpeHh73MnT3Zi3M8GUs8SGMww38ZPnzsc7xlt7H5KFlLMcCsTWIgEtq4roZHDkYasanNeViP_UA3DIod7A281fNvWnQ1mnLs6d8WN_uFx1diU_xr-EoMab3wyANozirDj1gZ2_yPBn6S8tePYMkTkhIZlLz_BlvIfk9_KCOOiUcWxDTtCq9KdvoqEzStC04Z6q8xS5rtSnmK9GZZxv30yrgT8eWA4eOzce6AA3m0WEClNzbzANgi11GXBVde9pNiUIRcLDNw/http%3A%2F%2Fben.mord.io%2Fp%2Fdelayed-chained-key-revelation-dckr.html">http://secure-web.cisco.com/1ewGQFfIxw1QZwneD3sDbhSSWP-YTmBwOYe529E7_zeYZZADnASbspvBAftPFXX6ZxJI2l2-8-xEqdpkmFg3fEIfkfRBYN8oZ8Z0HpeHh73MnT3Zi3M8GUs8SGMww38ZPnzsc7xlt7H5KFlLMcCsTWIgEtq4roZHDkYasanNeViP_UA3DIod7A281fNvWnQ1mnLs6d8WN_uFx1diU_xr-EoMab3wyANozirDj1gZ2_yPBn6S8tePYMkTkhIZlLz_BlvIfk9_KCOOiUcWxDTtCq9KdvoqEzStC04Z6q8xS5rtSnmK9GZZxv30yrgT8eWA4eOzce6AA3m0WEClNzbzANgi11GXBVde9pNiUIRcLDNw/http%3A%2F%2Fben.mord.io%2Fp%2Fdelayed-chained-key-revelation-dckr.html</A>&gt;
</I>&gt;<i> 
</I>&gt;<i>         Thanks,
</I>&gt;<i>         Ben
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>         On Nov 17, 2017 8:04 AM, &quot;Christian Decker&quot;
</I>&gt;<i>         &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">decker.christian at gmail.com</A> &lt;mailto:<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">decker.christian at gmail.com</A>&gt;&gt;
</I>&gt;<i>         wrote:
</I>&gt;<i> 
</I>&gt;<i>             On Thu, Nov 16, 2017 at 5:01 PM Benjamin Mord &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">ben at mord.io</A>
</I>&gt;<i>             &lt;mailto:<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">ben at mord.io</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i>                 Ivan,
</I>&gt;<i> 
</I>&gt;<i>                 That is mostly false, but with bits of truth sprinkled
</I>&gt;<i>                 in. Contact me at <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">ben at mord.io</A> &lt;mailto:<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">ben at mord.io</A>&gt; for
</I>&gt;<i>                 further discussion so we tread lightly on the lists'
</I>&gt;<i>                 email inboxes. 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>             I think this is exactly the right venue to discuss these
</I>&gt;<i>             kinds of issue,
</I>&gt;<i>             so please don't move the conversation somewhere else :-)
</I>&gt;<i> 
</I>&gt;<i>             Routing is still very much in flux, we have a minimally
</I>&gt;<i>             viable routing
</I>&gt;<i>             protocol in the spec [1]. It is minimal in the sense that we
</I>&gt;<i>             just push
</I>&gt;<i>             the entire network's topology to the edges, which can then
</I>&gt;<i>             locally
</I>&gt;<i>             compute routes. This is effectively a source-routed network,
</I>&gt;<i>             which
</I>&gt;<i>             matches the requirements of the onion routing protocol we
</I>&gt;<i>             use for
</I>&gt;<i>             privact as well. But this does not mean that this is
</I>&gt;<i>             protocol is set in
</I>&gt;<i>             stone. We are actively working on finding better solutions
</I>&gt;<i>             to the
</I>&gt;<i>             problem of finding routes across a vast network of millions
</I>&gt;<i>             if not
</I>&gt;<i>             billions of nodes. Distance vector routing such as BGP uses
</I>&gt;<i>             may be one
</I>&gt;<i>             option like Ben suggested.
</I>&gt;<i> 
</I>&gt;<i>             For now the network can easily scale to about 1 million
</I>&gt;<i>             channels [2]
</I>&gt;<i>             even on very limited devices, Upgrading to another protocol
</I>&gt;<i>             at a later
</I>&gt;<i>             point in time is trivial, since none of the routing
</I>&gt;<i>             information is
</I>&gt;<i>             consensus critical. We have all the extension points built
</I>&gt;<i>             in to allow
</I>&gt;<i>             future extensibility.
</I>&gt;<i>             &#160;
</I>&gt;<i> 
</I>&gt;<i>                 But briefly: scale-capable routing protocols are
</I>&gt;<i>                 possible as demonstrated by IP and thus by the internet
</I>&gt;<i>                 itself. As for centralizing flow through small number of
</I>&gt;<i>                 liquidity providers, yes that does seem economically
</I>&gt;<i>                 probable, at least unless / until off-chain channel
</I>&gt;<i>                 rebalancing mechanism (like the recently proposed
</I>&gt;<i>                 &quot;revive&quot; protocol) come about. Bitcoin script is not
</I>&gt;<i>                 currently revive-capable but Ethereum is, so either
</I>&gt;<i>                 Bitcoin revive could be enabled via two-way pegged
</I>&gt;<i>                 sidechain protocol with Ethereum, or even better, by a
</I>&gt;<i>                 purpose-built (yet still not Turing-complete) extension
</I>&gt;<i>                 to Bitcoin script itself in the future.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>             As a matter of fact, Conrad and I just published a similar
</I>&gt;<i>             technique for
</I>&gt;<i>             off-chain channel rebalancing and fund re-allocation based
</I>&gt;<i>             solely on
</I>&gt;<i>             Bitcoin [3] (major props to Conrad for the excellent
</I>&gt;<i>             writeup!). The
</I>&gt;<i>             flexibility in Bitcoin exists.
</I>&gt;<i> 
</I>&gt;<i>             As for the hubs everybody is assuming will form, I don't
</I>&gt;<i>             think they're
</I>&gt;<i>             as likely to form. Creating such a hub is extremely costly
</I>&gt;<i>             since it'll
</I>&gt;<i>             have to allocate sufficient funds to cover the maximum
</I>&gt;<i>             imbalance of all
</I>&gt;<i>             of its channels ahead of time. Then the fees must cover the
</I>&gt;<i>             opportunity
</I>&gt;<i>             cost of allocating all of those funds to channels instead of
</I>&gt;<i>             investing
</I>&gt;<i>             them somewhere else. On top of that the funds will not be
</I>&gt;<i>             moved alot
</I>&gt;<i>             since they serve only a small number of endpoints connected
</I>&gt;<i>             through
</I>&gt;<i>             those channels, this compounds the problem of having high
</I>&gt;<i>             fees. The high
</I>&gt;<i>             fees make the hub channels a really bad choice for your
</I>&gt;<i>             payments, after
</I>&gt;<i>             all you were looking for small fees for your payments,
</I>&gt;<i>             right? It opens
</I>&gt;<i>             up an opportunity for nodes to open bypasses that grab some
</I>&gt;<i>             of the
</I>&gt;<i>             traffic and associated fees from the expensive hub.
</I>&gt;<i> 
</I>&gt;<i>             All of that being said, we should be careful about our
</I>&gt;<i>             predictions on
</I>&gt;<i>             how the topology will look, I added some counter arguments to a
</I>&gt;<i>             hub-and-spoke network forming, but nobody can really be sure
</I>&gt;<i>             about
</I>&gt;<i>             what'll happen.
</I>&gt;<i>             &#160;
</I>&gt;<i> 
</I>&gt;<i>                 In either case the lightning network seems a key first
</I>&gt;<i>                 step, and even were off-chain payment rebalancing not
</I>&gt;<i>                 possible for some odd reason, the lightning network
</I>&gt;<i>                 seems extremely valuable and scaleable - regardless
</I>&gt;<i>                 because the centralization you speak is not one that
</I>&gt;<i>                 affects safety of the money supply itself, and these
</I>&gt;<i>                 centralized hubs would be more dispensable / swappable
</I>&gt;<i>                 versus the mining centralization risk that people more
</I>&gt;<i>                 often talk about in Bitcoin. Lightning network
</I>&gt;<i>                 centralization, even if it persisted somehow despite
</I>&gt;<i>                 revive and future concepts, would not be an existential
</I>&gt;<i>                 risk.
</I>&gt;<i> 
</I>&gt;<i>             &#160;
</I>&gt;<i>             Rebalancing is definitely possible, even without [3], you can
</I>&gt;<i>             disincentivize the use of a channel until they have been
</I>&gt;<i>             rebalanced. For
</I>&gt;<i>             long term imbalance, opening another channel may be the best
</I>&gt;<i>             option
</I>&gt;<i>             &#160;
</I>&gt;<i> 
</I>&gt;<i>                 As for transaction fees, the idea is only channel setup
</I>&gt;<i>                 / tear down are required greatly reducing fees. Yes if
</I>&gt;<i>                 txin fees were millions of dollars then people could not
</I>&gt;<i>                 practically penalize fraud, but that is unlikely. Even
</I>&gt;<i>                 if txin fees made fraud claims marginally unprofitable
</I>&gt;<i>                 (yet practical) that would still be ok - the judicial
</I>&gt;<i>                 systems of most countries prove that people go beyond
</I>&gt;<i>                 self-interest when sufficiently ticked, a fact of human
</I>&gt;<i>                 psychology which in turn creates the incentives that
</I>&gt;<i>                 support honest business. (Also please be aware I'm not a
</I>&gt;<i>                 lightning code contributor, so that team might also be
</I>&gt;<i>                 doing more to address already than I thought to mention
</I>&gt;<i>                 above.)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>             This is open to speculation as well. We hope to reduce the
</I>&gt;<i>             load on the
</I>&gt;<i>             on-chain network sufficiently to allow timely on-chain
</I>&gt;<i>             settlements. By
</I>&gt;<i>             aggregating payments off-chain we can also aggregate the
</I>&gt;<i>             fees and then
</I>&gt;<i>             use them to pay on-chain fees. So don't consider the
</I>&gt;<i>             on-chain fees for
</I>&gt;<i>             your channels as your sole loss, they are paid for by
</I>&gt;<i>             payments you
</I>&gt;<i>             forward. Ultimately this should encourage participants to
</I>&gt;<i>             open channels
</I>&gt;<i>             that support the network as a whole, not just themselves. We are
</I>&gt;<i>             building automations that should take care of this, the user
</I>&gt;<i>             won't have
</I>&gt;<i>             to do anything to improve the network topology.
</I>&gt;<i> 
</I>&gt;<i>             Cheers,
</I>&gt;<i>             Christian
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     _______________________________________________
</I>&gt;<i>     Lightning-dev mailing list
</I>&gt;<i>     <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">Lightning-dev at lists.linuxfoundation.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">Lightning-dev at lists.linuxfoundation.org</A>&gt;
</I>&gt;<i>     <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev</A>
</I>&gt;<i>     &lt;<A HREF="https://secure-web.cisco.com/1rKvOL6YDFMOjqgsWHIPJzPSwJMPOfbibptuquR_1TsVdIQrLf1NxCVE-s5WE1ZYrdP24xdimGxHK9mO5lyt539Tkw2lzYa9rwS9--thSiY_hjklJDMsHrV19nNF8fOU35MvLMeISx2brsJSH0K4MNQpctvdWWImDsvS4rwweaXJRgtUfd1uSxbqCGdjJ7KTTOlWCdUehIfdcJtlBoiUGIy2yKJMqn7uLJT4tXQQWbGZAou9uWgwGJmHnUk4oW05-otW_6u-nrcT1jhnhPGcP6x6_k8EMv1PaCs5w0baDgHhZ09GvGpSFr9Wmk8cd69ob8sEcl6xXHuFHTt1GHMh6KfMOc11pAXgM6FsY6B35bjHVVOw0DiIz7n_a8w-RLxc-/https%3A%2F%2Flists.linuxfoundation.org%2Fmailman%2Flistinfo%2Flightning-dev">https://secure-web.cisco.com/1rKvOL6YDFMOjqgsWHIPJzPSwJMPOfbibptuquR_1TsVdIQrLf1NxCVE-s5WE1ZYrdP24xdimGxHK9mO5lyt539Tkw2lzYa9rwS9--thSiY_hjklJDMsHrV19nNF8fOU35MvLMeISx2brsJSH0K4MNQpctvdWWImDsvS4rwweaXJRgtUfd1uSxbqCGdjJ7KTTOlWCdUehIfdcJtlBoiUGIy2yKJMqn7uLJT4tXQQWbGZAou9uWgwGJmHnUk4oW05-otW_6u-nrcT1jhnhPGcP6x6_k8EMv1PaCs5w0baDgHhZ09GvGpSFr9Wmk8cd69ob8sEcl6xXHuFHTt1GHMh6KfMOc11pAXgM6FsY6B35bjHVVOw0DiIz7n_a8w-RLxc-/https%3A%2F%2Flists.linuxfoundation.org%2Fmailman%2Flistinfo%2Flightning-dev</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Lightning-dev mailing list
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">Lightning-dev at lists.linuxfoundation.org</A>
</I>&gt;<i> <A HREF="https://secure-web.cisco.com/1rKvOL6YDFMOjqgsWHIPJzPSwJMPOfbibptuquR_1TsVdIQrLf1NxCVE-s5WE1ZYrdP24xdimGxHK9mO5lyt539Tkw2lzYa9rwS9--thSiY_hjklJDMsHrV19nNF8fOU35MvLMeISx2brsJSH0K4MNQpctvdWWImDsvS4rwweaXJRgtUfd1uSxbqCGdjJ7KTTOlWCdUehIfdcJtlBoiUGIy2yKJMqn7uLJT4tXQQWbGZAou9uWgwGJmHnUk4oW05-otW_6u-nrcT1jhnhPGcP6x6_k8EMv1PaCs5w0baDgHhZ09GvGpSFr9Wmk8cd69ob8sEcl6xXHuFHTt1GHMh6KfMOc11pAXgM6FsY6B35bjHVVOw0DiIz7n_a8w-RLxc-/https%3A%2F%2Flists.linuxfoundation.org%2Fmailman%2Flistinfo%2Flightning-dev">https://secure-web.cisco.com/1rKvOL6YDFMOjqgsWHIPJzPSwJMPOfbibptuquR_1TsVdIQrLf1NxCVE-s5WE1ZYrdP24xdimGxHK9mO5lyt539Tkw2lzYa9rwS9--thSiY_hjklJDMsHrV19nNF8fOU35MvLMeISx2brsJSH0K4MNQpctvdWWImDsvS4rwweaXJRgtUfd1uSxbqCGdjJ7KTTOlWCdUehIfdcJtlBoiUGIy2yKJMqn7uLJT4tXQQWbGZAou9uWgwGJmHnUk4oW05-otW_6u-nrcT1jhnhPGcP6x6_k8EMv1PaCs5w0baDgHhZ09GvGpSFr9Wmk8cd69ob8sEcl6xXHuFHTt1GHMh6KfMOc11pAXgM6FsY6B35bjHVVOw0DiIz7n_a8w-RLxc-/https%3A%2F%2Flists.linuxfoundation.org%2Fmailman%2Flistinfo%2Flightning-dev</A>
</I>&gt;<i> 
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000793.html">[Lightning-dev] General question on routing difficulties
</A></li>
	<LI>Next message: <A HREF="000801.html">[Lightning-dev] General question on routing difficulties
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#798">[ date ]</a>
              <a href="thread.html#798">[ thread ]</a>
              <a href="subject.html#798">[ subject ]</a>
              <a href="author.html#798">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
