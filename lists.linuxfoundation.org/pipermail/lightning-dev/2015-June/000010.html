<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Payment Re-routing
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2015-June/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Payment%20Re-routing&In-Reply-To=%3CCABHVRKRX5J7m2nQOdb%2BVavaxf_znbcUw4RU__%3D6x%3DvZb0N_EJQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000009.html">
   <LINK REL="Next"  HREF="000011.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Payment Re-routing</H1>
    <B>Stephen Morse</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Payment%20Re-routing&In-Reply-To=%3CCABHVRKRX5J7m2nQOdb%2BVavaxf_znbcUw4RU__%3D6x%3DvZb0N_EJQ%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Payment Re-routing">stephencalebmorse at gmail.com
       </A><BR>
    <I>Tue Jun 30 04:59:43 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000009.html">[Lightning-dev] Payment Re-routing
</A></li>
        <LI>Next message: <A HREF="000011.html">[Lightning-dev] Payment Re-routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10">[ date ]</a>
              <a href="thread.html#10">[ thread ]</a>
              <a href="subject.html#10">[ subject ]</a>
              <a href="author.html#10">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Rusty,

On Sat, Jun 27, 2015 at 2:41 AM, Rusty Russell &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">rusty at rustcorp.com.au</A>&gt;
wrote:

&gt;<i>
</I>&gt;<i> Yes, C can just get the preimage from E and collude to steal the funds,
</I>&gt;<i> which is a nasty failure mode.
</I>&gt;<i>
</I>&gt;<i>
</I>This scenario may even happen non-maliciously, if C has an honest outage
and attempts to pick up where it left off on each of its channels. To fix
the non-malicious case, C could get a refund from E (a new signed
transaction with a lower lock time), if C knows he has been offline for
longer than B's willingness to wait before re-routing. But this isn't
perfect, or even good, because E cannot know that C isn't just trying to
get a refund even though they have taken the payment from B. In fact, C is
guaranteed the payment from B, since they have the pre-image.


&gt;<i> Delaying the entire payment is a poor option; can anyone see a better
</I>&gt;<i> one?
</I>&gt;<i>
</I>
Like you say, delaying the payment seems like a bad way to go, as then the
payments wouldn't be quite &quot;Lightning&quot; fast anymore. 99% of the payment
could be re-routed though. Perhaps the 99% could be re-routed, while A
waits for C to rejoin. Or if multiple paths are being used to process the
payment, just redistribute the remaining payments allotted for the broken
path among the other functioning paths.

The bigger problem here seems to be that the incentives are slightly skewed
in favor of dishonestly. One can minimize the impact of that dishonesty by
breaking the payment into smaller chunks and across diverse paths, but this
comes at the cost of bandwidth and speed. Some sort of a rating system
could come into play possibly, if nothing can be cryptographically worked
out.

Best,
Stephen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20150630/536271bb/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20150630/536271bb/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000009.html">[Lightning-dev] Payment Re-routing
</A></li>
	<LI>Next message: <A HREF="000011.html">[Lightning-dev] Payment Re-routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10">[ date ]</a>
              <a href="thread.html#10">[ thread ]</a>
              <a href="subject.html#10">[ subject ]</a>
              <a href="author.html#10">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
