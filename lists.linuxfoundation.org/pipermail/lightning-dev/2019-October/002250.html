<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] [PATCH] First draft of	option_simplfied_commitment
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-October/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20%5BPATCH%5D%20First%20draft%20of%0A%09option_simplfied_commitment&In-Reply-To=%3CCAJBJmV8EddTnn7WGvpehGngHJiTLYObNtT9D7myorEKWmne9Ww%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002249.html">
   <LINK REL="Next"  HREF="002257.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] [PATCH] First draft of	option_simplfied_commitment</H1>
    <B>Joost Jager</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20%5BPATCH%5D%20First%20draft%20of%0A%09option_simplfied_commitment&In-Reply-To=%3CCAJBJmV8EddTnn7WGvpehGngHJiTLYObNtT9D7myorEKWmne9Ww%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] [PATCH] First draft of	option_simplfied_commitment">joost.jager at gmail.com
       </A><BR>
    <I>Sat Oct 26 20:28:38 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="002249.html">[Lightning-dev] [PATCH] First draft of	option_simplfied_commitment
</A></li>
        <LI>Next message: <A HREF="002257.html">[Lightning-dev] c-lightning v0.7.3 &quot;Bitcoin's Proof of Stake&quot;	Released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2250">[ date ]</a>
              <a href="thread.html#2250">[ thread ]</a>
              <a href="subject.html#2250">[ subject ]</a>
              <a href="author.html#2250">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>
</I>&gt;<i> * Output type: normal P2WKH. At one point, an additional spending path was
</I>&gt;<i> proposed that was unconditional except for a 10 block csv lock. The
</I>&gt;<i> intention of this was to prevent utxo set pollution by allowing anyone to
</I>&gt;<i> clean up. This however also opens up the possibility for an attacker to
</I>&gt;<i> 'use up' the cpfp carve-out after those 10 blocks. If the user A is offline
</I>&gt;<i> for that period of time, a malicious peer B may already have broadcasted
</I>&gt;<i> the commitment tx and pinned down user A's anchor output with a low fee
</I>&gt;<i> child. That way, the commitment tx could still remain unconfirmed while an
</I>&gt;<i> important htlc expires.
</I>&gt;<i>
</I>
Ok, this 'attack' scenario doesn't make sense. Of course with a csv lock,
this spend path is closed when the commitment tx is unconfirmed. But it is
still a question whether user A would appreciate their anchor output being
taken by someone else when they are offline for more than 10 blocks.

If we do like this utxo set clean up path, one could also argue that this
should then be applied to every near-dust output on the commitment tx (eg
small htlcs).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20191026/8c9a5819/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20191026/8c9a5819/attachment.html</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002249.html">[Lightning-dev] [PATCH] First draft of	option_simplfied_commitment
</A></li>
	<LI>Next message: <A HREF="002257.html">[Lightning-dev] c-lightning v0.7.3 &quot;Bitcoin's Proof of Stake&quot;	Released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2250">[ date ]</a>
              <a href="thread.html#2250">[ thread ]</a>
              <a href="subject.html#2250">[ subject ]</a>
              <a href="author.html#2250">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
