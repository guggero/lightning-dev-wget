<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Payee pay fee
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-February/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Payee%20pay%20fee&In-Reply-To=%3CrF96TpdZTUiwoMoO_r8UxtkRX3xrMDZcd86RavfTzlfwCnS9y4kXPcQLjlBTRxKJbZPh8QBWX4dEb_SggQz3kbXhi2ErJ5WjbHCGKFTnbs4%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001879.html">
   <LINK REL="Next"  HREF="001885.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Payee pay fee</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Payee%20pay%20fee&In-Reply-To=%3CrF96TpdZTUiwoMoO_r8UxtkRX3xrMDZcd86RavfTzlfwCnS9y4kXPcQLjlBTRxKJbZPh8QBWX4dEb_SggQz3kbXhi2ErJ5WjbHCGKFTnbs4%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] Payee pay fee">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Fri Feb 22 05:52:58 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="001879.html">[Lightning-dev] Payee pay fee
</A></li>
        <LI>Next message: <A HREF="001885.html">[Lightning-dev] Payee pay fee
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1881">[ date ]</a>
              <a href="thread.html#1881">[ thread ]</a>
              <a href="subject.html#1881">[ subject ]</a>
              <a href="author.html#1881">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning Rusty,

&gt;<i> So we need a web way of asking a client to send an invoice or offer over
</I>&gt;<i> HTTPS. Is this a new URI scheme? How would this work?
</I>
I thought that offers would work over LN alone?

When you first proposed the offers, I thought it was this way:

1.  Payee gives BOLT12 offer to Payer.
2.  Payer generates a completely new random preimage and computes its hash.
3.  Payer issues a payment along an LN route from Payer to Payee using its random hash.
4.  At the payee hop, the onion packet contains some identifying information from the BOLT12 offer.
5.  Payee generates a BOLT11 invoice.
6.  Payee sends back an error packet, which includes the BOLT11 invoice.
7.  Payer receives the error packet that includes the BOLT11 invoice.
8.  Payer pays using the BOLT11 invoice.

Intermediate nodes remain unaware of this new feature and do not require upgrades.
A node issuing a BOLT12 offer would implicitly signal its support for this feature by the simple fact of being able to issue the BOLT12 offer.
A node that can understand a BOLT12 offer implicitly means it supports this feature.

Regards,
ZmnSCPxj
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001879.html">[Lightning-dev] Payee pay fee
</A></li>
	<LI>Next message: <A HREF="001885.html">[Lightning-dev] Payee pay fee
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1881">[ date ]</a>
              <a href="thread.html#1881">[ thread ]</a>
              <a href="subject.html#1881">[ subject ]</a>
              <a href="author.html#1881">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
