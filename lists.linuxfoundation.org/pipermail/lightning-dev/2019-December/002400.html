<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Pay-to-Open and UX improvements
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-December/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Pay-to-Open%20and%20UX%20improvements&In-Reply-To=%3CLdIX8w9u8rbcOFlrdF8w_1TirXsZX1HpgpXZEsEAWOroYy89UUoM4BD_3oL0O7FZXkbDJ_1XJ4vR54npHz4hfSIj79vtS4RyXespELZuwx4%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002399.html">
   <LINK REL="Next"  HREF="002401.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Pay-to-Open and UX improvements</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Pay-to-Open%20and%20UX%20improvements&In-Reply-To=%3CLdIX8w9u8rbcOFlrdF8w_1TirXsZX1HpgpXZEsEAWOroYy89UUoM4BD_3oL0O7FZXkbDJ_1XJ4vR54npHz4hfSIj79vtS4RyXespELZuwx4%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] Pay-to-Open and UX improvements">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Thu Dec 19 10:00:09 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="002399.html">[Lightning-dev] Pay-to-Open and UX improvements
</A></li>
        <LI>Next message: <A HREF="002401.html">[Lightning-dev] Faking LN transactions to road block chain analysis? Does it make any sense?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2400">[ date ]</a>
              <a href="thread.html#2400">[ thread ]</a>
              <a href="subject.html#2400">[ subject ]</a>
              <a href="author.html#2400">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning t-bast,

&gt;<i> Good points, these are good optimisations if we propose such a new opcode!
</I>&gt;<i> I'm still pondering whether this will be useful enough or if finney attacks completely ruin all use-cases...
</I>
It does indeed seem to ruin all use-cases, and even my suggestion to enforce RBF will not help against the Finney attack specifically, as the second signature broadcasted is the one that is already in a block.

Further, if the amount in the single-show-signature UTXO being double-spent is greater than the expected block reward, then it may encourage competing miners to instead mine an alternate block at that blockheight instead of building on the block made by the Finney attacker.
This is because they already know the privkey for that UTXO and can instead immediately redirect it to an address they control, and earn more from that block that replaces the Finney attacker block rather than builds on top of it.
All miners will then compete on that block and the Finney attack is promoted from an attack on a single target to an attack on the entire Bitcoin ecosystem, for much justice and laughter.
Thus, `OP_CAT` is too powerful and must not be enabled!!!
Oh no.

Regards,
ZmnSCPxj


&gt;<i>
</I>&gt;<i> Le&#160;jeu. 19 d&#233;c. 2019 &#224;&#160;07:24, ZmnSCPxj &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">ZmnSCPxj at protonmail.com</A>&gt; a &#233;crit&#160;:
</I>&gt;<i>
</I>&gt;<i> &gt; Good morning t-bast,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt; -&#160; &#160;A script-path spend with the following script (and only that script):
</I>&gt;<i> &gt; &gt; &gt;&#160; &#160; &#160;OP_SWAP OP_DUP &lt;R&gt; OP_EQUALVERIFY OP_SWAP &lt;P&gt; OP_CHECKSIG
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Why not this:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &lt;R&gt; OP_SWAP OP_CHECKSPLITSIG
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; ?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Since `R` is constrained to be fixed anyway, why repeat `R` twice, once in the script and once in the witness stack?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; For that matter, since we are far more likely to have a constant `R` than a constant `s` maybe you should instead propose that `OP_CHECKSPLITSIG` be given `&lt;s&gt; &lt;R&gt; &lt;P&gt; OP_CHECKSPLITSIG`, so that a fixed-`R` single-show signature is just `&lt;R&gt; &lt;P&gt; OP_CHECKSPLITSIG`.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Regards,
</I>&gt;<i> &gt; ZmnSCPxj
</I>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002399.html">[Lightning-dev] Pay-to-Open and UX improvements
</A></li>
	<LI>Next message: <A HREF="002401.html">[Lightning-dev] Faking LN transactions to road block chain analysis? Does it make any sense?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2400">[ date ]</a>
              <a href="thread.html#2400">[ thread ]</a>
              <a href="subject.html#2400">[ subject ]</a>
              <a href="author.html#2400">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
