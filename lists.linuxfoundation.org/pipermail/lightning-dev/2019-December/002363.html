<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] eltoo towers and implications for settlement	key derivation
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-December/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20eltoo%20towers%20and%20implications%20for%20settlement%0A%09key%20derivation&In-Reply-To=%3CDt14JSFcah7dQKhOdGOcDjeRStj3luHPV7knLXF8U0jdajXPFIEV6jDke8a0eYIKwBJRwr4W81UiiRoDcBWYUs0YFegtKVPSHHJvEUCxGtE%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002362.html">
   <LINK REL="Next"  HREF="002364.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] eltoo towers and implications for settlement	key derivation</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20eltoo%20towers%20and%20implications%20for%20settlement%0A%09key%20derivation&In-Reply-To=%3CDt14JSFcah7dQKhOdGOcDjeRStj3luHPV7knLXF8U0jdajXPFIEV6jDke8a0eYIKwBJRwr4W81UiiRoDcBWYUs0YFegtKVPSHHJvEUCxGtE%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] eltoo towers and implications for settlement	key derivation">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Tue Dec  3 08:26:22 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="002362.html">[Lightning-dev] eltoo towers and implications for settlement key derivation
</A></li>
        <LI>Next message: <A HREF="002364.html">[Lightning-dev] eltoo towers and implications for settlement	key derivation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2363">[ date ]</a>
              <a href="thread.html#2363">[ thread ]</a>
              <a href="subject.html#2363">[ subject ]</a>
              <a href="author.html#2363">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning aj,


&gt;<i> The watchtower only needs to post the update tx -- as long as the latest
</I>&gt;<i> update is posted, the only tx that can spend it is the correct settlement,
</I>&gt;<i> so you can post that whenever you're back online, even if that's weeks
</I>&gt;<i> or months later, and likewise for actually claiming your funds from the
</I>&gt;<i> settlement tx's outputs.
</I>&gt;<i>
</I>
This is mildly undesirable, as one of the failure modes is total loss / destruction of your Lightning node.

If the blob contains enough information to bring the update *and* the settlement *and* a transaction that spends your output of the settlement and sends it to a cold-storage address, then at least part of your funds (the ones that are not in HTLCs you could have claimed) can be placed back by the watchtower to some cold-storage address (that is controlled by different hardware from your Lightning node).

Though this is arguably an edge case and it may be a worthwhile tradeoff to just have the watchtower handle up to update transaction only, especially since `SIGHASH_NOINPUT` use we propose expects to have fees paid by another output, not what is being used in the update transaction.
This reduces the scope of watchtowers, simplifying their implementation, increasing the chance we can deploy a watchtower network feasibly.

Regards,
ZmnSCPxj
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002362.html">[Lightning-dev] eltoo towers and implications for settlement key derivation
</A></li>
	<LI>Next message: <A HREF="002364.html">[Lightning-dev] eltoo towers and implications for settlement	key derivation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2363">[ date ]</a>
              <a href="thread.html#2363">[ thread ]</a>
              <a href="subject.html#2363">[ subject ]</a>
              <a href="author.html#2363">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
