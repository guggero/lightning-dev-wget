<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Lightning-dev Digest, Vol 35,	Issue 13 (sighash_noinput &amp; watchtowers)
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-July/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Lightning-dev%20Digest%2C%20Vol%2035%2C%0A%09Issue%2013%20%28sighash_noinput%20%26%20watchtowers%29&In-Reply-To=%3CCAHT-rsTPKv9i2vVntEp3jYaqiUL9BmAmNr7n1YV4LLj6t%3Db-3w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001339.html">
   <LINK REL="Next"  HREF="001361.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Lightning-dev Digest, Vol 35,	Issue 13 (sighash_noinput &amp; watchtowers)</H1>
    <B>James Chiang</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Lightning-dev%20Digest%2C%20Vol%2035%2C%0A%09Issue%2013%20%28sighash_noinput%20%26%20watchtowers%29&In-Reply-To=%3CCAHT-rsTPKv9i2vVntEp3jYaqiUL9BmAmNr7n1YV4LLj6t%3Db-3w%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Lightning-dev Digest, Vol 35,	Issue 13 (sighash_noinput &amp; watchtowers)">james.chiangwu at gmail.com
       </A><BR>
    <I>Fri Jul 13 14:54:18 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001339.html">[Lightning-dev] [bitcoin-dev] BIP sighash_noinput
</A></li>
        <LI>Next message: <A HREF="001361.html">[Lightning-dev] Lightning-dev Digest, Vol 35,	Issue 13 (sighash_noinput &amp; watchtowers)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1360">[ date ]</a>
              <a href="thread.html#1360">[ thread ]</a>
              <a href="subject.html#1360">[ subject ]</a>
              <a href="author.html#1360">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello everyone,
 I understand sighash_noinput allows us to reduce the number of stored
signatures, as it can spend any uxto with the respective one-use pub key
script.
In the case of watchtowers, are we not trading off privacy, as we are
revealing which states are related, right?

I'm trying to catch up my understanding on the various models here. The
txid_half + encrypted blob guarantees nothing is learned about each state
and how they relate unless a revocation must happen (but doesn't scale, one
blob per outsourced state). Once signatures are reused for multiple states
with sighash_noinput, how do we minimise information being disclosed to 3rd
party?

Many thanks in advance!

James


On Fri, Jul 13, 2018 at 2:00 PM, &lt;
<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">lightning-dev-request at lists.linuxfoundation.org</A>&gt; wrote:

&gt;<i> Send Lightning-dev mailing list submissions to
</I>&gt;<i>         <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">lightning-dev at lists.linuxfoundation.org</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i>         <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i>         <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">lightning-dev-request at lists.linuxfoundation.org</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i>         <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">lightning-dev-owner at lists.linuxfoundation.org</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of Lightning-dev digest...&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i>    1. Re: [bitcoin-dev] BIP sighash_noinput (Rusty Russell)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Fri, 13 Jul 2018 09:34:14 +0930
</I>&gt;<i> From: Rusty Russell &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">rusty at rustcorp.com.au</A>&gt;
</I>&gt;<i> To: DING FENG &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">dingfeng12345 at gmail.com</A>&gt;, Luke Dashjr &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">luke at dashjr.org</A>&gt;
</I>&gt;<i> Cc: Bitcoin Protocol Discussion
</I>&gt;<i>         &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">bitcoin-dev at lists.linuxfoundation.org</A>&gt;,
</I>&gt;<i>         <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">lightning-dev at lists.linuxfoundation.org</A>, Gregory Maxwell
</I>&gt;<i>         &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">greg at xiph.org</A>&gt;
</I>&gt;<i> Subject: Re: [Lightning-dev] [bitcoin-dev] BIP sighash_noinput
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">878t6gxapt.fsf at rustcorp.com.au</A>&gt;
</I>&gt;<i> Content-Type: text/plain
</I>&gt;<i>
</I>&gt;<i> DING FENG &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">dingfeng12345 at gmail.com</A>&gt; writes:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm a junior developer and a bitcoin user.
</I>&gt;<i> &gt; And I have read this thread carefully.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm very worried about &quot;SIGHASH_NOINPUT&quot;.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Because &quot;SIGHASH_NOINPUT&quot; looks will be widely used, and it makes reuse
</I>&gt;<i> &gt; address more dangerous.
</I>&gt;<i>
</I>&gt;<i> No.
</I>&gt;<i>
</I>&gt;<i> A wallet should *never* create a SIGHASH_NOINPUT to spend its own UTXOs.
</I>&gt;<i> SIGHASH_NOINPUT is useful for smart contracts which have unique
</I>&gt;<i> conditions, such as a pair of peers rotating keys according to an agreed
</I>&gt;<i> schedule (eg. lightning).
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Rusty.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Lightning-dev mailing list
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">Lightning-dev at lists.linuxfoundation.org</A>
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> End of Lightning-dev Digest, Vol 35, Issue 13
</I>&gt;<i> *********************************************
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180713/05cab0db/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180713/05cab0db/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001339.html">[Lightning-dev] [bitcoin-dev] BIP sighash_noinput
</A></li>
	<LI>Next message: <A HREF="001361.html">[Lightning-dev] Lightning-dev Digest, Vol 35,	Issue 13 (sighash_noinput &amp; watchtowers)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1360">[ date ]</a>
              <a href="thread.html#1360">[ thread ]</a>
              <a href="subject.html#1360">[ subject ]</a>
              <a href="author.html#1360">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
