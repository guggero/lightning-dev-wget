<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Onion messages rate-limiting
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2022-July/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Onion%20messages%20rate-limiting&In-Reply-To=%3Cc54f96ac-970b-a236-a46d-e95ceae2f8c7%40mattcorallo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003661.html">
   <LINK REL="Next"  HREF="003663.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Onion messages rate-limiting</H1>
    <B>Matt Corallo</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Onion%20messages%20rate-limiting&In-Reply-To=%3Cc54f96ac-970b-a236-a46d-e95ceae2f8c7%40mattcorallo.com%3E"
       TITLE="[Lightning-dev] Onion messages rate-limiting">lf-lists at mattcorallo.com
       </A><BR>
    <I>Sun Jul 10 19:14:17 UTC 2022</I>
    <P><UL>
        <LI>Previous message: <A HREF="003661.html">[Lightning-dev] Onion messages rate-limiting
</A></li>
        <LI>Next message: <A HREF="003663.html">[Lightning-dev] Onion messages rate-limiting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3662">[ date ]</a>
              <a href="thread.html#3662">[ thread ]</a>
              <a href="subject.html#3662">[ subject ]</a>
              <a href="author.html#3662">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 7/10/22 4:43 AM, Joost Jager wrote:
&gt;<i> It can also be considered a bad thing that DoS ability is not based on a number of messages. It 
</I>&gt;<i> means that for the one time cost of channel open/close, the attacker can generate spam forever if 
</I>&gt;<i> they stay right below the rate limit.
</I>
I don't see why this is a problem? This seems to assume some kind of per-message cost that nodes 
have to bear, but there is simply no such thing. Indeed, if message spam causes denial of service to 
other network participants, this would be an issue, but an attacker generating spam from one 
specific location within the network should not cause that, given some form of backpressure within 
the network.

&gt;<i> Suppose the attacker has enough channels to hit the rate limit on an important connection some hops 
</I>&gt;<i> away from themselves. They can then sustain that attack indefinitely, assuming that they stay below 
</I>&gt;<i> the rate limit on the routes towards the target connection. What will the response be in that case? 
</I>&gt;<i> Will node operators work together to try to trace back to the source and take down the attacker? 
</I>&gt;<i> That requires operators to know each other.
</I>
No it doesn't, backpressure works totally fine and automatically applies pressure backwards until 
nodes, in an automated fashion, are appropriately ratelimiting the source of the traffic.

&gt;<i> Maybe this is a difference between lightning network and the internet that is relevant for this 
</I>&gt;<i> discussion. That routers on the internet know each other and have physical links between them, where 
</I>&gt;<i> as in lightning ties can be much looser.
</I>
No? The internet does not work by ISPs calling each other up on the phone to apply backpressure 
manually whenever someone sends a lot of traffic? If anything lightning ties between nodes are much, 
much stronger than ISPs on the internet - you generally are at least loosely trusting your peer with 
your money, not just your customer's customer's bits.

Matt
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003661.html">[Lightning-dev] Onion messages rate-limiting
</A></li>
	<LI>Next message: <A HREF="003663.html">[Lightning-dev] Onion messages rate-limiting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3662">[ date ]</a>
              <a href="thread.html#3662">[ thread ]</a>
              <a href="subject.html#3662">[ subject ]</a>
              <a href="author.html#3662">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
