<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Broken Factory Attack
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-April/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Broken%20Factory%20Attack&In-Reply-To=%3C5c41294e-5798-8fd3-a6ac-fd4de98955f9%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001982.html">
   <LINK REL="Next"  HREF="001976.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Broken Factory Attack</H1>
    <B>Alejandro Ranchal Pedrosa</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Broken%20Factory%20Attack&In-Reply-To=%3C5c41294e-5798-8fd3-a6ac-fd4de98955f9%40gmail.com%3E"
       TITLE="[Lightning-dev] Broken Factory Attack">a.ranchalpedrosa at gmail.com
       </A><BR>
    <I>Sun Apr 21 02:33:07 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="001982.html">[Lightning-dev] Broken Factory Attack
</A></li>
        <LI>Next message: <A HREF="001976.html">[Lightning-dev] Lightning Factories &amp; Non-interactive aggregation signature schemes for Bitcoin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1983">[ date ]</a>
              <a href="thread.html#1983">[ thread ]</a>
              <a href="subject.html#1983">[ subject ]</a>
              <a href="author.html#1983">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi ZmnSCPxj,

I suppose some variant of that proposal might mitigate the attack, but 
it would trigger a race condition between the valid state of the 
sub-factory and the new state of the channel.

Also, as you said, Alice and Bob might be interested in stealing anyways 
from Carol, regardless of losing the race, if the stolen funds are more.

Best,

Alejandro.

On 17/04/2019 13:45, ZmnSCPxj wrote:

&gt;<i> Good morning Alejandro, and list,
</I>&gt;<i>
</I>&gt;<i> I am uncertain if this would completely solve it, but Discrete Log Contracts has a mechanism by which an Oracle is enforced to reveal its private key, if it publishes multiple signatures signing different messages for a particular sampling.
</I>&gt;<i> It seems like a way to ensure, that a public key is used only once.
</I>&gt;<i>
</I>&gt;<i> Can this mechanism be somehow used, so that if Alice and Bob sign an alternate transaction spending the A,B output (thus invalidating the sub-factory transaction), they also reveal to Carol the private key?
</I>&gt;<i> Carol can then punish this behavior by burning the A,B output and sending it all as fees to miners.
</I>&gt;<i>
</I>&gt;<i> However, it may be insufficient.
</I>&gt;<i> If the A,B channel is very small in capacity, Alice and Bob may be willing to sacrifice it in exchange for stealing larger amounts from Carol.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> ZmnSCPxj
</I>
-- 
Alejandro Ranchal Pedrosa

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001982.html">[Lightning-dev] Broken Factory Attack
</A></li>
	<LI>Next message: <A HREF="001976.html">[Lightning-dev] Lightning Factories &amp; Non-interactive aggregation signature schemes for Bitcoin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1983">[ date ]</a>
              <a href="thread.html#1983">[ thread ]</a>
              <a href="subject.html#1983">[ subject ]</a>
              <a href="author.html#1983">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
