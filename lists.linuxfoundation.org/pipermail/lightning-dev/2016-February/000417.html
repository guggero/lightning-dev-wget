<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Laundry list of inter-peer wire protocol changes
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-February/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Laundry%20list%20of%20inter-peer%20wire%20protocol%20changes&In-Reply-To=%3C87twltutrz.fsf%40rustcorp.com.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000418.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Laundry list of inter-peer wire protocol changes</H1>
    <B>Rusty Russell</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Laundry%20list%20of%20inter-peer%20wire%20protocol%20changes&In-Reply-To=%3C87twltutrz.fsf%40rustcorp.com.au%3E"
       TITLE="[Lightning-dev] Laundry list of inter-peer wire protocol changes">rusty at rustcorp.com.au
       </A><BR>
    <I>Mon Feb  1 01:02:56 UTC 2016</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000418.html">[Lightning-dev] Protocol for multiple in-flight updates.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#417">[ date ]</a>
              <a href="thread.html#417">[ thread ]</a>
              <a href="subject.html#417">[ subject ]</a>
              <a href="author.html#417">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>CJP &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">cjp at ultimatestunts.nl</A>&gt; writes:
&gt;<i> There are a couple of subjects where new concepts are being worked out,
</I>&gt;<i> or where alternative concepts exist; these things are likely to continue
</I>&gt;<i> to evolve after you finish the first version of the protocol.
</I>&gt;<i>
</I>&gt;<i> It would be great if concept changes in one subject can be made more or
</I>&gt;<i> less independently from concept changes in another subject. In order to
</I>&gt;<i> make this possible, I suggest to de-couple certain things, and let each
</I>&gt;<i> subject have its own sub-protocol, with version number / protocol
</I>&gt;<i> identifier.
</I>&gt;<i>
</I>&gt;<i> The way I see it, the following subjects have ongoing design /
</I>&gt;<i> alternative concepts, more or less independently from each other:
</I>
Indeed!

&gt;<i> * Micro-transaction channel design: e.g. several variations on the
</I>&gt;<i> Lightning channel design, and Amiko Pay's escrow-based HTLC emulation
</I>&gt;<i> and IOU semi-channel.
</I>
Yes, for lightning I would further split this into wire crypto, wire
protocol, anchoring and fee design, and commit transaction design.

&gt;<i> * Commit conditions: traditional definition consists of a hash value and
</I>&gt;<i> a time-out. For practical purposes, Amiko Pay also adds a &quot;start time&quot;,
</I>&gt;<i> and there is an alternative concept of using keypairs instead of hash
</I>&gt;<i> values to de-correlate a transaction in different links.
</I>
Good point.  I think of this as a sub-part of transaction design, but
it's logically a separable issue.

&gt;<i> * Routing: how to exchange routing info. For source routing: informing
</I>&gt;<i> each other about Lightning nodes that exist. For source and non-source
</I>&gt;<i> routing: informing each other about availability of routes, expected
</I>&gt;<i> capacity and fees. The type of routing info depends on the routing
</I>&gt;<i> algorithm in use by a node.
</I>
There are several topology issues:

1) Source-routing format (aka. onion design).
2) Route and fee broadcast and finding (eg. How do I find a route to X
   where all nodes support keypair commitments?).
3) Initial node finding (how do I find a node to create channels to?)

&gt;<i> In Amiko Pay, the micro-transaction channel design is already separated
</I>&gt;<i> from the rest of the protocol; commit conditions are not (yet), and
</I>&gt;<i> exchange of routing info doesn't really exist yet, since it's still
</I>&gt;<i> doing &quot;dumb&quot; non-source routing (trying every possible route).
</I>
In c-lightning, routing is separate because it doesn't exist yet :)

Cheers,
Rusty.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000418.html">[Lightning-dev] Protocol for multiple in-flight updates.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#417">[ date ]</a>
              <a href="thread.html#417">[ thread ]</a>
              <a href="subject.html#417">[ subject ]</a>
              <a href="author.html#417">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
