<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Fee Ratecards (your gateway to negativity)
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2022-September/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Fee%20Ratecards%20%28your%20gateway%20to%20negativity%29&In-Reply-To=%3C8a5b29bf105ea2187b55daa8a74d7101%40dtrt.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003685.html">
   <LINK REL="Next"  HREF="003688.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Fee Ratecards (your gateway to negativity)</H1>
    <B>David A. Harding</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Fee%20Ratecards%20%28your%20gateway%20to%20negativity%29&In-Reply-To=%3C8a5b29bf105ea2187b55daa8a74d7101%40dtrt.org%3E"
       TITLE="[Lightning-dev] Fee Ratecards (your gateway to negativity)">dave at dtrt.org
       </A><BR>
    <I>Fri Sep 23 01:11:18 UTC 2022</I>
    <P><UL>
        <LI>Previous message: <A HREF="003685.html">[Lightning-dev] Fee Ratecards (your gateway to negativity)
</A></li>
        <LI>Next message: <A HREF="003688.html">[Lightning-dev] Fee Ratecards (your gateway to negativity)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3687">[ date ]</a>
              <a href="thread.html#3687">[ thread ]</a>
              <a href="subject.html#3687">[ subject ]</a>
              <a href="author.html#3687">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2022-09-13 11:15, lisa neigut wrote:
&gt;<i> Hi all,
</I>
Hi Lisa,

Thank you for describing this idea in detail on the mailing list.

&gt;<i> A ratecard is a set of four values, positive or negative, that price
</I>&gt;<i> different bands of available liquidity for a channel.
</I>
Am I understanding correctly that this implies spenders wanting to send 
an LN payment will either need to estimate the current division of funds 
for every hop along their projected path or will need to pay the highest 
ratecard for each hop?  How are spenders supposed to make those 
estimates about the division of funds in distant channels?

If there's no easy and network-friendly way for spenders to gather that 
information, I would worry that will lead to the creation of services 
which do collect the info and which become central to LN's operation.

&gt;<i> For example, if a payment moves 50k through a 100k channel which is
</I>&gt;<i> currently at a total available capacity of 75k sats (which means it'll 
</I>&gt;<i> move the
</I>&gt;<i> capacity from 75k to 25k), that payment will be expected to pay a rate 
</I>&gt;<i> equal to
</I>&gt;<i> the 0-25% band, as it'll push the available capacity into the 0-25% 
</I>&gt;<i> range.
</I>
Shouldn't this be pro rata?  If it's not expected to be proportional at 
the protocol level, then spender Alice can still get almost proportional 
rates by sequentially sending Bob's forwarding node fifty 1k payments 
and have 24 of them pay the 51-75 rate, 25 pay the 26-50 rate, and only 
1 pay the 0-25 rate.  Since base fees are disallowed, this costs Alice 
nothing extra but reduces network capacity by consuming HTLC slots for 
her, Bob, and every other forwarding channel.

However, for Alice to pay proportional fees either way, she'd need a 
fairly precise estimate of the current division of funds in one of Bob's 
channels, which brings me back to my earlier question about how Alice is 
supposed to obtain that information in a way that's easy and friendly to 
the network (and therefore resistant to centralization).

Thanks,

-Dave
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003685.html">[Lightning-dev] Fee Ratecards (your gateway to negativity)
</A></li>
	<LI>Next message: <A HREF="003688.html">[Lightning-dev] Fee Ratecards (your gateway to negativity)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3687">[ date ]</a>
              <a href="thread.html#3687">[ thread ]</a>
              <a href="subject.html#3687">[ subject ]</a>
              <a href="author.html#3687">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
