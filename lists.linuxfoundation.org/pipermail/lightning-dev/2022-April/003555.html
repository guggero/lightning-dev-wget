<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] [bitcoin-dev] [Pre-BIP] Fee Accounts
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2022-April/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20%5Bbitcoin-dev%5D%20%5BPre-BIP%5D%20Fee%20Accounts&In-Reply-To=%3CCAD5xwhgGgq30C7GniNh1_DobPe%2BP4NTJySUkDiBZBj%3DOjzO5KA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003554.html">
   <LINK REL="Next"  HREF="003570.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] [bitcoin-dev] [Pre-BIP] Fee Accounts</H1>
    <B>Jeremy Rubin</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20%5Bbitcoin-dev%5D%20%5BPre-BIP%5D%20Fee%20Accounts&In-Reply-To=%3CCAD5xwhgGgq30C7GniNh1_DobPe%2BP4NTJySUkDiBZBj%3DOjzO5KA%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] [bitcoin-dev] [Pre-BIP] Fee Accounts">jeremy.l.rubin at gmail.com
       </A><BR>
    <I>Sun Apr 17 20:57:28 UTC 2022</I>
    <P><UL>
        <LI>Previous message: <A HREF="003554.html">[Lightning-dev] [bitcoin-dev] [Pre-BIP] Fee Accounts
</A></li>
        <LI>Next message: <A HREF="003570.html">[Lightning-dev] [bitcoin-dev] [Pre-BIP] Fee Accounts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3555">[ date ]</a>
              <a href="thread.html#3555">[ thread ]</a>
              <a href="subject.html#3555">[ subject ]</a>
              <a href="author.html#3555">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>the 'lots of people' stuff (get confused, can't figure out what i'm
quoting, actually are reading this conversation) is an appeal to an
authority that doesn't exist. If something is unclear to you, let me know.
If it's unclear to a supposed existential person or set of persons, they
can let me know.


concretely, I am confused by how OTS can both support RBF for updating to
larger commitments (the reason you're arguing with me) and not have an
epoch based re-comittings scheme and still be correct. My assumption now,
short of a coherent spec that's not just 'read the code', is that OTS
probably is not formally correct and has some holes in what is
committed to, or relies on clients re-requesting proofs if they fail to be
committed. in any case, you would be greatly aided by having an actual spec
for OTS since i'm not interested in the specifics of OTS software, but I'm
willing to look at the protocol. So if you do that, maybe we can talk more
about the issue you see with how sponsors works.

further, I think that if there is something that sponsors does that could
make a hypothetical OTS-like service work better, in a way that would be
opaque (read: soft-fork like wrt compatibility) to clients, then we should
just change what OTS is rather than committing ourselves to a worse design
in service of some unstated design goals. In particular, it seems that
OTS's servers can be linearized and because old clients aren't looking for
linearization, then the new linearization won't be a breaking change for
old clients, just calendar servers. And new clients can benefit from
linearization.
--
@JeremyRubin &lt;<A HREF="https://twitter.com/JeremyRubin">https://twitter.com/JeremyRubin</A>&gt;


On Fri, Apr 15, 2022 at 7:52 AM Peter Todd &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">pete at petertodd.org</A>&gt; wrote:

&gt;<i> On Mon, Apr 11, 2022 at 09:18:10AM -0400, Jeremy Rubin wrote:
</I>&gt;<i> &gt; &gt; nonsense marketing
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm sure the people who are confused about &quot;blockchain schemes as \&quot;world
</I>&gt;<i> &gt; computers\&quot; and other nonsense
</I>&gt;<i> &gt; marketing&quot; are avid and regular readers of the bitcoin devs mailing list
</I>&gt;<i> so
</I>&gt;<i> &gt; I offer my sincerest apologies to all members of the intersection of
</I>&gt;<i> those
</I>&gt;<i> &gt; sets who were confused by the description given.
</I>&gt;<i>
</I>&gt;<i> Of course, uninformed people _do_ read all kinds of technical materials.
</I>&gt;<i> And
</I>&gt;<i> more importantly, those technical materials get quoted by journalists,
</I>&gt;<i> scammers, etc.
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; useless work
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; progress is not useless work, it *is* useful work in this context. you
</I>&gt;<i> have
</I>&gt;<i> &gt; committed to some subset of data that you requested -- if it was
</I>&gt;<i> 'useless',
</I>&gt;<i> &gt; why did you *ever* bother to commit it in the first place? However, it is
</I>&gt;<i> &gt; not 'maximally useful' in some sense. However, progress is progress --
</I>&gt;<i> &gt; suppose you only confirmed 50% of the commitments, is that not progress?
</I>&gt;<i> If
</I>&gt;<i> &gt; you just happened to observe 50% of the commitments commit because of
</I>&gt;<i> &gt; proximity to the time a block was mined and tx propagation naturally
</I>&gt;<i> would
</I>&gt;<i> &gt; you call it useless?
</I>&gt;<i>
</I>&gt;<i> Please don't trim quoted text to the point where all context is lost. Lots
</I>&gt;<i> of
</I>&gt;<i> people read this mailing list and doing that isn't helpful to them.
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; Remember that OTS simply proves data in the past. Nothing more.
</I>&gt;<i> &gt; &gt; OTS doesn't have a chain of transactions
</I>&gt;<i> &gt; Gotcha -- I've not been able to find an actual spec of Open Time Stamps
</I>&gt;<i>
</I>&gt;<i> The technical spec of OpenTimestamps is of course the normative validation
</I>&gt;<i> source code, currently python-opentimestamps, similar to how the technical
</I>&gt;<i> spec
</I>&gt;<i> of Bitcoin is the consensus parts of the Bitcoin Core codebase. The
</I>&gt;<i> explanatory
</I>&gt;<i> docs are linked on <A HREF="https://opentimestamps.org">https://opentimestamps.org</A> under the &quot;How It Works&quot;
</I>&gt;<i> section.
</I>&gt;<i> It'd be good to take the linked post in that section and turn it into
</I>&gt;<i> better
</I>&gt;<i> explanatory materials with graphics (esp interactive/animated graphics).
</I>&gt;<i>
</I>&gt;<i> &gt; anywhere, so I suppose I just assumed based on how I think it *should*
</I>&gt;<i> &gt; work. Having a chain of transactions would serve to linearize history of
</I>&gt;<i> &gt; OTS commitments which would let you prove, given reorgs, that knowledge
</I>&gt;<i> of
</I>&gt;<i> &gt; commit A was before B a bit more robustly.
</I>&gt;<i>
</I>&gt;<i> I'll reply to this as a separate email as this discussion - while useful -
</I>&gt;<i> is
</I>&gt;<i> getting quite off topic for this thread.
</I>&gt;<i>
</I>&gt;<i> &gt; &gt;  I'd rather do one transaction with all pending commitments at a
</I>&gt;<i> &gt; particular time
</I>&gt;<i> &gt; rather than waste money on mining two transactions for a given set of
</I>&gt;<i> &gt; commitments
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This sounds like a personal preference v.s. a technical requirement.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; You aren't doing any extra transactions in the model i showed, what
</I>&gt;<i> you're
</I>&gt;<i> &gt; doing is selecting the window for the next based on the prior conf.
</I>&gt;<i>
</I>&gt;<i> ...the model you showed is wrong, as there is no reason to have a
</I>&gt;<i> linearized
</I>&gt;<i> transaction history. OpenTimestamps proofs don't even have the concept of
</I>&gt;<i> transactions: the proof format proves that data existed prior to a merkle
</I>&gt;<i> root
</I>&gt;<i> of a particular Bitcoin block. Not a Bitcoin transaction.
</I>&gt;<i>
</I>&gt;<i> &gt; See the diagram below, you would have to (if OTS is correct) support this
</I>&gt;<i> &gt; sort of 'attempt/confirm' head that tracks attempted commitments and
</I>&gt;<i> &gt; confirmed ones and 'rewinds' after a confirm to make the next commit
</I>&gt;<i> &gt; contain the prior attempts that didn't make it.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> [.........................................................................]
</I>&gt;<i> &gt;  ------^ confirm head tx 0 at height 34
</I>&gt;<i> &gt;         ------------------------^ attempt head after tx 0
</I>&gt;<i> &gt;          -----------^ confirm head tx 1 at height 35
</I>&gt;<i> &gt;                       --------------------------^ attempt head after tx 1
</I>&gt;<i> &gt;                       ------------^ confirm head tx 2 at height 36
</I>&gt;<i> &gt;                                      -------------------------------^
</I>&gt;<i> &gt; attempt head after tx 2
</I>&gt;<i> &gt;                                       -------------------------------^
</I>&gt;<i> &gt; confirm head tx 3 at height 37
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; you can compare this to a &quot;spherical cow&quot; model where RBF is always
</I>&gt;<i> perfect
</I>&gt;<i> &gt; and guaranteed inclusion:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> [.........................................................................]
</I>&gt;<i> &gt;  ------^ confirm head tx 0 at height 34
</I>&gt;<i> &gt;        -------------------------^ confirm head tx 1 at height 35
</I>&gt;<i> &gt;                                        -----------^ confirm head at tx 1
</I>&gt;<i> &gt; height 36
</I>&gt;<i> &gt;                                                        -----------------^
</I>&gt;<i> &gt; confirm head tx 3 at height 37
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The same number of transactions gets used over the time period.
</I>&gt;<i>
</I>&gt;<i> None of the above has anything to do with how OpenTimestamps works.
</I>&gt;<i>
</I>&gt;<i> Anyway, getting back to the topic at hand, I remain of the opinion that in
</I>&gt;<i> the
</I>&gt;<i> unlikely event that fee accounts is ever implemented, it should be opt-in.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> <A HREF="https://petertodd.org">https://petertodd.org</A> 'peter'[:-1]@petertodd.org
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20220417/be59c0a8/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20220417/be59c0a8/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003554.html">[Lightning-dev] [bitcoin-dev] [Pre-BIP] Fee Accounts
</A></li>
	<LI>Next message: <A HREF="003570.html">[Lightning-dev] [bitcoin-dev] [Pre-BIP] Fee Accounts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3555">[ date ]</a>
              <a href="thread.html#3555">[ thread ]</a>
              <a href="subject.html#3555">[ subject ]</a>
              <a href="author.html#3555">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
