<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Transaction revocation within	transaction	malleability via anyone-can-revoke hashlocks
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2017-May/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Transaction%20revocation%20within%0A%09transaction%09malleability%20via%20anyone-can-revoke%20hashlocks&In-Reply-To=%3C871ss4f2s0.fsf%40rustcorp.com.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000689.html">
   <LINK REL="Next"  HREF="000704.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Transaction revocation within	transaction	malleability via anyone-can-revoke hashlocks</H1>
    <B>Rusty Russell</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Transaction%20revocation%20within%0A%09transaction%09malleability%20via%20anyone-can-revoke%20hashlocks&In-Reply-To=%3C871ss4f2s0.fsf%40rustcorp.com.au%3E"
       TITLE="[Lightning-dev] Transaction revocation within	transaction	malleability via anyone-can-revoke hashlocks">rusty at rustcorp.com.au
       </A><BR>
    <I>Fri May  5 02:36:31 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="000689.html">[Lightning-dev] Transaction revocation within	transaction	malleability via anyone-can-revoke hashlocks
</A></li>
        <LI>Next message: <A HREF="000704.html">[Lightning-dev] Transaction revocation within	transaction	malleability via anyone-can-revoke hashlocks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#702">[ date ]</a>
              <a href="thread.html#702">[ thread ]</a>
              <a href="subject.html#702">[ subject ]</a>
              <a href="author.html#702">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>ZmnSCPxj &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">ZmnSCPxj at protonmail.com</A>&gt; writes:
&gt;<i> Good morning Rusty,
</I>&gt;<i>
</I>&gt;&gt;<i>ZmnSCPxj &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">ZmnSCPxj at protonmail.com</A>&gt; writes:
</I>&gt;&gt;&gt;<i> From what I can gather so far, it seems, the issue of transaction revocation even with transaction malleability appears to be solved. Although, I want to know, is my idea (which support selfish untrustworthy watchers) better than what Lightning now has? Or has different tradeoffs? It seems to me, at first glance, if the revocation key in my idea is not publicized but sent only to the counterparty, it is effectively equivalent to the current technique. But the receiving counterparty has the option of publishing this revocation key in order to allow anyone to enforce and get free money, even with malleability.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>That's true, actually.
</I>&gt;<i>
</I>&gt;<i> Do you think it's a good idea to publish revocation keys, and have the condition (Alice &amp;&amp; revokekey) || (CSV + 1 &amp;&amp; revokekey) || (CSV + 2 &amp;&amp; Bob)? That way, you can revoke immediately if iyu are online, or anyone (including Bob) can poach it if you let the CSV+1 lapse (the hope is, Bob's probability of poaching via this method is low, so, it will disincentivize Bob). If you don't want anyone to poach the money via anyone-can-revoke, you can keep the revocation key to yourself, but you must ensure you can get online before the CSV+2 period arrives.
</I>
I think it's a good idea to use segwit, and not rely on these kind of
games...

&gt;&gt;<i>You can certainly have trusted watchers know
</I>&gt;&gt;<i>your revocation keys (and they have a very compact form, so the storage
</I>&gt;&gt;<i>is ~log2(num-transactions).
</I>&gt;<i>
</I>&gt;<i> Maybe, you mean, counterparty's revocation key? (sorry, I want to confirm my understanding of low level of Lightning Network)
</I>
Ah, terminology?  I meant A could share the key which allows A to spend
B's old commitment transactions.

Cheers,
Rusty.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000689.html">[Lightning-dev] Transaction revocation within	transaction	malleability via anyone-can-revoke hashlocks
</A></li>
	<LI>Next message: <A HREF="000704.html">[Lightning-dev] Transaction revocation within	transaction	malleability via anyone-can-revoke hashlocks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#702">[ date ]</a>
              <a href="thread.html#702">[ thread ]</a>
              <a href="subject.html#702">[ subject ]</a>
              <a href="author.html#702">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
