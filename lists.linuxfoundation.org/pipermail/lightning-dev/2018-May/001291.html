<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Mitigations for loop attacks
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-May/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Mitigations%20for%20loop%20attacks&In-Reply-To=%3CCADZtCSgyMVM_ZVx%3DU0H9QucgiqECWdFJXfr0piPK%3D%2B63G%2BR-DQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001290.html">
   <LINK REL="Next"  HREF="001293.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Mitigations for loop attacks</H1>
    <B>Jim Posen</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Mitigations%20for%20loop%20attacks&In-Reply-To=%3CCADZtCSgyMVM_ZVx%3DU0H9QucgiqECWdFJXfr0piPK%3D%2B63G%2BR-DQ%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Mitigations for loop attacks">jim.posen at gmail.com
       </A><BR>
    <I>Sat May 19 00:54:49 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001290.html">[Lightning-dev] Mitigations for loop attacks
</A></li>
        <LI>Next message: <A HREF="001293.html">[Lightning-dev] Mitigations for loop attacks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1291">[ date ]</a>
              <a href="thread.html#1291">[ thread ]</a>
              <a href="subject.html#1291">[ subject ]</a>
              <a href="author.html#1291">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes Rusty, you are correct that an attacker still gets leverage on their
ability to destroy reputation unless the loss rates increase exponentially.
And I agree that would be a very steep increase, serving do decrease
circuit lengths dramatically. The reasoning for the linear increase in
reputation loss comes from viewing reputation loss as compensation for
time-value lost in locked HTLCs. In a sense, every node pays in reputation
for all of the time-value locked in HTLCs upstream from them in proportion
to the value assigned to it by the owners of the funds.

I'm not sure whether this would be an acceptable way of pricing payment
delays, though I do think it is important to make attackers pay for the
resources they are wasting on the network in some form.

On Fri, May 18, 2018 at 4:38 PM, ZmnSCPxj &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">ZmnSCPxj at protonmail.com</A>&gt; wrote:

&gt;<i> Good morning Rusty,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; Also, you talked about reputation_loss_rate as being a private per-node
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; thing, and being an explicit thing in the HTLC. I'm ignoring the
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; former, and assuming the latter.
</I>&gt;<i>
</I>&gt;<i> Reputation (the score) is a private per-node thing, while the
</I>&gt;<i> `reputation_loss_rate` is explicit in the HTLC.
</I>&gt;<i>
</I>&gt;<i> I am uncertain how that changes your analysis, though.  In a line network
</I>&gt;<i> like you showed, the reputation &quot;bins&quot; are Node1-&gt;Node2 and Node2-&gt;Node1
</I>&gt;<i> and so on.  It may be more useful to think of the reputation bins as
</I>&gt;<i> assigned to half-chans than to nodes.
</I>&gt;<i>
</I>&gt;<i> So the initial Mallory3-&gt;Node18-&gt;Mallory2 gives high reputation to
</I>&gt;<i> half-chans Node18-&gt;Mallory3 and Node18-&gt;Mallory2, then sacrifices the
</I>&gt;<i> Node18-&gt;Mallory3 reputation to destroy the NodeN -&gt; NodeN+1 and
</I>&gt;<i> NodeN+1-&gt;NodeN reputations.
</I>&gt;<i>
</I>&gt;<i> Along that line, reputation lost is higher as N increases. Graphing
</I>&gt;<i> reputation lost along that line, we form a triangle, and the area of the
</I>&gt;<i> triangle is the total reputation destroyed.  Only the length of one edge of
</I>&gt;<i> the triangle is what is lost by the Node18-&gt;Mallory3 reputation score.  So
</I>&gt;<i> yes, it seems you are correct here.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> ZmnSCPxj
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180518/f341c9c4/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180518/f341c9c4/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001290.html">[Lightning-dev] Mitigations for loop attacks
</A></li>
	<LI>Next message: <A HREF="001293.html">[Lightning-dev] Mitigations for loop attacks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1291">[ date ]</a>
              <a href="thread.html#1291">[ thread ]</a>
              <a href="subject.html#1291">[ subject ]</a>
              <a href="author.html#1291">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
