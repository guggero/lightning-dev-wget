<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Superbolt Proposal - a professionally run LN subset delivering superior UX
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-March/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Superbolt%20Proposal%20-%20a%20professionally%20run%20LN%0A%20subset%20delivering%20superior%20UX&In-Reply-To=%3CCABzy5egMzDg5LCqb-iB5yQGVVjA6-fDMC6%3DELXorzq8qM5PE9Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002576.html">
   <LINK REL="Next"  HREF="002589.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Superbolt Proposal - a professionally run LN subset delivering superior UX</H1>
    <B>Robert Allen</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Superbolt%20Proposal%20-%20a%20professionally%20run%20LN%0A%20subset%20delivering%20superior%20UX&In-Reply-To=%3CCABzy5egMzDg5LCqb-iB5yQGVVjA6-fDMC6%3DELXorzq8qM5PE9Q%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Superbolt Proposal - a professionally run LN subset delivering superior UX">robertwilliamallen at gmail.com
       </A><BR>
    <I>Tue Mar 10 01:52:14 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="002576.html">[Lightning-dev] Superbolt Proposal - a professionally run LN	subset delivering superior UX
</A></li>
        <LI>Next message: <A HREF="002589.html">[Lightning-dev] Superbolt Proposal - a professionally run LN	subset delivering superior UX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2588">[ date ]</a>
              <a href="thread.html#2588">[ thread ]</a>
              <a href="subject.html#2588">[ subject ]</a>
              <a href="author.html#2588">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello ZmnSCPxj,

How did you know that I'm a closet furry?! ;) I'm shaking in my
onesie right now...

It is definitely not my goal to split the network up but rather to provide
some guide rails to help ensure usability and decentralization. I also
agree 100% that Tor nodes are a must for LN.

In terms of maximum node size for SBN, I do feel that it would be
beneficial to the decentralization of the network to have that in place (if
it worked as intended) but also understand the scenario you outline where
many nodes could be spun up on the same machine. Perhaps a better (and
actually enforceable) approach would be to require that all RNs commit 0.5
BTC per channel (1 BTC total per channel) with a minimum of 4 channels. So,
a larger node could have many more than 4 channels assuming each channel
meets the liquidity requirement. This wouldn't help to further
decentralization but would at least ensure uniform channel liquidity. It
seems that just as the one computer one vote idea with BTC didn't pan out,
there is a similar problem here that may be insurmountable.

Your suggestion for self-attestation using OpenTimeStamps is really
brilliant and elegant. I don't see any reason why this shouldn't work. I do
think it would be better to extend the minimum number of self-attestations
to perhaps 7 days worth of blocks (so that a node cannot easily
join/exit/rejoin SBN). I'm also wondering if it would make sense to add
OpenTimeStamps servers to all SBN nodes and then use some kind of random
election function such that for each block all attestations would be sent
to the elected server and published to BTC (thus ensuring the lowest
possible fee vs. using a redundant approach with multiple OTS servers). If
the election is sufficiently random, it would seem to be very difficult to
coordinate an attack where a furry's attestation would be excluded from a
block for more than some very small number (well bellow putting them in
danger of being excluded from the network for insufficient uptime).

I reworked the proposal with the OpenTimeStamps approach and published it
on GitHub &lt;<A HREF="https://github.com/robertwilliamallen/superbolt">https://github.com/robertwilliamallen/superbolt</A>&gt;. ZmnSCPxj and
anyone else who finds this proposal to be interesting is invited to come
and add their ideas to the mix.

I also see some similarities to this proposal and Lightning Service
Providers (LSPs) as written about by Roy Sheinfeld here:
<A HREF="https://medium.com/breez-technology/introducing-lightning-service-providers-fe9fb1665d5f.">https://medium.com/breez-technology/introducing-lightning-service-providers-fe9fb1665d5f.</A>
Don't know if he's in this group, but would really enjoy connecting with
him to discuss if he is.

Best,
Robert

On Mon, Mar 2, 2020 at 9:07 PM ZmnSCPxj &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">ZmnSCPxj at protonmail.com</A>&gt; wrote:

&gt;<i> Good morning Robert,
</I>&gt;<i>
</I>&gt;<i> Unfortunately, this proposal is basically a proposal to split the network
</I>&gt;<i> into a central network of specially-chosen nodes surrounded by second-class
</I>&gt;<i> and third-class nodes that are utterly dependent on the central network,
</I>&gt;<i> which I personally find disturbing.
</I>&gt;<i>
</I>&gt;<i> Of course, it may be that this is already where the network is heading,
</I>&gt;<i> which is sad.
</I>&gt;<i> Gravity exists, and is difficult to resist against; yet as long as I
</I>&gt;<i> remain standing on my own two legs (since I am human, I possess two legs),
</I>&gt;<i> I resist gravity.
</I>&gt;<i>
</I>&gt;<i> In any case, other than that, here are some more thoughts:
</I>&gt;<i>
</I>&gt;<i> &gt; it may be beneficial to have a maximum node capitalization limit.
</I>&gt;<i>
</I>&gt;<i> This is trivially worked around by running multiple virtual nodes, say on
</I>&gt;<i> the same machine but behind different Tor .onion addresses.
</I>&gt;<i> Then any benefit you get would be a mirage.
</I>&gt;<i> If you go through with this, I suggest that such limits not be imposed
</I>&gt;<i> anyway, as it is trivial to get around them.
</I>&gt;<i>
</I>&gt;<i> Disallowing Tor .onion addresses would be bad as well: it should be
</I>&gt;<i> allowed that some high-liquidity nodes have their privacy protected if
</I>&gt;<i> needed.
</I>&gt;<i>
</I>&gt;<i> &gt; 5.  Attestation: Any LN node which claims to meet the requirements to be
</I>&gt;<i> included in SBN would be rated by a randomized subset of the SBN network
</I>&gt;<i> and the inquiring node would receive cryptographically signed attestation
</I>&gt;<i> that the node is either valid or invalid.
</I>&gt;<i>
</I>&gt;<i> How would you bootstrap this SBN?
</I>&gt;<i> Who are the first members of the SBN, and why should they let, say,
</I>&gt;<i> furries join the SBN by attesting to them?
</I>&gt;<i> If the first members all hate furries (and everybody hates furries, after
</I>&gt;<i> all, why do you think the Cats movie bombed?) then even a random subset of
</I>&gt;<i> those first SBN members will not attest to any furries, because furries are
</I>&gt;<i> ew.
</I>&gt;<i>
</I>&gt;<i> Note that we already have attestation to the liquidity of a node, by
</I>&gt;<i> having the node publish its channels, since channels are attested on the
</I>&gt;<i> blockchain, whose blocks are attested economically (i.e. a sufficiently
</I>&gt;<i> rich furry can always create channels on the blockchain, because
</I>&gt;<i> censorship-resistant).
</I>&gt;<i> What is missing is a censorship-resistant attestation of the ***uptime***
</I>&gt;<i> of a node.
</I>&gt;<i>
</I>&gt;<i> Now of course, a furry might manage to get through by at least first
</I>&gt;<i> hiding the fact that it is a furry, but once discovered, a
</I>&gt;<i> &quot;randomly-selected&quot; subset of the SBN would then counter-attest that the
</I>&gt;<i> furry is actually only 98.9% up, revoking its membership from the SBN.
</I>&gt;<i> This gets worse if the furry was using its open public IP rather than
</I>&gt;<i> sensibly using a Tor .onion address (which means that, for the protection
</I>&gt;<i> of furry and non-furry alike, we must support Tor .onion addresses for SBN
</I>&gt;<i> members).
</I>&gt;<i>
</I>&gt;<i> Which brings up the next topic: how does the &quot;random selection&quot; work?
</I>&gt;<i> It might be doable to use entropy from the onchain block IDs, assuming
</I>&gt;<i> miners are not willing to increase the difficulty of their work further by
</I>&gt;<i> biasing their blocks against those furries (which all miners also hate,
</I>&gt;<i> because everybody hates furries).
</I>&gt;<i> But that means there has to be some authoritative set of SBN members (from
</I>&gt;<i> which a deterministic algorithm would choose a subset), and there would
</I>&gt;<i> need to be consensus on what that set of SBN members ***is*** as well, and
</I>&gt;<i> how to keep around this data of who all the SBN members are, and so on.
</I>&gt;<i> This starts to look like a tiny federated / proof-of-stake blockchain,
</I>&gt;<i> which we would like to avoid because blockchains have bad scaling, though I
</I>&gt;<i> suppose this might be acceptable if the only transactions are removal and
</I>&gt;<i> adding of SBN members.
</I>&gt;<i> What would the block rate be, and who are the genesis SBN members (and are
</I>&gt;<i> any of them furries)?
</I>&gt;<i> How bad will this get a decade from now, and how many will be using SPV
</I>&gt;<i> for this set-of-SBN-members federated blockchain?
</I>&gt;<i>
</I>&gt;<i> &gt; 2.  Ignoring the 48% of unreachable nodes, payment success rate is 66%
</I>&gt;<i> on the first payment attempt. With multiple retries for the payment,
</I>&gt;<i> success rates reach about 80%. This means that even for nodes which are
</I>&gt;<i> available and reachable, 20% of payments are not able to complete. This is
</I>&gt;<i> not good.
</I>&gt;<i>
</I>&gt;<i> I note that, as I understood the presentation, the data-gathering model
</I>&gt;<i> was that every node had an equal chance of being the payee.
</I>&gt;<i>
</I>&gt;<i> However, we should note that not every public node expects to be a payee
</I>&gt;<i> at all times, and that for nodes with a brisk business on Lightning, their
</I>&gt;<i> success chances are, as I understand it, higher.
</I>&gt;<i> Thus the actual experience is better than the dire numbers suggested in
</I>&gt;<i> the presentation.
</I>&gt;<i> Of course, I have no numbers or data to present here.
</I>&gt;<i>
</I>&gt;<i> In general, if you are expecting a payment over Lightning, you will
</I>&gt;<i> generally arrange to make this as smooth as possible, and will ensure you
</I>&gt;<i> have incoming liquidity, that your node was actually up during the time you
</I>&gt;<i> expect a payment, and so on (you have a strong incentive to do so, because
</I>&gt;<i> you like money); whereas the model used was that everybody gets a  payment
</I>&gt;<i> (that they cannot claim because the payment hash was a random number) and
</I>&gt;<i> not everyone has their nodes online all the time with incoming liquidity in
</I>&gt;<i> all channels with peers that are also alive.
</I>&gt;<i> Thus, I expect the actual experience to be higher: in short, the data from
</I>&gt;<i> cdecker establishes a lower bound on the expected user experience, not an
</I>&gt;<i> upper bound, because it just randomly took everyone as a possible target.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>
</I>&gt;<i> So let me counterpropose that:
</I>&gt;<i>
</I>&gt;<i> * What we are missing is a censorship-free way to attest to uptime.
</I>&gt;<i> * Liquidity is visible onchain.
</I>&gt;<i> * You are already going to need a blockchain anyway to anchor your funds.
</I>&gt;<i>
</I>&gt;<i> So:
</I>&gt;<i>
</I>&gt;<i> * Nodes that want to declare themselves as members of SBN sign the current
</I>&gt;<i> block.
</I>&gt;<i>   * These nodes put their signatures in OpenTimeStamps for the *next*
</I>&gt;<i> block.
</I>&gt;<i>   * When somebody asks &quot;what is your uptime???&quot; they show the signatures
</I>&gt;<i> they have that are attested on OpenTimeStamps.
</I>&gt;<i>     * The asker will disbelieve them unless the set of signatures attested
</I>&gt;<i> on OpenTimeStamps is large enough.
</I>&gt;<i>       For example, it could require that the node, to be believed as a
</I>&gt;<i> member of SBN, to show 99 signatures within the last 100 blocks as having
</I>&gt;<i> been attested on OpenTimeStamps.
</I>&gt;<i> * To be accepted as an SBN member, your node needs only to give these
</I>&gt;<i> proofs to anyone who asks:
</I>&gt;<i>   * Proof that it has liquidity --- which it already does by the current
</I>&gt;<i> gossip system.
</I>&gt;<i>   * Proof that it has high uptime --- by the above mechanism.
</I>&gt;<i>
</I>&gt;<i> This assumes OpenTimeStamps does not hate furries, or that you can hide
</I>&gt;<i> your furry-ness from OpenTimeStamps.
</I>&gt;<i> I believe it is possible to hide furry-ness: my understanding is that it
</I>&gt;<i> is commitments, and not their openings, that is received by the
</I>&gt;<i> OpenTimeStamps server.
</I>&gt;<i> Thus, an SBN wannabe self-attests: they publish their onlineness to
</I>&gt;<i> OpenTimeStamps, they do not ask somebody &quot;please tell everyone else that I
</I>&gt;<i> am not a furry&quot;.
</I>&gt;<i>
</I>&gt;<i> As well, we can replace OpenTimeStamps with some other attestation
</I>&gt;<i> mechanism that publishes attestations, at cost, onchain, though we should
</I>&gt;<i> be careful to design one with very low onchain footprint.
</I>&gt;<i> Using OpenTimeStamps may make the OpenTimeStamps server an attractive
</I>&gt;<i> target for attacks, and distributing this risk is needed.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> ZmnSCPxj
</I>&gt;<i>
</I>&gt;<i>
</I>
-- 
Best,

Robert Allen
Executive Producer
Bitcoin and Friends
btcandfriends.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20200309/33d45be9/attachment-0001.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20200309/33d45be9/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002576.html">[Lightning-dev] Superbolt Proposal - a professionally run LN	subset delivering superior UX
</A></li>
	<LI>Next message: <A HREF="002589.html">[Lightning-dev] Superbolt Proposal - a professionally run LN	subset delivering superior UX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2588">[ date ]</a>
              <a href="thread.html#2588">[ thread ]</a>
              <a href="subject.html#2588">[ subject ]</a>
              <a href="author.html#2588">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
