<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Superbolt Proposal - a professionally run LN subset delivering superior UX
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-March/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Superbolt%20Proposal%20-%20a%20professionally%20run%20LN%0A%20subset%20delivering%20superior%20UX&In-Reply-To=%3CCABzy5egEp7Z7E6YGMrPEWe9tYz%2BSDNCh3gQZku5K8SarsRpKZg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002589.html">
   <LINK REL="Next"  HREF="002599.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Superbolt Proposal - a professionally run LN subset delivering superior UX</H1>
    <B>Robert Allen</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Superbolt%20Proposal%20-%20a%20professionally%20run%20LN%0A%20subset%20delivering%20superior%20UX&In-Reply-To=%3CCABzy5egEp7Z7E6YGMrPEWe9tYz%2BSDNCh3gQZku5K8SarsRpKZg%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Superbolt Proposal - a professionally run LN subset delivering superior UX">robertwilliamallen at gmail.com
       </A><BR>
    <I>Wed Mar 18 21:51:48 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="002589.html">[Lightning-dev] Superbolt Proposal - a professionally run LN	subset delivering superior UX
</A></li>
        <LI>Next message: <A HREF="002599.html">[Lightning-dev] Superbolt Proposal - a professionally run LN	subset delivering superior UX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2597">[ date ]</a>
              <a href="thread.html#2597">[ thread ]</a>
              <a href="subject.html#2597">[ subject ]</a>
              <a href="author.html#2597">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Mar 10, 2020 at 5:11 AM ZmnSCPxj &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">ZmnSCPxj at protonmail.com</A>&gt; wrote:

&gt;<i> Good morning Robert,
</I>&gt;<i>
</I>&gt;<i> &gt; How did you know that I'm a closet furry?! ;) I'm shaking in my
</I>&gt;<i> onesie right now...
</I>&gt;<i>
</I>&gt;<i> It was so obvious, my furdar was picking up your furriness just from
</I>&gt;<i> parsing the individual bytes arising from your email server.
</I>

&gt;<i> &gt; It is definitely not my goal to split the network up but rather to
</I>&gt;<i> provide some guide rails to help ensure usability and decentralization. I
</I>&gt;<i> also agree 100% that Tor nodes are a must for LN.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In terms of maximum node size for SBN, I do feel that it would be
</I>&gt;<i> beneficial to the decentralization of the network to have that in place (if
</I>&gt;<i> it worked as intended) but also understand the scenario you outline where
</I>&gt;<i> many nodes could be spun up on the same machine. Perhaps a better (and
</I>&gt;<i> actually enforceable) approach would be to require that all RNs commit 0.5
</I>&gt;<i> BTC per channel (1 BTC total per channel) with a minimum of 4 channels. So,
</I>&gt;<i> a larger node could have many more than 4 channels assuming each channel
</I>&gt;<i> meets the liquidity requirement. This wouldn't help to further
</I>&gt;<i> decentralization but would at least ensure uniform channel liquidity. It
</I>&gt;<i> seems that just as the one computer one vote idea with BTC didn't pan out,
</I>&gt;<i> there is a similar problem here that may be insurmountable.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Your suggestion for self-attestation using OpenTimeStamps is really
</I>&gt;<i> brilliant and elegant. I don't see any reason why this shouldn't work. I do
</I>&gt;<i> think it would be better to extend the minimum number of self-attestations
</I>&gt;<i> to perhaps 7 days worth of blocks (so that a node cannot easily
</I>&gt;<i> join/exit/rejoin SBN). I'm also wondering if it would make sense to add
</I>&gt;<i> OpenTimeStamps servers to all SBN nodes and then use some kind of random
</I>&gt;<i> election function such that for each block all attestations would be sent
</I>&gt;<i> to the elected server and published to BTC (thus ensuring the lowest
</I>&gt;<i> possible fee vs. using a redundant approach with multiple OTS servers). If
</I>&gt;<i> the election is sufficiently random, it would seem to be very difficult to
</I>&gt;<i> coordinate an attack where a furry's attestation would be excluded from a
</I>&gt;<i> block for more than some very small number (well bellow putting them in
</I>&gt;<i> danger of being excluded from the network for insufficient uptime).
</I>&gt;<i>
</I>&gt;<i> Unfortunately for the poor fool who came up with that proposal, it suffers
</I>&gt;<i> from &quot;what you measure is what you get&quot;.
</I>&gt;<i> Specifically, it measures node uptime, but not node correct behavior, and
</I>&gt;<i> it is node correct behavior (i.e. making an effort to actually forward)
</I>&gt;<i> that you want; what this proposal does is measure node uptime, which
</I>&gt;<i> *correlates with* but *is not exactly identical to* node correct behavior.
</I>&gt;<i>
</I>&gt;<i> I find that most furries are more able to understand this with a fable, so
</I>&gt;<i> let me present the issue of &quot;what you measure is what you get&quot; in fable
</I>&gt;<i> form.
</I>&gt;<i>
</I>&gt;<i> Once upon a time, the government of London, seeking to reduce the rat
</I>&gt;<i> problem of the city, decided to delegate the problem to the private sector,
</I>&gt;<i> by offering to pay an amount for every rat tail provided by the citizenry.
</I>&gt;<i> At first this seemed to work well, but eventually the rat infestation came
</I>&gt;<i> back with a vengeance, even as the coffers of the city government were
</I>&gt;<i> continuously emptied by the rat-tail program.
</I>&gt;<i> Eventually an extensive investigation by the government officials
</I>&gt;<i> uncovered the existence of *rat farms*, where private individuals grew rats
</I>&gt;<i> (and where well-fed healthy rats sometimes escaped from, leading to worse
</I>&gt;<i> rat infestations than before) for their lucrative tails.
</I>&gt;<i>
</I>
I was familiar with this story. Also a great reminder of the dangers of
government &quot;solutions&quot; in general.


&gt;<i>
</I>&gt;<i> This shows the issue: what they measured was *the number of rat tails
</I>&gt;<i> shown*, not *the reduction of rats in the city*, and so they got shown a
</I>&gt;<i> lot of rat tails (at the expense of actively increasing the number of rats
</I>&gt;<i> in the city, since they were now being grown in rat farms).
</I>&gt;<i>
</I>&gt;<i> Similarly, I could attack the SBN by having a cheap RaspPi (or maybe
</I>&gt;<i> Arduino) continuously attesting its uptime, but not actually running any
</I>&gt;<i> Lightning node software, so that paths through my pathetic RaspPi &quot;node&quot;
</I>&gt;<i> will always fail.
</I>&gt;<i> With enough cheap RaspPis and some HODLed funds in 2-of-2s (where both
</I>&gt;<i> pubkeys are mine anyway), I can ensure that most of SBN is composed of my
</I>&gt;<i> &quot;nodes&quot; and make it worthless.
</I>&gt;<i>
</I>
I guess it wasn't explicit in my proposal, but the intention is for SBN
nodes to be LN nodes. Thus, in order to be accepted into SBN, your node
would have to run the LN software. Is there a way to set up an LN node,
connect to other nodes, and then not allow routing of payments through your
node? If so, then I don't believe SBN would be any more in danger of this
scenario than vanilla LN.


&gt;<i> Against this, we can observe that the blockchain layer itself is
</I>&gt;<i> ultimately protected by the economics of mining.
</I>&gt;<i> Thus, the blockchain security cannot be better than
</I>&gt;<i> economically-infeasible security, and Lightning, as it is anchored to the
</I>&gt;<i> blockchain, also cannot get better than economically-infeasible security.
</I>&gt;<i> If attesting its own uptime is expensive enough, then every additional
</I>&gt;<i> node that I fake is going to be an additional expense, and it may become
</I>&gt;<i> impractical for me to take over the entire SBN unless I work honestly and
</I>&gt;<i> actually forward payments and earn fees from it (in much the same way that
</I>&gt;<i> a miner could always just mine empty blocks and make the blockchain layer
</I>&gt;<i> worthless, but it is impractical for them to do so since they would earn
</I>&gt;<i> less compared to a miner who honestly adds new transactions to the blocks
</I>&gt;<i> and thereby earn fees from those).
</I>&gt;<i>
</I>
Yes, it would be expensive both in server costs and in cost-of-capital
locked up in nodes. I believe incentives are aligned correctly.


&gt;<i>
</I>&gt;<i> (the above does not protect against running multiple nodes to get around
</I>&gt;<i> any per-node limit, by the way; if running one honestly-forwarding node is
</I>&gt;<i> at all lucrative, running more honestly-forwarding nodes should be more
</I>&gt;<i> lucrative.
</I>&gt;<i> thus, the above only protects against nodes that are not
</I>&gt;<i> honestly-forwarding, but cannot protect against multiple
</I>&gt;<i> honestly-forwarding nodes being run by the same entity to get around
</I>&gt;<i> per-node limits you might impose)
</I>&gt;<i>
</I>
You've convinced me that node liquidity limits do not make sense. I am
moving instead to minimum node capacity requirements with no maximum number
of channels or capacity limits.


&gt;<i> Further, adding more OTS-like servers may still allow a minority
</I>&gt;<i> OTS-server to effectively censor hated furries like you.
</I>&gt;<i> Remember, we now require that SBN-nodes have 99% uptime by showing 99
</I>&gt;<i> proof-of-uptime entries in the last 100 blocks.
</I>&gt;<i> If I have enough OTS-servers to comprise at least 2% of all OTS-servers,
</I>&gt;<i> then I can force you, you furry, to have at most 98% uptime recorded
</I>&gt;<i> onchain, thus effectively censoring you from the SBN.
</I>&gt;<i> This might be helped by adding some salting of some kind, and having
</I>&gt;<i> OTS-server protocol to accept any blinded commitments that will only be
</I>&gt;<i> opened after they are actually committed onchain, though.
</I>&gt;<i>
</I>
I like the sound of blinded commitments. Any suggestions for where to read
up on this approach?


&gt;<i>
</I>&gt;<i> Alternately, groups of independent citizens can just put a fund in a
</I>&gt;<i> k-of-n address and always continuously spend that k-of-n address to itself
</I>&gt;<i> on every block, with the proof-of-uptimes of the group embedded in a Merkle
</I>&gt;<i> tree committed to in the `R` of the signature (i.e. sign-to-contract).
</I>&gt;<i> With Schnorr this allows the k-of-n to be hidden in a single signature as
</I>&gt;<i> well, though the signing ritual would have to be significantly more complex
</I>&gt;<i> (I have not considered the proper signing ritual) to ensure that the
</I>&gt;<i> generated `R` indeed commits to the Merkle tree root of the group uptime
</I>&gt;<i> proofs, and k-of-n requires a complicated setup, and k-of-n is susceptible
</I>&gt;<i> to majority takeover (i.e. it can be spent without your key, thus not your
</I>&gt;<i> coins) and sybilling.
</I>&gt;<i> This may also combine well with the need to make proof-of-uptime expensive
</I>&gt;<i> (else it would be cheap to take over SBN).
</I>&gt;<i> Though of course our colleagues over in bitcoin-dev will cry over the
</I>&gt;<i> blockchain bloat such a scheme would have, you spoony furry, that is
</I>&gt;<i> precisely why furries should be censored.
</I>&gt;<i>
</I>&gt;<i>
</I>How would this approach differ from the OTS server setup? OTS is using
Merkle trees no?

(taking the above offchain is possible, but the entire point of doing the
&gt;<i> above onchain is that it proves onlineness, whereas offchain does not prove
</I>&gt;<i> that anything is online at each block, only at the blocks where the
</I>&gt;<i> offchain system is pushed onchain.)
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> ZmnSCPxj
</I>&gt;<i>
</I>
Best,

Robert
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20200318/7041ecbf/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20200318/7041ecbf/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002589.html">[Lightning-dev] Superbolt Proposal - a professionally run LN	subset delivering superior UX
</A></li>
	<LI>Next message: <A HREF="002599.html">[Lightning-dev] Superbolt Proposal - a professionally run LN	subset delivering superior UX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2597">[ date ]</a>
              <a href="thread.html#2597">[ thread ]</a>
              <a href="subject.html#2597">[ subject ]</a>
              <a href="author.html#2597">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
