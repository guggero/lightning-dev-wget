<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Locking of funds by both parties in HTLC to enforce penalty
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-March/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Locking%20of%20funds%20by%20both%20parties%20in%20HTLC%20to%0A%20enforce%20penalty&In-Reply-To=%3CCAH5Bsr0RQ5RzJYsVgH9O5cvqRMpD%3DQ4ELJLFYNGh3SVqVTkfGw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002577.html">
   <LINK REL="Next"  HREF="002579.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Locking of funds by both parties in HTLC to enforce penalty</H1>
    <B>Lloyd Fournier</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Locking%20of%20funds%20by%20both%20parties%20in%20HTLC%20to%0A%20enforce%20penalty&In-Reply-To=%3CCAH5Bsr0RQ5RzJYsVgH9O5cvqRMpD%3DQ4ELJLFYNGh3SVqVTkfGw%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Locking of funds by both parties in HTLC to enforce penalty">lloyd.fourn at gmail.com
       </A><BR>
    <I>Fri Mar  6 06:30:27 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="002577.html">[Lightning-dev] Locking of funds by both parties in HTLC to enforce	penalty
</A></li>
        <LI>Next message: <A HREF="002579.html">[Lightning-dev] Locking of funds by both parties in HTLC to enforce penalty
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2578">[ date ]</a>
              <a href="thread.html#2578">[ thread ]</a>
              <a href="subject.html#2578">[ subject ]</a>
              <a href="author.html#2578">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Subhra,

Afaik, the only problem is the one you identified, it doesn't work across
multiple hops but only for the final hop. This penalty idea is the basis
for doing atomc swaps fairly:
<A HREF="https://coblox.tech/docs/financial_crypto19.pdf">https://coblox.tech/docs/financial_crypto19.pdf</A>

LL
On Fri, Mar 6, 2020 at 4:58 PM Subhra Mazumdar &lt;
<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">subhra.mazumdar1993 at gmail.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>       I was reading the paper by Poon and Dryja on Bitcoin Lightning
</I>&gt;<i> Network and was going through the construction of HTLC. Suppose 2 parties A
</I>&gt;<i> and B have a channel with each party locking 0.5 BTC. Suppose A wants to
</I>&gt;<i> transfer 0.1 BTC to B contingent to the knowledge of R : H=h(R) produced
</I>&gt;<i> within a locktime of say t days. So the script output for A is -
</I>&gt;<i> 1. 0.4 BTC to A
</I>&gt;<i> 2. 0.5 BTC to B
</I>&gt;<i> 3. 0.1 BTC locked in HTLC between A &amp; B.
</I>&gt;<i> Why we cannot set the terms as say 0.4 BTC to A, 0.2 BTC to B and 0.4 BTC
</I>&gt;<i> to HTLC, where HTLC output can follow either of the paths - If B produces R
</I>&gt;<i> within t days then it gets back 0.4 BTC else after t days A can broadcast
</I>&gt;<i> with 0.4 BTC going to the A? This prevents B from not responding (and
</I>&gt;<i> induce possibly griefing attack across a longer path by withholding the
</I>&gt;<i> solution) since it will lose out 0.3 BTC. What can be the problem if the
</I>&gt;<i> terms of HTLC itself tries to enforce a penalty on the counterparty?
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Yours sincerely,
</I>&gt;<i> Subhra Mazumdar.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Lightning-dev mailing list
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">Lightning-dev at lists.linuxfoundation.org</A>
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20200306/41465743/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20200306/41465743/attachment.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002577.html">[Lightning-dev] Locking of funds by both parties in HTLC to enforce	penalty
</A></li>
	<LI>Next message: <A HREF="002579.html">[Lightning-dev] Locking of funds by both parties in HTLC to enforce penalty
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2578">[ date ]</a>
              <a href="thread.html#2578">[ thread ]</a>
              <a href="subject.html#2578">[ subject ]</a>
              <a href="author.html#2578">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
