<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Fwd: Improve Lightning payment reliability through better error attribution
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-June/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Fwd%3A%20Improve%20Lightning%20payment%20reliability%20through%0A%20better%20error%20attribution&In-Reply-To=%3CCAJBJmV--%2BRYNJaH%3Dg10EKgGh%3D%3D47jBwO922PpevoQTzgyocw%3DA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002019.html">
   <LINK REL="Next"  HREF="002022.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Fwd: Improve Lightning payment reliability through better error attribution</H1>
    <B>Joost Jager</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Fwd%3A%20Improve%20Lightning%20payment%20reliability%20through%0A%20better%20error%20attribution&In-Reply-To=%3CCAJBJmV--%2BRYNJaH%3Dg10EKgGh%3D%3D47jBwO922PpevoQTzgyocw%3DA%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Fwd: Improve Lightning payment reliability through better error attribution">joost.jager at gmail.com
       </A><BR>
    <I>Fri Jun 14 09:08:07 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="002019.html">[Lightning-dev] Possibility to Include refund invoice in lightning payments
</A></li>
        <LI>Next message: <A HREF="002022.html">[Lightning-dev] Improve Lightning payment reliability through better error attribution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2021">[ date ]</a>
              <a href="thread.html#2021">[ thread ]</a>
              <a href="subject.html#2021">[ subject ]</a>
              <a href="author.html#2021">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi ZmnSCPxj,

Before proceeding with discussing HMACs and preventing nodes from putting
&gt;<i> words in the mouths of other nodes, perhaps we should consider, how we can
</I>&gt;<i> ensure that nodes can be forced to be accurate about what happened.
</I>&gt;<i>
</I>&gt;<i> For instance, a proposal is for nodes to put timestamps for certain events.
</I>&gt;<i> Does this imply that all nodes along the route **MUST** have their clocks
</I>&gt;<i> strongly synchronized to some global clock?
</I>&gt;<i> If a node along the route happens to be 15 seconds early or 15 seconds
</I>&gt;<i> late, can it be erroneously &quot;dinged&quot; for this when a later hop delays a
</I>&gt;<i> successful payment for 20 seconds?
</I>&gt;<i>
</I>&gt;<i> If it requires that hop nodes have strong synchrony with some global clock
</I>&gt;<i> service, why would I want to run a hop node then?
</I>&gt;<i> What happens if some global clock service is attacked in order to convince
</I>&gt;<i> nodes to route to particular nodes (using a competing global clock service)
</I>&gt;<i> on the Lightning network?
</I>&gt;<i>
</I>
That is definitely a concern. It is up to senders how to interpret the
received timestamps. They can decide to tolerate slight variations. Or they
could just look at the difference between the in and out timestamp,
abandoning the synchronization requirement altogether (a node could also
just report that difference instead of two timestamps). The held duration
is enough to identify a pair of nodes from which one of the nodes is
responsible for the delay.

Example (held durations between parenthesis):

A (15 secs) -&gt; B (14 secs) -&gt; C (3 secs) -&gt; D (2 secs)

In this case either B or C is delaying the payment. We'd penalize the
channel between B and C.

Joost
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20190614/ce0d1fb9/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20190614/ce0d1fb9/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002019.html">[Lightning-dev] Possibility to Include refund invoice in lightning payments
</A></li>
	<LI>Next message: <A HREF="002022.html">[Lightning-dev] Improve Lightning payment reliability through better error attribution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2021">[ date ]</a>
              <a href="thread.html#2021">[ thread ]</a>
              <a href="subject.html#2021">[ subject ]</a>
              <a href="author.html#2021">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
