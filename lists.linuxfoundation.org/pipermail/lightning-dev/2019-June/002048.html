<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Proposal: Lightning Pre-Image Encryption	Standard
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-June/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Proposal%3A%20Lightning%20Pre-Image%20Encryption%0A%09Standard&In-Reply-To=%3C6PgxMyjEYZud19u1UhWKlsIFv5Ot4za74OMjq9WmavgvRrD14PhHcwDNEh8OKFuZHY7DluUhnFxPK09rMJznsD_dINcnjp9c9Z2A5Xr7s4A%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002047.html">
   <LINK REL="Next"  HREF="002050.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Proposal: Lightning Pre-Image Encryption	Standard</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Proposal%3A%20Lightning%20Pre-Image%20Encryption%0A%09Standard&In-Reply-To=%3C6PgxMyjEYZud19u1UhWKlsIFv5Ot4za74OMjq9WmavgvRrD14PhHcwDNEh8OKFuZHY7DluUhnFxPK09rMJznsD_dINcnjp9c9Z2A5Xr7s4A%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] Proposal: Lightning Pre-Image Encryption	Standard">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Wed Jun 26 23:55:35 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="002047.html">[Lightning-dev] Proposal: Lightning Pre-Image Encryption	Standard
</A></li>
        <LI>Next message: <A HREF="002050.html">[Lightning-dev] Proposal: Lightning Application Standards [LAS]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2048">[ date ]</a>
              <a href="thread.html#2048">[ thread ]</a>
              <a href="subject.html#2048">[ subject ]</a>
              <a href="author.html#2048">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning Nadav et al.,

&gt;<i> &gt; Any node on the route of the payment knows the preimage and can decrypt the data. It would be nice to tune the protocol in a way that only the buyer can decrypt the data. For example we could use something like this:
</I>&gt;<i>
</I>&gt;<i> Is this not covered by sending over the pre-image encrypted data over a secure channel such as HTTPS? If anyone along the route who learns the pre-image does intercept the message with the encrypted data, that data will already be encrypted for the intended recipient right?
</I>
True, but the added protection allows sending the option of sending data over a non-secure channel.
In particular, a secure channel like HTTPS would impose an encryption/decryption overhead, and then you will *also* encrypt/decrypt at the application layer i.e. you are encrypting twice.
If you have the choice of using an insecure channel, you could take that and only have the encrypt/decrypt overhead only for the preimage-encrypted data.

i.e. with this, you have the option of sending over both secure and insecure channels.
It does not hinder use of secure channel, but enables use of insecure channel.
Putting MAC inside the encryption would help ensure that we can detect data replacement over insecure channel, and use of shared secret ensures only intended recipient can decrypt.

Regards,
ZmnSCPxj
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002047.html">[Lightning-dev] Proposal: Lightning Pre-Image Encryption	Standard
</A></li>
	<LI>Next message: <A HREF="002050.html">[Lightning-dev] Proposal: Lightning Application Standards [LAS]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2048">[ date ]</a>
              <a href="thread.html#2048">[ thread ]</a>
              <a href="subject.html#2048">[ subject ]</a>
              <a href="author.html#2048">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
