<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Turbo channels spec?
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-August/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Turbo%20channels%20spec%3F&In-Reply-To=%3C267N4xSNzRMcLV3Ybo-AZJxma8Zh17Y7bJIMCgytNqayrN76wi8bGaggX299KXbg2NSf4oZKcQlRv9_6ApXZ7EKsaAV_NCkcthwTGK12qoQ%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003166.html">
   <LINK REL="Next"  HREF="003171.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Turbo channels spec?</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Turbo%20channels%20spec%3F&In-Reply-To=%3C267N4xSNzRMcLV3Ybo-AZJxma8Zh17Y7bJIMCgytNqayrN76wi8bGaggX299KXbg2NSf4oZKcQlRv9_6ApXZ7EKsaAV_NCkcthwTGK12qoQ%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] Turbo channels spec?">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Sat Aug 14 02:09:18 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="003166.html">[Lightning-dev] Turbo channels spec?
</A></li>
        <LI>Next message: <A HREF="003171.html">[Lightning-dev] Algorithm For Channel Fee Settings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3170">[ date ]</a>
              <a href="thread.html#3170">[ thread ]</a>
              <a href="subject.html#3170">[ subject ]</a>
              <a href="author.html#3170">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning Rusty,

&gt;<i> ZmnSCPxj <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">ZmnSCPxj at protonmail.com</A> writes:
</I>&gt;<i>
</I>&gt;<i> &gt; Mostly nitpick on terminology below, but I think text substantially like the above should exist in some kind of &quot;rationale&quot; section in the BOLT, so ---
</I>&gt;<i> &gt; In light of dual-funding we should avoid &quot;funder&quot; and &quot;fundee&quot; in favor of &quot;initiator&quot; and &quot;acceptor&quot;.
</I>&gt;<i>
</I>&gt;<i> Yes, Lisa has a patch for this in her spec PR :)
</I>&gt;<i>
</I>&gt;<i> &gt; So what matters for the above rationale is the &quot;sender&quot; of an HTLC and the &quot;receiver&quot; of an HTLC, not really who is acceptor or initiator.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -   Risks for HTLC sender is that the channel never confirms, but it probably ignores the risk because it can close onchain (annoying, and fee-heavy, but not loss of funds caused by peer).
</I>&gt;<i> &gt; -   Risks for HTLC receiver is that the channel never confirms, so HTLC must not be routed out to others or resolved locally if the receiver already knows the preimage, UNLESS the HTLC receiver has some other reason to trust the peer.
</I>&gt;<i>
</I>&gt;<i> This misses an important case: even with the dual-funding prototol,
</I>&gt;<i> single-sided funding is more common.
</I>&gt;<i>
</I>&gt;<i> So:
</I>&gt;<i>
</I>&gt;<i> -   if your peer hasn't contributed funds:
</I>&gt;<i>     -   You are in control, channel is safe (modulo your own conf issues)
</I>
Hmm.

In single-funding, if you sent out an HTLC, got the preimage, then now your peer has funds in the channel.
If you do this before the channel confirms, then the peer can send to you, and you can accept it safely without concern since your peer cannot block the channel confirmation.

So yes, it seems correct.


Regards,
ZmnSCPxj
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003166.html">[Lightning-dev] Turbo channels spec?
</A></li>
	<LI>Next message: <A HREF="003171.html">[Lightning-dev] Algorithm For Channel Fee Settings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3170">[ date ]</a>
              <a href="thread.html#3170">[ thread ]</a>
              <a href="subject.html#3170">[ subject ]</a>
              <a href="author.html#3170">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
