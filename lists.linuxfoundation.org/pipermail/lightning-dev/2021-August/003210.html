<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Do we really want users to solve an NP-hard problem when they wish to find a cheap way of paying each other on the Lightning Network?
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-August/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Do%20we%20really%20want%20users%20to%20solve%20an%20NP-hard%0A%20problem%20when%20they%20wish%20to%20find%20a%20cheap%20way%20of%20paying%20each%20other%20on%20the%0A%20Lightning%20Network%3F&In-Reply-To=%3C20210831040134.GA16904%40erisian.com.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003203.html">
   <LINK REL="Next"  HREF="003211.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Do we really want users to solve an NP-hard problem when they wish to find a cheap way of paying each other on the Lightning Network?</H1>
    <B>Anthony Towns</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Do%20we%20really%20want%20users%20to%20solve%20an%20NP-hard%0A%20problem%20when%20they%20wish%20to%20find%20a%20cheap%20way%20of%20paying%20each%20other%20on%20the%0A%20Lightning%20Network%3F&In-Reply-To=%3C20210831040134.GA16904%40erisian.com.au%3E"
       TITLE="[Lightning-dev] Do we really want users to solve an NP-hard problem when they wish to find a cheap way of paying each other on the Lightning Network?">aj at erisian.com.au
       </A><BR>
    <I>Tue Aug 31 04:01:34 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="003203.html">[Lightning-dev] Do we really want users to solve an NP-hard problem when they wish to find a cheap way of paying each other on the Lightning Network?
</A></li>
        <LI>Next message: <A HREF="003211.html">[Lightning-dev] Do we really want users to solve an NP-hard	problem when they wish to find a cheap way of paying each	other on the Lightning Network?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3210">[ date ]</a>
              <a href="thread.html#3210">[ thread ]</a>
              <a href="subject.html#3210">[ subject ]</a>
              <a href="author.html#3210">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Aug 26, 2021 at 04:33:23PM +0200, Ren&#233; Pickhardt via Lightning-dev wrote:
&gt;<i> As we thought it was obvious that the function is not linear we only explained
</I>&gt;<i> in the paper how the jump from f(0)=0 to f(1) = ppm+base_fee breaks convexity.
</I>
(This would make more sense to me as &quot;f(0)=0 but f(epsilon)-&gt;b as
epsilon-&gt;0, so it's discontinuous&quot;)

&gt;<i> &quot;Do we really want users to solve an NP-hard problem when
</I>&gt;<i> they wish to find a cheap way of paying each other on the Lightning Network?&quot;&#160;
</I>
FWIW, my answer to this is &quot;sure, if that's the way it turns out&quot;.

Another program which solves an NP-hard problem every time it runs is
&quot;apt-get install&quot; -- you can simulate 3SAT using Depends: and Conflicts:
relationships between packages. I worked on a related project in Debian
back in the day that did a slightly more complicated variant of that
problem, namely working out if updating a package in the distro would
render other packages uninstallable (eg due to providing a different
library version) -- as it turned out, that even actually managed to hit
some of the &quot;hard&quot; NP cases every now and then. But it was never really
that big a deal in practice: you just set an iteration limit and consider
it to &quot;fail&quot; if things get too complicated, and if it fails too often,
you re-analyse what's going on manually and add a new heuristic to cope
with it.

I don't see any reason to think you can't do roughly the same for
lightning; at worst just consider yourself as routing on log(N) different
networks: one that routes payments of up to 500msat at (b+0.5ppm), one
that routes payments of up to 1sat at (b+ppm), one that routes payments
of up to 2sat at (b+2ppm), one that routes payments of up to 4sat at
(b+4ppm), etc. Try to choose a route for all the funds; if that fails,
split it; repeat. In some case that will fail despite there being a
possible successful multipath route, and in other cases it will choose a
moderately higher fee path than necessary, but if you're talking a paying
a 0.2% fee vs a 0.1% fee when the current state of the art is a 1% fee,
that's fine.

Cheers,
aj

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003203.html">[Lightning-dev] Do we really want users to solve an NP-hard problem when they wish to find a cheap way of paying each other on the Lightning Network?
</A></li>
	<LI>Next message: <A HREF="003211.html">[Lightning-dev] Do we really want users to solve an NP-hard	problem when they wish to find a cheap way of paying each	other on the Lightning Network?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3210">[ date ]</a>
              <a href="thread.html#3210">[ thread ]</a>
              <a href="subject.html#3210">[ subject ]</a>
              <a href="author.html#3210">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
