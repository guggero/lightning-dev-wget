<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Increase channel-jamming capital requirements by	not counting dust HTLCs
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-April/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Increase%20channel-jamming%20capital%20requirements%20by%0A%09not%20counting%20dust%20HTLCs&In-Reply-To=%3CCALkdYjWa2vRfVtPciTdur7qnxBCoX_1f%3DeR-TN3%2BzPwufSCArA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003006.html">
   <LINK REL="Next"  HREF="003007.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Increase channel-jamming capital requirements by	not counting dust HTLCs</H1>
    <B>Eugene Siegel</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Increase%20channel-jamming%20capital%20requirements%20by%0A%09not%20counting%20dust%20HTLCs&In-Reply-To=%3CCALkdYjWa2vRfVtPciTdur7qnxBCoX_1f%3DeR-TN3%2BzPwufSCArA%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Increase channel-jamming capital requirements by	not counting dust HTLCs">elzeigel at gmail.com
       </A><BR>
    <I>Fri Apr 23 15:58:18 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="003006.html">[Lightning-dev] L2s Onchain Support IRC Workshop
</A></li>
        <LI>Next message: <A HREF="003007.html">[Lightning-dev] Increase channel-jamming capital requirements by not counting dust HTLCs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3005">[ date ]</a>
              <a href="thread.html#3005">[ thread ]</a>
              <a href="subject.html#3005">[ subject ]</a>
              <a href="author.html#3005">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I propose a simple mitigation to increase the capital requirement of
channel-jamming attacks. This would prevent an unsophisticated attacker
with low capital from jamming a target channel.  It seems to me that this
is a *free* mitigation without any downsides (besides code-writing), so I'd
like to hear other opinions.

In a commitment transaction, we trim dust HTLC outputs.  I believe that the
reason for the 483 HTLC limit each side has in the spec is to prevent
commitment tx's from growing unreasonably large, and to ensure they are
still valid tx's that can be included in a block.  If we don't include dust
HTLCs in this calculation, since they are not on the commitment tx, we
still allow 483 (x2) non-dust HTLCs to be included on the commitment tx.
There could be a configurable limit on the number of outstanding dust
HTLCs, but the point is that it doesn't affect the non-dust throughput of
the channel.  This raises the capital requirement of channel-jamming so
that each HTLC must be non-dust, rather than spamming 1 sat payments.

Interested in others' thoughts.

Eugene (Crypt-iQ)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20210423/28a7f555/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20210423/28a7f555/attachment.html</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003006.html">[Lightning-dev] L2s Onchain Support IRC Workshop
</A></li>
	<LI>Next message: <A HREF="003007.html">[Lightning-dev] Increase channel-jamming capital requirements by not counting dust HTLCs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3005">[ date ]</a>
              <a href="thread.html#3005">[ thread ]</a>
              <a href="subject.html#3005">[ subject ]</a>
              <a href="author.html#3005">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
