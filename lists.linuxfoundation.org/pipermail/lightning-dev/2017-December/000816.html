<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Directionality of the transaction fees
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2017-December/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Directionality%20of%20the%20transaction%20fees&In-Reply-To=%3Cc1ace724-e974-4e1b-8465-28699730c4e1%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000815.html">
   <LINK REL="Next"  HREF="000819.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Directionality of the transaction fees</H1>
    <B>Johan Tor&#229;s Halseth</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Directionality%20of%20the%20transaction%20fees&In-Reply-To=%3Cc1ace724-e974-4e1b-8465-28699730c4e1%40gmail.com%3E"
       TITLE="[Lightning-dev] Directionality of the transaction fees">johanth at gmail.com
       </A><BR>
    <I>Thu Dec  7 09:13:19 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="000815.html">[Lightning-dev] Directionality of the transaction fees
</A></li>
        <LI>Next message: <A HREF="000819.html">[Lightning-dev] Directionality of the transaction fees
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#816">[ date ]</a>
              <a href="thread.html#816">[ thread ]</a>
              <a href="subject.html#816">[ subject ]</a>
              <a href="author.html#816">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, Edward! Welcome to the mailing list :)
The fees can indeed be set for each direction of the channel, check out <A HREF="https://github.com/lightningnetwork/lightning-rfc/blob/master/07-routing-gossip.md#the-channel_update-message">https://github.com/lightningnetwork/lightning-rfc/blob/master/07-routing-gossip.md#the-channel_update-message</A> [<A HREF="https://github.com/lightningnetwork/lightning-rfc/blob/master/07-routing-gossip.md#the-channel_update-message">https://github.com/lightningnetwork/lightning-rfc/blob/master/07-routing-gossip.md#the-channel_update-message</A>]
Basically each node in the channel can announce the fee til will take to route a payment in the direction leading &#8220;away&#8221; from it. We also have something called &#8220;channel reserves&#8221; ensuring that each node always has some balance at stake in case an old state is broadcast.
Cheers! Johan

On Wed, Dec 6, 2017 at 12:04, Edziu Marynarz &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">edziumarynarz at gmail.com</A>&gt; wrote:
I tried to find this information in the BOLT documents but I couldn't find it. Is it possible to set up the channel so that the fee depends on the direction, i.e. a different fee on the receive direction and different on the send one? Why such functionality?
Imagine that you start with a bidirectional channel to Alice and a channel to Bob with 1000 satoshi each. For some reasons, the network routes most of the transactions from Alice to you and then to Bob and you end up with 1900 satoshi in the Alice channel and only 100 satoshi in the Bob one. The route will stop working and if there is little traffic in the other direction you will have to close the channels to rebalance them or wait a very long time for the rebalancing.
If the fee could depend on the direction, one could start to ramp up fees on the receiving end of the channel that is getting large and lower the one that is empty to prevent the imbalance.
There is also a risk factor involved. The lightning network channels get riskier on the receive side the more the channel value deviates from the original state since the counterparty may try to broadcast the old state so you may want to regulate this imbalance with fees. It would be best if the LN applications could do it automatically.
Regards,
Edward
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20171207/df6d2847/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20171207/df6d2847/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000815.html">[Lightning-dev] Directionality of the transaction fees
</A></li>
	<LI>Next message: <A HREF="000819.html">[Lightning-dev] Directionality of the transaction fees
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#816">[ date ]</a>
              <a href="thread.html#816">[ thread ]</a>
              <a href="subject.html#816">[ subject ]</a>
              <a href="author.html#816">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
