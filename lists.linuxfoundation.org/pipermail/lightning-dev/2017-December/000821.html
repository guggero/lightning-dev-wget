<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Comments on BOLT#11
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2017-December/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Comments%20on%20BOLT%2311&In-Reply-To=%3C081KM7t6IbfBsXO7jcL9AVhIe4xjIcZyWniLWfX-fhR_BHHTYFaPLcXtxTc14PVYawG82w2Kny8UfrcRIspjvIYWuGNPGPI5OqfjX7IW2KQ%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000818.html">
   <LINK REL="Next"  HREF="000822.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Comments on BOLT#11</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Comments%20on%20BOLT%2311&In-Reply-To=%3C081KM7t6IbfBsXO7jcL9AVhIe4xjIcZyWniLWfX-fhR_BHHTYFaPLcXtxTc14PVYawG82w2Kny8UfrcRIspjvIYWuGNPGPI5OqfjX7IW2KQ%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] Comments on BOLT#11">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Mon Dec 11 11:10:10 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="000818.html">[Lightning-dev] Comments on BOLT#11
</A></li>
        <LI>Next message: <A HREF="000822.html">[Lightning-dev] Comments on BOLT#11
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#821">[ date ]</a>
              <a href="thread.html#821">[ thread ]</a>
              <a href="subject.html#821">[ subject ]</a>
              <a href="author.html#821">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning Jonathan,

&gt;<i>3. Descriptions say they can encode ASCII only. Sorry, but this is nonsense. Full unicode support via UTF8 should be supported.
</I>
I generally agree, but caution must be warned here.  In particular, we should be precise, which variant of UTF8.

Presumably, a naive implementation, that specially treats 0 bytes (as would happen if the implementation were naively written in C or C++, where by default, strings are terminated by a 0 byte), should work correctly without having to particularly care, if the encoding is UTF8 or plain 7-bit ASCII.  This then leads to the use of so-called Modified UTF8 as used by Java in its native interface: embedded null characters are encoded as extralong 3-byte UTF8 sequences, which are normally invalid in UTF8, but which naive treatment by C and C++ leads to (mostly) correct behavior.  Should we use Modifed UTF8 or simply disallow null characters? (Use of ASCII does not avoid this, but ASCII has no alternative to null characters and the standard C string terminating byte 0).

In addition, pulling in UTF8 brings in the issue, of Unicode normalization.  Multiple different byte-sequences in UTF8 may lead to the same sequence of human-readable glyphs. Specifying ASCII avoids this issue.  Should we specify some Unicode normalization, and should GUI at least try to impose this Unicode normalization (even if backends/daemons simply ignore the description and hence any normalization issues)?

Regards,
ZmnSCPxj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20171211/ee0b6923/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20171211/ee0b6923/attachment.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000818.html">[Lightning-dev] Comments on BOLT#11
</A></li>
	<LI>Next message: <A HREF="000822.html">[Lightning-dev] Comments on BOLT#11
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#821">[ date ]</a>
              <a href="thread.html#821">[ thread ]</a>
              <a href="subject.html#821">[ subject ]</a>
              <a href="author.html#821">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
