<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Unification of feature bits?
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-January/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Unification%20of%20feature%20bits%3F&In-Reply-To=%3CCAL3HpbfxvcoTrWqXW4SbYUh84XEDGHjFcX%3DwFL%3DwBYGN5jYNUQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001831.html">
   <LINK REL="Next"  HREF="001847.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Unification of feature bits?</H1>
    <B>Fabrice Drouin</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Unification%20of%20feature%20bits%3F&In-Reply-To=%3CCAL3HpbfxvcoTrWqXW4SbYUh84XEDGHjFcX%3DwFL%3DwBYGN5jYNUQ%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Unification of feature bits?">fabrice.drouin at acinq.fr
       </A><BR>
    <I>Fri Jan 25 16:55:19 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="001831.html">[Lightning-dev] Unification of feature bits?
</A></li>
        <LI>Next message: <A HREF="001847.html">[Lightning-dev] Unification of feature bits?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1845">[ date ]</a>
              <a href="thread.html#1845">[ thread ]</a>
              <a href="subject.html#1845">[ subject ]</a>
              <a href="author.html#1845">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 21 Jan 2019 at 08:05, Rusty Russell &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">rusty at rustcorp.com.au</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i>         I have a concrete proposal for feature bits.
</I>&gt;<i>
</I>&gt;<i> 1. Rename 'local features' to 'peer features'.
</I>&gt;<i> 2. Rename 'global features' to 'routing features'.
</I>&gt;<i> 3. Have them share a number space (ie. peer and routing features don't
</I>&gt;<i>    overlap).
</I>&gt;<i> 4. Put both in `features` in node announcements, but never use even bits
</I>&gt;<i>    for peer features.
</I>&gt;<i>
</I>&gt;<i> This means we can both use node_announcement as &quot;connect to a peer which
</I>&gt;<i> supports feature X&quot; and &quot;can I route through this node?&quot;.
</I>
Unification of feature bits makes sense but I don't really understand
the concept of `routing features` as opposed to `node features`. What
would prevent us from routing payments through a node ? (AMP ? changes
to the onion packet ?)
I find it easier to reason in terms of `node features`, which are
advertised in node announcements, and `peer/connection features`,
which are a subset of `node features` applied to a specific
connection.
Node features would be all the features that we have today
(option_data_loss_protect, initial_routing_sync,
option_upfront_shutdown_script, gossip_queries), since it makes sense
to advertise them except maybe for initial_routing_sync, with the
addition of wumbo which could only be optional.

What is the rationale for not allowing even bits in peer features ? It
makes sense for node features, but there are cases where you may
require specific features for a specific connection
(option_data_loss_protect for example, or
option_upfront_shutdown_script)

Cheers,

Fabrice




&gt;<i> Similarly, (future) DNS seed filtering might support filtering only by
</I>&gt;<i> pairs of bits (ie. give me peers which support X, even or odd).
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Rusty.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Lightning-dev mailing list
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">Lightning-dev at lists.linuxfoundation.org</A>
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev</A>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001831.html">[Lightning-dev] Unification of feature bits?
</A></li>
	<LI>Next message: <A HREF="001847.html">[Lightning-dev] Unification of feature bits?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1845">[ date ]</a>
              <a href="thread.html#1845">[ thread ]</a>
              <a href="subject.html#1845">[ subject ]</a>
              <a href="author.html#1845">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
