<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Decoy node_ids and short_channel_ids
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-February/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Decoy%20node_ids%20and%20short_channel_ids&In-Reply-To=%3CRpICrwvZzFA04mN0znex3ZOjUU_EjEmffKCLfasmksjS-SHB9Wa-2a6d8dDCkpvQZ4dXkMvSBMned8Q4g0AAIgF4yvKaELkj4qmfot9-q3U%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002491.html">
   <LINK REL="Next"  HREF="002493.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Decoy node_ids and short_channel_ids</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Decoy%20node_ids%20and%20short_channel_ids&In-Reply-To=%3CRpICrwvZzFA04mN0znex3ZOjUU_EjEmffKCLfasmksjS-SHB9Wa-2a6d8dDCkpvQZ4dXkMvSBMned8Q4g0AAIgF4yvKaELkj4qmfot9-q3U%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] Decoy node_ids and short_channel_ids">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Mon Feb  3 14:51:33 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="002491.html">[Lightning-dev] Decoy node_ids and short_channel_ids
</A></li>
        <LI>Next message: <A HREF="002493.html">[Lightning-dev] Decoy node_ids and short_channel_ids
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2492">[ date ]</a>
              <a href="thread.html#2492">[ thread ]</a>
              <a href="subject.html#2492">[ subject ]</a>
              <a href="author.html#2492">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning t-bast,


&gt;<i> &gt; This is relevant if we ever want to hide the node id of the last node: Bob could provide a symmetric
</I>&gt;<i> &gt; encryption key to all its peers with unpublished channels, which the peer can XOR with its own true
</I>&gt;<i> &gt; node id and use the lowest 40 bits (or 46 bits or 58 bits) in the SCID.
</I>&gt;<i>
</I>&gt;<i> I don't understand your point here. Alice cannot hide her node_id from Bob since the `node_id` is
</I>&gt;<i> tied to the (unannounced) channel creation.
</I>&gt;<i>
</I>&gt;<i> But this is not an issue. What Alice wants to break is the ability to link multiple HTLCs together
</I>&gt;<i> because they use the same `node_id`. Since Alice can use a different `node_id` in every invoice,
</I>&gt;<i> it's easy for her to make sure Carol cannot tie those HTLCs together.
</I>
That is precisely what I am referring to, the lowest bits of the node ID are embedded in the SCID, which we do not want to openly reveal to Carol.
Though if the point is to prevent Carol from correlating different invoices as arising from the same payee, then my scheme fails against that.

&gt;<i>
</I>&gt;<i> In order to hide from Bob, the best Alice can do is use a different `node_id` for each channel she
</I>&gt;<i> opens to Bob and use Tor. This way Bob cannot know that node_id_1 and node_id_2 both belong to Alice.
</I>&gt;<i> I don't think we can do better than that.
</I>
Alice would do better to use multiple Bobs in that case.


Regards,
ZmnSCPxj
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002491.html">[Lightning-dev] Decoy node_ids and short_channel_ids
</A></li>
	<LI>Next message: <A HREF="002493.html">[Lightning-dev] Decoy node_ids and short_channel_ids
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2492">[ date ]</a>
              <a href="thread.html#2492">[ thread ]</a>
              <a href="subject.html#2492">[ subject ]</a>
              <a href="author.html#2492">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
