<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] DRAFT: interactive tx construction protocol
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-February/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20DRAFT%3A%20interactive%20tx%20construction%20protocol&In-Reply-To=%3CCAM1a7P0rDVRvZZ74EkxL%2BpFaac_MkkQ_jQXvevZnWbUz7eaYVg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002525.html">
   <LINK REL="Next"  HREF="002534.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] DRAFT: interactive tx construction protocol</H1>
    <B>lisa neigut</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20DRAFT%3A%20interactive%20tx%20construction%20protocol&In-Reply-To=%3CCAM1a7P0rDVRvZZ74EkxL%2BpFaac_MkkQ_jQXvevZnWbUz7eaYVg%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] DRAFT: interactive tx construction protocol">niftynei at gmail.com
       </A><BR>
    <I>Wed Feb 12 23:09:17 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="002525.html">[Lightning-dev] DRAFT: interactive tx construction protocol
</A></li>
        <LI>Next message: <A HREF="002534.html">[Lightning-dev] DRAFT: interactive tx construction protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2532">[ date ]</a>
              <a href="thread.html#2532">[ thread ]</a>
              <a href="subject.html#2532">[ subject ]</a>
              <a href="author.html#2532">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Probably so that address reuse is not dinged, i.e. I have two UTXOs with
</I>the same address and want to make two different channels with different
peers.

Having 2 utxos locked to the same pubkey will map to a single H2 value
though, which is what is used to flag utxo reuse. With a PoDLE you're
proving that you have a *key* for a utxo; the verifier checks that the key
you say you know does in fact map to controlling the utxo that you say it's
attached to. Whether or not you added the utxo to the signature commitment
doesn't add anything to the security of the verification.

At worse, it might leak what other utxo that the initiator controls, if
they accidentally commit to the wrong utxo and the peer decided to try
grinding utxo outpoints on the offchance that one matched.



On Tue, Feb 11, 2020 at 10:04 PM ZmnSCPxj &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">ZmnSCPxj at protonmail.com</A>&gt; wrote:

&gt;<i> Good morning niftynei, and waxwing, and list,
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; s = k + H(kG || kJ || P || P2 || utxo || receiving-node) x
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; and as before transfer opening: (P, P2, u, s, e) with receiving-node
</I>&gt;<i> implicitly reconstructed to do the verification of the Schnorr sig. It's
</I>&gt;<i> basically a message in a signature.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Oh that's *much* nicer than calculating a second commitment.
</I>&gt;<i> Verification by any node that's not the intended recipient will fail, as
</I>&gt;<i> they'll use the wrong node_id (their own).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It seems unnecessary to me to commit to the utxo, since the pubkey pair
</I>&gt;<i> effectively does that. What's the motivation for including it?
</I>&gt;<i>
</I>&gt;<i> Probably so that address reuse is not dinged, i.e. I have two UTXOs with
</I>&gt;<i> the same address and want to make two different channels with different
</I>&gt;<i> peers.
</I>&gt;<i>
</I>&gt;<i> While address reuse Is Bad, you might not have much control over some wog
</I>&gt;<i> who is supposed to pay you and decides to give you your money in two
</I>&gt;<i> separate UTXOs to the same address.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> ZmnSCPxj
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20200212/1c55131e/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20200212/1c55131e/attachment.html</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002525.html">[Lightning-dev] DRAFT: interactive tx construction protocol
</A></li>
	<LI>Next message: <A HREF="002534.html">[Lightning-dev] DRAFT: interactive tx construction protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2532">[ date ]</a>
              <a href="thread.html#2532">[ thread ]</a>
              <a href="subject.html#2532">[ subject ]</a>
              <a href="author.html#2532">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
