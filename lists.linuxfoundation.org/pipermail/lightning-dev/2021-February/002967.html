<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Hold fee rates as DoS protection (channel	spamming and jamming)
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-February/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Hold%20fee%20rates%20as%20DoS%20protection%20%28channel%0A%09spamming%20and%20jamming%29&In-Reply-To=%3Cw_fyac2pMcvZhfDaveNPDeWGqjYnDDuUFEBIEbJ4itEPu9jD6kvPTTjGNpXjU9V0IONs7ve9xW1r75OMAletRbEucLTs9AD3NrtuGMIQIwE%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002975.html">
   <LINK REL="Next"  HREF="002977.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Hold fee rates as DoS protection (channel	spamming and jamming)</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Hold%20fee%20rates%20as%20DoS%20protection%20%28channel%0A%09spamming%20and%20jamming%29&In-Reply-To=%3Cw_fyac2pMcvZhfDaveNPDeWGqjYnDDuUFEBIEbJ4itEPu9jD6kvPTTjGNpXjU9V0IONs7ve9xW1r75OMAletRbEucLTs9AD3NrtuGMIQIwE%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] Hold fee rates as DoS protection (channel	spamming and jamming)">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Sat Feb 13 04:24:07 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="002975.html">[Lightning-dev] Hold fee rates as DoS protection (channel spamming and jamming)
</A></li>
        <LI>Next message: <A HREF="002977.html">[Lightning-dev] Hold fee rates as DoS protection (channel spamming and jamming)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2967">[ date ]</a>
              <a href="thread.html#2967">[ thread ]</a>
              <a href="subject.html#2967">[ subject ]</a>
              <a href="author.html#2967">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning Joost,

&gt;<i> &gt; Not quite up-to-speed back into this, but, I believe an issue with using feerates rather than fixed fees is &quot;what happens if a channel is forced onchain&quot;?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Suppose after C offers the HTLC to D, the C-D channel, for any reason, is forced onchain, and the blockchain is bloated and the transaction remains floating in mempools until very close to the timeout of C-D.
</I>&gt;<i> &gt; C is now liable for a large time the payment is held, and because the C-D channel was dropped onchain, presumably any parameters of the HTLC (including penalties D owes to C) have gotten fixed at the time the channel was dropped onchain.
</I>&gt;<i>
</I>&gt;<i> &gt; The simplicity of the fixed fee is that it bounds the amount of risk that C has in case its outgoing channel is dropped onchain.
</I>&gt;<i>
</I>&gt;<i> The risk is bound in both cases. If you want you can cap the variable fee at a level that isn't considered risky, but it will then not fully cover the actual cost of the locked-up htlc. Also any anti-DoS fee could very well turn out to be insignificant to the cost of closing and reopening a channel with the state of the mempool these days.
</I>

I think the problem of accidental channel closure is getting ignored by devs.
If we think any anti-DoS fee will be &quot;insignificant&quot; compared to the cost of closing and reopening a channel, maybe dev attention should be on fixing accidental channel closure costs than any anti-DoS fee mechanism.
Any deterrence of the channel jamming problem is economic so if the anti-DoS fee is tiny, then its deterrence will be tiny as well.

It seems to me that adding this anti-DoS fee *on top of* an accidental channel closure is just adding insult to injury, when we should probably be considering how to ameliorate the injury.
Otherwise forwarding nodes will themselves be deterred from operating at all.


&gt;<i> &gt; Is assuming increasing `hodl_fee_rate` along a payment path at odds with the ordering of timelocks ?
</I>&gt;<i>
</I>&gt;<i> I don't think it is.
</I>
In terms of privacy, this is more dangerous.

The decrementing timelock already leaks an upper bound on the distance to payee.
An incrementing holdfee leaks an upper bound on the distance to payer.
This translates to a single payment-part being more easily associated with the payer and payee.


Regards,
ZmnSCPxj

</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002975.html">[Lightning-dev] Hold fee rates as DoS protection (channel spamming and jamming)
</A></li>
	<LI>Next message: <A HREF="002977.html">[Lightning-dev] Hold fee rates as DoS protection (channel spamming and jamming)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2967">[ date ]</a>
              <a href="thread.html#2967">[ thread ]</a>
              <a href="subject.html#2967">[ subject ]</a>
              <a href="author.html#2967">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
