<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Escrow Over Lightning?
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-February/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Escrow%20Over%20Lightning%3F&In-Reply-To=%3C5F48CD40-A1C7-4D72-8616-19BA3B1F033A%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002948.html">
   <LINK REL="Next"  HREF="002952.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Escrow Over Lightning?</H1>
    <B>Pedro Moreno-Sanchez</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Escrow%20Over%20Lightning%3F&In-Reply-To=%3C5F48CD40-A1C7-4D72-8616-19BA3B1F033A%40gmail.com%3E"
       TITLE="[Lightning-dev] Escrow Over Lightning?">pedrorechezmailinglists at gmail.com
       </A><BR>
    <I>Mon Feb  8 08:43:28 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="002948.html">[Lightning-dev] Escrow Over Lightning?
</A></li>
        <LI>Next message: <A HREF="002952.html">[Lightning-dev] Escrow Over Lightning?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2949">[ date ]</a>
              <a href="thread.html#2949">[ thread ]</a>
              <a href="subject.html#2949">[ subject ]</a>
              <a href="author.html#2949">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

While reading this thread I realized that my colleagues and I have been working on a construction called &#8220;Bitcoin-compatible Virtual Channels&#8221; [1] that, at a first glance, highly resembles the use case and requirements that you put forward in this thread. In a nutshell, a Virtual Channel is built on top of two payment channels and use them to construct its own &#8220;funding transaction&#8221;. Imagine that Buyer and Seller do not have a payment channel between them, but they both have a payment channel with a  common node (e.g., Escrow in your example). Alice and Bob can create a Virtual Channel between them using fundings from both: channel Alice-Escrow and channel Escrow-Bob. After created, the Virtual Channel offers the same functionality as a direct payment channel between Alice and Bob (i.e., Escrow is no longer involved for payments). Our construction makes sure that no party losses funds when the Virtual Channel needs to be closed (either when Alice and Bob collaborate or any of the 3 parties cheat). 

This construction is compatible with the current Bitcoin script (e.g., taproot is not required although perhaps useful when available) and with the Lightning Network. In the paper, we describe our construction assuming that a payment-channel follows the design in &#8220;Generalized Bitcoin-Compatible Channels&#8221; [2], however the Virtual Channel construction can seamlessly work using the current Lightning payment channels.

I would be glad to hear any feedback that you may have.

Cheers,
Pedro Moreno-Sanchez 

==

[1] <A HREF="https://eprint.iacr.org/2020/554">https://eprint.iacr.org/2020/554</A>
[2] <A HREF="https://eprint.iacr.org/2020/476.pdf">https://eprint.iacr.org/2020/476.pdf</A>

&gt;<i> On Feb 8, 2021, at 9:09 AM, Andr&#233;s G. Aragoneses &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">knocte at gmail.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Hey ZmnSCPxj,
</I>&gt;<i> 
</I>&gt;<i> Am I correct in understanding that this is a proposal to change the spec (maybe add a new BOLT) so that all lightning implementations can try to support this feature.
</I>&gt;<i> 
</I>&gt;<i> If the above is true, then I'm wondering: could a Lightning-based escrow system be implemented that doesn't require to modify the existing implementations? Maybe if we simplify the requirements a bit? Like, removing the &quot;Escrow only learns of dispute cases, never learns non-dispute case&quot; aspect? That is, the third-party S always knows about an escrow between A and B taking place.
</I>&gt;<i> 
</I>&gt;<i> I understand that the above requirement is a good to have, but if removing it allows a simpler version of escrow be implemented, then at least there could be an interim solution for non-custodial exchanges to start adopting this (otherwise they have to resort to custodial-based escrows, which is worse than lacking the escrow privacy brought by the requirement above).
</I>&gt;<i> 
</I>&gt;<i> Thanks
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Lightning-dev mailing list
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">Lightning-dev at lists.linuxfoundation.org</A>
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev</A>
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002948.html">[Lightning-dev] Escrow Over Lightning?
</A></li>
	<LI>Next message: <A HREF="002952.html">[Lightning-dev] Escrow Over Lightning?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2949">[ date ]</a>
              <a href="thread.html#2949">[ thread ]</a>
              <a href="subject.html#2949">[ subject ]</a>
              <a href="author.html#2949">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
