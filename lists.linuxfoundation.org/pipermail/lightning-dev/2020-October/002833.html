<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Hold fees: 402 Payment Required for Lightning	itself
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-October/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Hold%20fees%3A%20402%20Payment%20Required%20for%20Lightning%0A%09itself&In-Reply-To=%3CCAJBJmV9Oh%3DozDX%3D47mtcfcEHh1t6CPfrg8vQsUg2jJREmn9urg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002832.html">
   <LINK REL="Next"  HREF="002835.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Hold fees: 402 Payment Required for Lightning	itself</H1>
    <B>Joost Jager</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Hold%20fees%3A%20402%20Payment%20Required%20for%20Lightning%0A%09itself&In-Reply-To=%3CCAJBJmV9Oh%3DozDX%3D47mtcfcEHh1t6CPfrg8vQsUg2jJREmn9urg%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Hold fees: 402 Payment Required for Lightning	itself">joost.jager at gmail.com
       </A><BR>
    <I>Tue Oct 13 07:46:27 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="002832.html">[Lightning-dev] Hold fees: 402 Payment Required for Lightning	itself
</A></li>
        <LI>Next message: <A HREF="002835.html">[Lightning-dev] Hold fees: 402 Payment Required for Lightning	itself
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2833">[ date ]</a>
              <a href="thread.html#2833">[ thread ]</a>
              <a href="subject.html#2833">[ subject ]</a>
              <a href="author.html#2833">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>
</I>&gt;<i> &gt; A crucial thing is that these hold fees don't need to be symmetric. A new
</I>&gt;<i> &gt; node for example that opens a channel to a well-known, established
</I>&gt;<i> routing
</I>&gt;<i> &gt; node will be forced to pay a hold fee, but won't see any traffic coming
</I>&gt;<i> in
</I>&gt;<i> &gt; anymore if it announces a hold fee itself. Nodes will need to build a
</I>&gt;<i> &gt; reputation before they're able to command hold fees. Similarly, routing
</I>&gt;<i> &gt; nodes that have a strong relation may decide to not charge hold fees to
</I>&gt;<i> &gt; each other at all.
</I>&gt;<i>
</I>&gt;<i> I can still establish channels to various low-reputation nodes, and then
</I>&gt;<i> use them to grief a high-reputation node.  Not only do I get to jam up
</I>&gt;<i> the high-reputation channels, as a bonus I get the low-reputation nodes
</I>&gt;<i> to pay for it!
</I>&gt;<i>
</I>
So you're saying:

ATTACKER --(no hold fee)--&gt; LOW-REP --(hold fee)--&gt; HIGH-REP

If I were LOW-REP, I'd still charge an unknown node a hold fee. I would
only waive the hold fee for high-reputation nodes. In that case, the
attacker is still paying for the attack. I may be forced to take a small
loss on the difference, but at least the larger part of the pain is felt by
the attacker. The assumption is that this is sufficient enough to deter the
attacker from even trying.


&gt;<i> Operators of high reputation nodes can even make this profitable; doubly
</I>&gt;<i> so, since they eliminate the chance of any of those low-reputation nodes
</I>&gt;<i> every getting to be high reputation (and thus competing).
</I>&gt;<i>
</I>
&gt;<i> AFAICT any scheme which penalizes the direct peer creates a bias against
</I>&gt;<i> forwarding unknown payments, thus is deanonymizing.
</I>&gt;<i>
</I>
If you're an honest but unknown sender (initiating the payment) and you
just pay the hold fee, I don't think there is a problem? The unknown
forward will still be carried out by a high-rep node. Also need to keep in
mind that the hold fee for quick happy flow payments is going to be tiny
(for example when calculating back from a desired annual return on the
staked channel capacity). And we can finally make these parasitic hodl
invoice users pay for it!

I guess your concern is with trying to become a routing node? If nobody
knows you, you'll be forced to pay hold fees but can't attract traffic if
you charge hold fees yourself. That indeed means that you'll need to be
selective with whom you accept htlcs from. Put limits in place to control
the expenditure. Successful forwards will earn a routing fee which could
compensate for the loss in hold fees too.

I think this mechanism can create interesting dynamics on the network and
eventually reach an equilibrium that is still healthy in terms of
decentralization and privacy.

Joost
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20201013/aede1d83/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20201013/aede1d83/attachment.html</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002832.html">[Lightning-dev] Hold fees: 402 Payment Required for Lightning	itself
</A></li>
	<LI>Next message: <A HREF="002835.html">[Lightning-dev] Hold fees: 402 Payment Required for Lightning	itself
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2833">[ date ]</a>
              <a href="thread.html#2833">[ thread ]</a>
              <a href="subject.html#2833">[ subject ]</a>
              <a href="author.html#2833">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
