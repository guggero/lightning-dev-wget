<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Recovery of Lightning channels without backups
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-May/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Recovery%20of%20Lightning%20channels%20without%20backups&In-Reply-To=%3CCAH5Bsr0%2Bb-aBO7UON5HefwP3Vg0btvd4ZJoQuCqmhfU%3DRh8j4g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003029.html">
   <LINK REL="Next"  HREF="003031.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Recovery of Lightning channels without backups</H1>
    <B>Lloyd Fournier</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Recovery%20of%20Lightning%20channels%20without%20backups&In-Reply-To=%3CCAH5Bsr0%2Bb-aBO7UON5HefwP3Vg0btvd4ZJoQuCqmhfU%3DRh8j4g%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Recovery of Lightning channels without backups">lloyd.fourn at gmail.com
       </A><BR>
    <I>Mon May  3 22:42:10 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="003029.html">[Lightning-dev] Recovery of Lightning channels without backups
</A></li>
        <LI>Next message: <A HREF="003031.html">[Lightning-dev] [RFC] Simplified (but less optimal) HTLC	Negotiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3030">[ date ]</a>
              <a href="thread.html#3030">[ thread ]</a>
              <a href="subject.html#3030">[ subject ]</a>
              <a href="author.html#3030">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 3 May 2021 at 22:58, David A. Harding &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">dave at dtrt.org</A>&gt; wrote:

&gt;<i> On Mon, May 03, 2021 at 11:01:48AM +1000, Lloyd Fournier wrote:
</I>&gt;<i> &gt; 2. It is not easy to figure out whether it worked or not
</I>&gt;<i>
</I>&gt;<i> Good point.
</I>&gt;<i>
</I>&gt;<i> &gt; 3. This is incompatible with covert recovery schemes like in [1] [...]
</I>&gt;<i> &gt; (3) is also a problem with just doing encrypted backups -- going around
</I>&gt;<i> &gt; looking for backups means you tell everyone that you are in recovery
</I>&gt;<i> mode.
</I>&gt;<i>
</I>&gt;<i> Eh, I assume nodes using the backup commons would, each time they're
</I>&gt;<i> restarted, go through the steps of downloading some number of backups
</I>&gt;<i> even if they haven't lost any data.  This tests that the backups are
</I>&gt;<i> being stored faithfully (essential to any backup process) and provides
</I>&gt;<i> cover for cases where a node does lose data.
</I>&gt;<i>
</I>
Ok this is a fun idea and hadn't thought of it like that before. Here are
the thoughts that come to mind:

1. Each time you start up your node you backup you go around to different
nodes -- but the obvious question is *which* nodes do you go to? You could
try and do something like rendezvous hashing [1] to reduce the set (with
some secret data as input so it is not predictable to anyone but yourself) .
2. What do you backup? Full-channel state or just a channel list? Even if
you have mostly honest backup nodes you need to make sure you delete old
states from your remote backups before revoking them if you do full
backups. This slows down sending payments but it might be worth it for
users like myself. So perhaps it's still better to avoid full backups here.

[1] <A HREF="https://en.wikipedia.org/wiki/Rendezvous_hashing">https://en.wikipedia.org/wiki/Rendezvous_hashing</A>

LL
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20210504/dec95c85/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20210504/dec95c85/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003029.html">[Lightning-dev] Recovery of Lightning channels without backups
</A></li>
	<LI>Next message: <A HREF="003031.html">[Lightning-dev] [RFC] Simplified (but less optimal) HTLC	Negotiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3030">[ date ]</a>
              <a href="thread.html#3030">[ thread ]</a>
              <a href="subject.html#3030">[ subject ]</a>
              <a href="author.html#3030">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
