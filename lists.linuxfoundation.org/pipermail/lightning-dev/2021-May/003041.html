<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Improving Payment Latency by Fast Forwards
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-May/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Improving%20Payment%20Latency%20by%20Fast%20Forwards&In-Reply-To=%3C6-JUY35Z4hkPDQ3A1evbGaLPFmKRPQariSYW_tP8wp2QJPFksmZPaVeb7nbrlaw6_C2ZRmZpjNOE7giR-2_NtUU5QJZwKLAaiEH9NPxKJXw%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003040.html">
   <LINK REL="Next"  HREF="003043.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Improving Payment Latency by Fast Forwards</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Improving%20Payment%20Latency%20by%20Fast%20Forwards&In-Reply-To=%3C6-JUY35Z4hkPDQ3A1evbGaLPFmKRPQariSYW_tP8wp2QJPFksmZPaVeb7nbrlaw6_C2ZRmZpjNOE7giR-2_NtUU5QJZwKLAaiEH9NPxKJXw%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] Improving Payment Latency by Fast Forwards">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Mon May 24 07:04:27 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="003040.html">[Lightning-dev] Improving Payment Latency by Fast Forwards
</A></li>
        <LI>Next message: <A HREF="003043.html">[Lightning-dev] Improving Payment Latency by Fast Forwards
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3041">[ date ]</a>
              <a href="thread.html#3041">[ thread ]</a>
              <a href="subject.html#3041">[ subject ]</a>
              <a href="author.html#3041">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning LL,

&gt;<i> Hey Z,
</I>&gt;<i>
</I>&gt;<i> Thanks for your analysis. I agree with your conclusion. I think the most practical approach is the &quot;ask first&quot; 3 round protocol.
</I>&gt;<i>
</I>&gt;<i> Another option is to have `remote_penaltyclaimpubkey` owned by the node instead of the hardware device.
</I>&gt;<i> This allows funds to accrue in the fast forward state which can be swept into the commit tx at the merchants discretion.
</I>&gt;<i> If a fast forward state needs to be asserted on-chain it can then be done automatically without the hardware device.
</I>&gt;<i> Of course, the funds in the FF state are more vulnerable than the main channel balance during that time because their keys are not in a secure device but this seems ok.
</I>&gt;<i> The obvious analogy is to having cash in the till (less secure) that you send to your bank (more secure&#8482;) at the end of the day or week.
</I>

This seems a useful technique.

&gt;<i>
</I>&gt;<i> &gt; We ***need*** privkeys to be periodically online more often than `to_self_delay` anyway, ***in case of theft attempts***.
</I>&gt;<i> &gt;&#160; So this is not an ***additional*** requirement at least.
</I>&gt;<i>
</I>&gt;<i> This is a really important point. I guess you have to actually do this periodically, only when there is an actual attempt at theft. Quite annoying to UX to require this.
</I>
If you mean &quot;***not*** only when there is an actual attempt at theft&quot;, yes.

My thought that this would be useful for a &quot;big&quot;-ish merchant that primarily accepts payments, to mitigate its key exposure.
It would program a small low-power device such that it almost always has its network interface disabled, but periodically (at random times) it will enable its network interface and connect out to the node, presenting a proof that it holds the privkey.
It would have a firewall so that it cannot receive incoming connection requests and can only make outgoing connection requests (and as noted above, most of the time the network interface would be disabled outright).

Then the node could wait for this hardware to contact it, and proceed to &quot;roll up&quot; any fast-forwarded HTLCs.
This could also be an opportunity for the node to send out funds, for example to pay the salaries of employees or dividends to shareholders of the merchant.

Regards,
ZmnSCPxj
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003040.html">[Lightning-dev] Improving Payment Latency by Fast Forwards
</A></li>
	<LI>Next message: <A HREF="003043.html">[Lightning-dev] Improving Payment Latency by Fast Forwards
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3041">[ date ]</a>
              <a href="thread.html#3041">[ thread ]</a>
              <a href="subject.html#3041">[ subject ]</a>
              <a href="author.html#3041">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
