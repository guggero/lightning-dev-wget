<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] RouteBoost: Adding 'r=' fields to BOLT 11	invoices to flag capacity
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-September/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20RouteBoost%3A%20Adding%20%27r%3D%27%20fields%20to%20BOLT%2011%0A%09invoices%20to%20flag%20capacity&In-Reply-To=%3C878t3wd3zx.fsf%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001418.html">
   <LINK REL="Next"  HREF="001420.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] RouteBoost: Adding 'r=' fields to BOLT 11	invoices to flag capacity</H1>
    <B>Christian Decker</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20RouteBoost%3A%20Adding%20%27r%3D%27%20fields%20to%20BOLT%2011%0A%09invoices%20to%20flag%20capacity&In-Reply-To=%3C878t3wd3zx.fsf%40gmail.com%3E"
       TITLE="[Lightning-dev] RouteBoost: Adding 'r=' fields to BOLT 11	invoices to flag capacity">decker.christian at gmail.com
       </A><BR>
    <I>Thu Sep 20 07:25:54 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001418.html">[Lightning-dev] RouteBoost: Adding 'r=' fields to BOLT 11 invoices to flag capacity
</A></li>
        <LI>Next message: <A HREF="001420.html">[Lightning-dev] RouteBoost: Adding 'r=' fields to BOLT 11 invoices to flag capacity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1419">[ date ]</a>
              <a href="thread.html#1419">[ thread ]</a>
              <a href="subject.html#1419">[ subject ]</a>
              <a href="author.html#1419">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That might not be so desirable, since it leaks the current channel
capacity to the user. Depending on how fine grained the amount in the
invoice is and how the user can control it, he could do a binary search
over capacities and very reliably tell how much capacity you have and
track it over time. That is still the case for a single channel, but if
you always chose the same channel it reduces how much info is leaked.

Cheers,
Christian

Johan Tor&#229;s Halseth &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">johanth at gmail.com</A>&gt; writes:
&gt;<i> Any reason not to include _all_ (up to a limit) incoming channels with
</I>&gt;<i> sufficient capacity?
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Johan
</I>&gt;<i>
</I>&gt;<i> On Thu, Sep 20, 2018 at 4:12 AM Rusty Russell &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">rusty at blockstream.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         I'm considering a change to c-lightning, where `invoice` would
</I>&gt;&gt;<i> automatically append an 'r' field for a channel which has sufficient
</I>&gt;&gt;<i> *incoming* capacity for the amount (using a weighted probability across
</I>&gt;&gt;<i> our peers).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          This isn't quite what 'r' was for, but it would be a useful
</I>&gt;&gt;<i> hint for payment routing and also potentially for establishing an
</I>&gt;&gt;<i> initial channel.  This is an issue for the Blockstream Store which
</I>&gt;&gt;<i> deliberately doesn't advertize an address any more to avoid
</I>&gt;&gt;<i> centralization.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thoughts welcome!
</I>&gt;&gt;<i> Rusty.
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Lightning-dev mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">Lightning-dev at lists.linuxfoundation.org</A>
</I>&gt;&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev</A>
</I>&gt;&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Lightning-dev mailing list
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">Lightning-dev at lists.linuxfoundation.org</A>
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev</A>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001418.html">[Lightning-dev] RouteBoost: Adding 'r=' fields to BOLT 11 invoices to flag capacity
</A></li>
	<LI>Next message: <A HREF="001420.html">[Lightning-dev] RouteBoost: Adding 'r=' fields to BOLT 11 invoices to flag capacity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1419">[ date ]</a>
              <a href="thread.html#1419">[ thread ]</a>
              <a href="subject.html#1419">[ subject ]</a>
              <a href="author.html#1419">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
