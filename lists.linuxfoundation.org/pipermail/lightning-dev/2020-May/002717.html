<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Miners Dust Inflation attacks on Lightning	Network
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-May/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Miners%20Dust%20Inflation%20attacks%20on%20Lightning%0A%09Network&In-Reply-To=%3CDECmB4guKd90I5Lelhu8yiTsZlZN1b14u_rRNF-sCm6A5S8bu3xsHyA58qLSjnw-OcbWwJ-dVoH2RrLI5E02vZ54glcF_A_FZDbdQJJPb1M%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002716.html">
   <LINK REL="Next"  HREF="002718.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Miners Dust Inflation attacks on Lightning	Network</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Miners%20Dust%20Inflation%20attacks%20on%20Lightning%0A%09Network&In-Reply-To=%3CDECmB4guKd90I5Lelhu8yiTsZlZN1b14u_rRNF-sCm6A5S8bu3xsHyA58qLSjnw-OcbWwJ-dVoH2RrLI5E02vZ54glcF_A_FZDbdQJJPb1M%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] Miners Dust Inflation attacks on Lightning	Network">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Wed May 20 03:26:54 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="002716.html">[Lightning-dev] Miners Dust Inflation attacks on Lightning	Network
</A></li>
        <LI>Next message: <A HREF="002718.html">[Lightning-dev] Griefing-Penalty: A proposal for mitigating	Griefing Attack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2717">[ date ]</a>
              <a href="thread.html#2717">[ thread ]</a>
              <a href="subject.html#2717">[ subject ]</a>
              <a href="author.html#2717">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning Antoine,

As well, I considered doing state machine shenanigans for this (do not sign for removal of HTLC in your outgoing channel until you have irrevocable removal of HTLC in your incoming channel) but this does not work since if you already have a miner willing to cooperate with you and which you can plausibly believe will share the amount with you, the miner can recover the funds by simply closing the outgoing channel as well.


&gt;<i> Hi ZmnSCPxj,
</I>&gt;<i> As of today, you can setup a `htlc_minimum_msat` higher than remote's `dust_limit_satoshis`, but you don't necessarily know it before announcing your channel parameters if you're initiator.
</I>&gt;<i> In practice, assuming you can do so, with fees going higher and HTLC outputs being encumbered, their cost-to-spend will increase so forbidding dust HTLC will outlaw low-value payments, which them are a constant.
</I>&gt;<i>
</I>&gt;<i> &gt; Adding this to the spec does have the advantage that an honest forwarder can hold an HTLC for a while once it notices that the next hop has a bunch of dusty HTLCs in-flight that are beyond the negotiated `max_dust_htlc_value_in_flight_msat`, which might help reliability of micropayments slightly, but there is still the reduction of reliability.
</I>&gt;<i>
</I>&gt;<i> I agree you can already fail HTLC as a local forwarding policy, which is not great for reliability. So you may have either a negotiated `max_dust_htlc_value_in_flight_msat` or refuse an `open_channel`/`accept_channel` by receiver considering remote's&#160; `dust_limit_satoshi` too high.
</I>&gt;<i> I do think that's a pretty low-risk scenario but that would be better if implementations somehow bound in-flight dust to lower attack incentive.
</I>
Even if such a limit is negotiated it seems reliability is still reduced --- if the limit is too low in practice then it would be easy for the micropayment bandwidth to be saturated anyway and such tiny payments will not push through.
It is still slightly better though.

Regards,
ZmnSCPxj

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002716.html">[Lightning-dev] Miners Dust Inflation attacks on Lightning	Network
</A></li>
	<LI>Next message: <A HREF="002718.html">[Lightning-dev] Griefing-Penalty: A proposal for mitigating	Griefing Attack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2717">[ date ]</a>
              <a href="thread.html#2717">[ thread ]</a>
              <a href="subject.html#2717">[ subject ]</a>
              <a href="author.html#2717">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
