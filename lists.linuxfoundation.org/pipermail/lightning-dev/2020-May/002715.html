<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Miners Dust Inflation attacks on Lightning	Network
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-May/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Miners%20Dust%20Inflation%20attacks%20on%20Lightning%0A%09Network&In-Reply-To=%3C4tUTI-rUr2n5BpMr_d7D_FN_av5TNHCex10PgfwJUxMPrkkowY8IpWawB5U1t9HP5rVnE6JL8nv5i8Y9aRIQTUzU1Z47Bho_aeNqXr-P84I%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002714.html">
   <LINK REL="Next"  HREF="002716.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Miners Dust Inflation attacks on Lightning	Network</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Miners%20Dust%20Inflation%20attacks%20on%20Lightning%0A%09Network&In-Reply-To=%3C4tUTI-rUr2n5BpMr_d7D_FN_av5TNHCex10PgfwJUxMPrkkowY8IpWawB5U1t9HP5rVnE6JL8nv5i8Y9aRIQTUzU1Z47Bho_aeNqXr-P84I%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] Miners Dust Inflation attacks on Lightning	Network">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Tue May 19 00:52:09 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="002714.html">[Lightning-dev] Miners Dust Inflation attacks on Lightning Network
</A></li>
        <LI>Next message: <A HREF="002716.html">[Lightning-dev] Miners Dust Inflation attacks on Lightning	Network
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2715">[ date ]</a>
              <a href="thread.html#2715">[ thread ]</a>
              <a href="subject.html#2715">[ subject ]</a>
              <a href="author.html#2715">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning Antoine,


&gt;<i> Mitigating may come by negotiating a new `max_dust_htlc_value_in_flight_msat` enforced by HTLC recipient, therefore expressing its maximum trust tolerance with regards to dust. Bearing a cost on a HTLC holder will also render the attack more expensive, even if for counter-measure efficiency you likely need a different order of magnitude that spam-protection.
</I>
Even without a spec change, such a setting may be enforced by a forwarding node by the simple act of refusing to forward an HTLC once a certain level of incoming dust HTLCs are currently in-flight.
That is, the forwarding node can simply accept the incoming new dusty HTLC, but instead of forwarding, claim a `temporary_channel_failure` on the next channel.
The attack requires that the forwarding node actually forward the HTLC, after all.

This will of course lead to reduced reliability on micropayments.

Adding this to the spec does have the advantage that an honest forwarder can hold an HTLC for a while once it notices that the next hop has a bunch of dusty HTLCs in-flight that are beyond the negotiated `max_dust_htlc_value_in_flight_msat`, which might help reliability of micropayments slightly, but there is still the reduction of reliability.
Not to mention that the easiest code change to respect such a limit would be simply to fail forwarding anyway.

Regards,
ZmnSCPxj
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002714.html">[Lightning-dev] Miners Dust Inflation attacks on Lightning Network
</A></li>
	<LI>Next message: <A HREF="002716.html">[Lightning-dev] Miners Dust Inflation attacks on Lightning	Network
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2715">[ date ]</a>
              <a href="thread.html#2715">[ thread ]</a>
              <a href="subject.html#2715">[ subject ]</a>
              <a href="author.html#2715">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
