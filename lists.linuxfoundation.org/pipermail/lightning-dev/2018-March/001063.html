<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Pinging a route for capacity
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-March/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Pinging%20a%20route%20for%20capacity&In-Reply-To=%3CCADZtCSgzKedjd1UT8EZXMMg58O2bCW0bJO_FSCXFyr8J0F1PuA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001060.html">
   <LINK REL="Next"  HREF="001067.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Pinging a route for capacity</H1>
    <B>Jim Posen</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Pinging%20a%20route%20for%20capacity&In-Reply-To=%3CCADZtCSgzKedjd1UT8EZXMMg58O2bCW0bJO_FSCXFyr8J0F1PuA%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Pinging a route for capacity">jim.posen at gmail.com
       </A><BR>
    <I>Fri Mar  2 14:42:09 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001060.html">[Lightning-dev] Pinging a route for capacity
</A></li>
        <LI>Next message: <A HREF="001067.html">[Lightning-dev] Pinging a route for capacity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1063">[ date ]</a>
              <a href="thread.html#1063">[ thread ]</a>
              <a href="subject.html#1063">[ subject ]</a>
              <a href="author.html#1063">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Regarding ping flooding, if it is problematic, the best solution is
probably including a small proof-of-work with the ping, similar to BIP 154.
However, the whole purpose of the ping in the first place is to be a
cheaper way to collect routing information than attempting to send a
payment, so I think adding a PoW starts to become counterproductive. Note
that the sender needs to expend a certain amount of computation just
creating the onion packet up front (on the order of a few ms, I believe),
so perhaps that is sufficient.

Also, if someone wanted to DoS the network, there are much better ways than
using this proposed ping mechanism. For example, someone can send payments
along any circuit with a randomly generated payment hash (for which the
preimage is unknown), and force a payment failure at the end of the route.
That is basically a way to ping that works now, but is more expensive for
everyone.

On Thu, Mar 1, 2018 at 4:16 PM, gb &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">kiwigb at yahoo.com</A>&gt; wrote:

&gt;<i> .... and any thoughts on protections against flood pinging?
</I>&gt;<i>
</I>&gt;<i> On Thu, 2018-03-01 at 09:45 -0500, Jim Posen wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; The main benefit is that this should make it quicker to send a
</I>&gt;<i> &gt; successful payment because latency is lower than sending an actual
</I>&gt;<i> &gt; payment and the sender could ping all possible routes in parallel,
</I>&gt;<i> &gt; whereas they can't send multiple payments in parallel. The main
</I>&gt;<i> &gt; downside I can think of is that, by the same token, it is faster and
</I>&gt;<i> &gt; cheaper for someone to extract information about channel capacities on
</I>&gt;<i> &gt; the network with a binary search.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -jimpo
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Lightning-dev mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">Lightning-dev at lists.linuxfoundation.org</A>
</I>&gt;<i> &gt; <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180302/e1a8e668/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180302/e1a8e668/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001060.html">[Lightning-dev] Pinging a route for capacity
</A></li>
	<LI>Next message: <A HREF="001067.html">[Lightning-dev] Pinging a route for capacity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1063">[ date ]</a>
              <a href="thread.html#1063">[ thread ]</a>
              <a href="subject.html#1063">[ subject ]</a>
              <a href="author.html#1063">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
