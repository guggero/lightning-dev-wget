<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] A protocol for requesting invoices
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-March/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20A%20protocol%20for%20requesting%20invoices&In-Reply-To=%3C5AA36A1E.5090909%40AndySchroder.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001112.html">
   <LINK REL="Next"  HREF="001088.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] A protocol for requesting invoices</H1>
    <B>Andy Schroder</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20A%20protocol%20for%20requesting%20invoices&In-Reply-To=%3C5AA36A1E.5090909%40AndySchroder.com%3E"
       TITLE="[Lightning-dev] A protocol for requesting invoices">info at AndySchroder.com
       </A><BR>
    <I>Sat Mar 10 05:16:14 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001112.html">[Lightning-dev] A protocol for requesting invoices
</A></li>
        <LI>Next message: <A HREF="001088.html">[Lightning-dev] A protocol for requesting invoices
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1079">[ date ]</a>
              <a href="thread.html#1079">[ thread ]</a>
              <a href="subject.html#1079">[ subject ]</a>
              <a href="author.html#1079">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Corn&#233;,

I'm glad to see that someone getting this kind of idea started.

I'm still new to some of these topics, but I have a few comments.
Hopefully I'm not wasting your time if they are too rudimentary!

 1. You mention that the payee gives a URL where the payer can then
    connect to to request invoices. You mention that this can be a tor
    hidden service if the payee needs to remain private. You also
    suggest that the payee can remain private by &quot;payee can send an
    invoice to payer which has a partial onion route as destination
    instead of a node ID&quot;. I was reading about tor hidden services
    (<A HREF="https://www.torproject.org/docs/onion-services.html.en">https://www.torproject.org/docs/onion-services.html.en</A>), and they
    require an introduction point, and a rendezvous point. Do we not
    need this two step process for the payment route, because we already
    have communication initiated over the anonymous communication
    channel, and the beginning of the partial onion route is not
    publicly available information, and can change with every invoice?
 2. What happens if the capacity of the partial onion route is no longer
    sufficient when the payer is ready to pay? Is there a way to provide
    a few routes just in case? Or, in the case where no amount is
    specified, how is the partial onion route possible if we don't even
    know how much capacity may be needed?
 3. You say the refund should invalidate the proof of payment of the
    initial transaction. What about partial refunds? I think there are a
    lot of applications where there would be a partial refund.
 4. You say &quot;this BOLT specifies a protocol where payee gives a URL to
    one or more potential payers&quot;. How does the payer identify itself to
    the payee so that the payee knows what goods or services that they
    want an invoice for? Do they send this after making the connection,
    or is it part of the URL?




Andy Schroder

On 03/08/2018 10:19 AM, Corn&#233; Plooy via Lightning-dev wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I was thinking of how to use Lightning for various types of payments,
</I>&gt;<i> and I think it's currently fine for customer/(web)shop type
</I>&gt;<i> interactions, but it seems a bit inconvenient for other use cases, e.g.
</I>&gt;<i> salary payments or direct pay-out of cryptocurrency bought on an
</I>&gt;<i> exchange. I came up with an idea that addresses some of these issues and
</I>&gt;<i> more (e.g. payee anonymity) by having a direct line of communication
</I>&gt;<i> between payer and payee instead of BOLT11-style interaction. It's still
</I>&gt;<i> a bit half-baked, with many details not worked out yet, but you can read
</I>&gt;<i> it here, and see if you like where this is going:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://github.com/bitonic-cjp/lightning-rfc/blob/payment-protocol/12-payment-protocol.md">https://github.com/bitonic-cjp/lightning-rfc/blob/payment-protocol/12-payment-protocol.md</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> In true permissionless fashion, I have been so bolD to register bolT #12
</I>&gt;<i> for my idea.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Please let me know what you think.
</I>&gt;<i>
</I>&gt;<i> kind regards,
</I>&gt;<i>
</I>&gt;<i> CJP
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Lightning-dev mailing list
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">Lightning-dev at lists.linuxfoundation.org</A>
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180310/b0f5979c/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20180310/b0f5979c/attachment.html</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001112.html">[Lightning-dev] A protocol for requesting invoices
</A></li>
	<LI>Next message: <A HREF="001088.html">[Lightning-dev] A protocol for requesting invoices
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1079">[ date ]</a>
              <a href="thread.html#1079">[ thread ]</a>
              <a href="subject.html#1079">[ subject ]</a>
              <a href="author.html#1079">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
