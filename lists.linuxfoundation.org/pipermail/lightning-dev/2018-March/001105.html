<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] A protocol for requesting invoices
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-March/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20A%20protocol%20for%20requesting%20invoices&In-Reply-To=%3CUekByaa2V6VZWyHd6UfwiIQJb7HiYhPQ6oSoddAekxhTylyyzT7CvGYLJ1scLyJTaJhD7f1abzvyg9NyJXefJh6gj6foUGMIvO2KdNrwbKU%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001104.html">
   <LINK REL="Next"  HREF="001111.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] A protocol for requesting invoices</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20A%20protocol%20for%20requesting%20invoices&In-Reply-To=%3CUekByaa2V6VZWyHd6UfwiIQJb7HiYhPQ6oSoddAekxhTylyyzT7CvGYLJ1scLyJTaJhD7f1abzvyg9NyJXefJh6gj6foUGMIvO2KdNrwbKU%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] A protocol for requesting invoices">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Mon Mar 19 14:27:00 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001104.html">[Lightning-dev] A protocol for requesting invoices
</A></li>
        <LI>Next message: <A HREF="001111.html">[Lightning-dev] A protocol for requesting invoices
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1105">[ date ]</a>
              <a href="thread.html#1105">[ thread ]</a>
              <a href="subject.html#1105">[ subject ]</a>
              <a href="author.html#1105">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning Corne,

&gt;<i> &gt; It is a public key hash, yes. But what I refer to is that the payee-determined route section, which starts from an introduction point, protects the payee from being located by the payer, but how did the payer contact the payee in the first place anyway? If it was by IP or non-.onion hostname, then the payee has been already located and there is no point in hiding from the payer. If it was by .onion hostname, then the payee security is bounded by the security of TOR, so it is no more secure for the payee to simply run its LN node on the same .onion address (which LN spec supports) and provide the public key of its LN node.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Note that onion routing on LN in general protects the payer and the payee from being known easily by intermediate hop nodes, and this is the sole intent of onion routing for now. Presumably the payer knows how to contact the payee (else how would it form a connection to the payee in order to make an interactive request for invoice?). Presumably if the payee is a merchant, it knows how to send its product to the payer (and thus would know details like the physical address of the payer). And so on. The payee-determined route that starts from the introduction point protects the payee from the payer, but does it indeed increase the security or is there some other way to locate the payee anyway?
</I>&gt;<i> 
</I>&gt;<i> If that payee has a LN node that is 100% a TOR hidden service, and you
</I>&gt;<i> 
</I>&gt;<i> don't use a (partially) payee-determined route, the payee has to reveal
</I>&gt;<i> 
</I>&gt;<i> its node ID to the payer. This is not the same as revealing the physical
</I>&gt;<i> 
</I>&gt;<i> identity of the payee, and having a hidden service may help to keep the
</I>&gt;<i> 
</I>&gt;<i> two identities separated, but a LN node is a relatively long-lived
</I>&gt;<i> 
</I>&gt;<i> entity.
</I>
The LN node is long-lived, but the TOR address it uses is not long-lived?  LN nodes need to communicate with counterparties, and if the connection breaks, you need to get in contact again, else the channel is unuseable.

Admittedly an LN node may change its TOR address by re-gossiping a new TOR address, though, so I suppose that is a possibility.  But that still links LN pubkeys with TOR addresses anyway.

I suppose the use-case here is that the payee uses many TOR addresses with only one LN node.


Regards,
ZmnSCPxj
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001104.html">[Lightning-dev] A protocol for requesting invoices
</A></li>
	<LI>Next message: <A HREF="001111.html">[Lightning-dev] A protocol for requesting invoices
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1105">[ date ]</a>
              <a href="thread.html#1105">[ thread ]</a>
              <a href="subject.html#1105">[ subject ]</a>
              <a href="author.html#1105">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
