<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Possibility to Include refund invoice in lightning	payments
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-May/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Possibility%20to%20Include%20refund%20invoice%20in%20lightning%0A%09payments&In-Reply-To=%3C4DeCswdUuTcg71wGxRhe2TqEAdRRiiNnMafioetqQH7GxcR41umBxJ2IWZp5YwUpkfgivjMCOvM4H2_fH6cpkLcLlq454W2vvAzdXWegMBY%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001999.html">
   <LINK REL="Next"  HREF="001992.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Possibility to Include refund invoice in lightning	payments</H1>
    <B>Paberlance</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Possibility%20to%20Include%20refund%20invoice%20in%20lightning%0A%09payments&In-Reply-To=%3C4DeCswdUuTcg71wGxRhe2TqEAdRRiiNnMafioetqQH7GxcR41umBxJ2IWZp5YwUpkfgivjMCOvM4H2_fH6cpkLcLlq454W2vvAzdXWegMBY%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] Possibility to Include refund invoice in lightning	payments">paberlance at protonmail.com
       </A><BR>
    <I>Sun May 12 23:24:49 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="001999.html">[Lightning-dev] An Argument For Single-Asset Lightning Network
</A></li>
        <LI>Next message: <A HREF="001992.html">[Lightning-dev] Eltoo, anyprevout and chaperone signatures
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2017">[ date ]</a>
              <a href="thread.html#2017">[ thread ]</a>
              <a href="subject.html#2017">[ subject ]</a>
              <a href="author.html#2017">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Lightning Devs,

i was wondering about the following idea: What if you attach a refund invoice to any LN payment. With this the recipient then has the possibility to refund, fully, partially or eventually tipping even a higher payment amount back to the sender.

From the user side, the userwallet pays just as normal Lightning Invoice, but attached along with the payment of 0 sat invoice back to the seller. From a UX perspective, this all happens is controlled by the wallet, which must agree on a protocol for embedding the return invoice with the LN payment.

On the recipee side, a normal LN invoice is recieved and optionally store that invoice to be able to perform a spontaneous refund later in time if he wants.As the invoice amount is not predefined, the seller is free to refund any payment, just bounded to the invoice timeout. Probably the payer will be motivated to issue invoices with a high expiry time-out.

Possible Usecases:

*Promotions, like: Every 100x Purchaser wins a prize, gets the order for free.

*Refunds: I order something, cancel the transaction, seller refunds the transaction partially, charging a service fee that he does not return.

*Safety deposits: You rent a car, the company keeps the payment as safety deposit, that gets reverted as soon as the car is returned.

*Spontanous payouts in games

Alternatives:

*Hodl invoice, can achieve the same goal to refund the customer, but limited as it's an &quot;all or nothing refund&quot; option. Amount can't be more than the actual payment.
<A HREF="https://github.com/lightningnetwork/lnd/pull/2022">https://github.com/lightningnetwork/lnd/pull/2022</A>

*&quot;Spontaneous LN invoice creation &quot; with server that acts as a lookup proxy that handles the lightning creation on request. Inspiration: @georgevaccaro

Requirements:

Payer has to generate a invoice and provide it encoded in the payment request as payload.
Reciver: must be able to settle the actual payment. And optionaly he may support the feature After storing the refund invoice, he then has the ability to decice if or how he will use it to refunde the client in the future.

Does this exist yet? What people can help me with this idea?

Any ressources or hints to digg deeper, built on top of that idea?

Paberlance
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20190512/716f0d0f/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20190512/716f0d0f/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001999.html">[Lightning-dev] An Argument For Single-Asset Lightning Network
</A></li>
	<LI>Next message: <A HREF="001992.html">[Lightning-dev] Eltoo, anyprevout and chaperone signatures
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2017">[ date ]</a>
              <a href="thread.html#2017">[ thread ]</a>
              <a href="subject.html#2017">[ subject ]</a>
              <a href="author.html#2017">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
