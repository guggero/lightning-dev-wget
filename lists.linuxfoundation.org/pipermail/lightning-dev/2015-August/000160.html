<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] A state machine.
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2015-August/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20A%20state%20machine.&In-Reply-To=%3CCAJS_LCWfcQGWu48HtsFM%3DE7o%3DdHT6tkWLX8iDyx4haL_yeRBig%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000157.html">
   <LINK REL="Next"  HREF="000165.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] A state machine.</H1>
    <B>Anthony Towns</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20A%20state%20machine.&In-Reply-To=%3CCAJS_LCWfcQGWu48HtsFM%3DE7o%3DdHT6tkWLX8iDyx4haL_yeRBig%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] A state machine.">aj at erisian.com.au
       </A><BR>
    <I>Sun Aug 30 00:51:54 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000157.html">[Lightning-dev] A state machine.
</A></li>
        <LI>Next message: <A HREF="000165.html">[Lightning-dev] A state machine.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#160">[ date ]</a>
              <a href="thread.html#160">[ thread ]</a>
              <a href="subject.html#160">[ subject ]</a>
              <a href="author.html#160">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 29 August 2015 at 22:50, Pierre &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">pm+lists at acinq.fr</A>&gt; wrote:

&gt;<i> Hi Anthony,
</I>&gt;<i> Your svg looks great, thanks for sharing !
</I>&gt;<i>
</I>
&#8203;Yeah, I like it :)


&gt;<i> Regarding the init phase, you seem to be making the assumption that
</I>&gt;<i> whoever initiates a channel will be the one funding it. But that's not
</I>&gt;<i> necessarily the case if the requester is a merchant who will only receive
</I>&gt;<i> payments right ?
</I>&gt;<i>
</I>
Yeah, kind-of. I figure that whoever is providing the anchor will want to
make a decision beforehand (rather than just have software do that
automatically when a particular packet comes in), and they'll indicate they
want to proceed by issuing a &quot;cmd_init_with_my_anchor&quot;. Maybe there's some
negotiation before that (someone registers on your website, or whatever
eg), but I figure that's out-of-band.

If you're a merchant, I think it would either be:

 a) register with paypal, paypal anchors the channel
 b) merchant anchors the channel with random hub, merchant has all the
funds, suggests rebalancing via the blockchain with the hub, rebalancing
protocol happens
 c) merchant anchors the channel, merchant does a HTLC to:
     - their account on an exchange
     - their &quot;cold wallet&quot; lightning channel
     - something else
    moving all the funds to the other side of their channel

and voila, they can receive funds.

Of course we can make this initial funding as low as we want, then have the
&gt;<i> lightning node fund the channel...
</I>&gt;<i>
</I>
&#8203;You can't increase the capacity of a channel easily -- you need a new
anchor transaction for that...&#8203;

&#8203;Cheers,
aj&#8203;

-- 
Anthony Towns &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">aj at erisian.com.au</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20150830/8d5ea290/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20150830/8d5ea290/attachment.html</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000157.html">[Lightning-dev] A state machine.
</A></li>
	<LI>Next message: <A HREF="000165.html">[Lightning-dev] A state machine.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#160">[ date ]</a>
              <a href="thread.html#160">[ thread ]</a>
              <a href="subject.html#160">[ subject ]</a>
              <a href="author.html#160">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
