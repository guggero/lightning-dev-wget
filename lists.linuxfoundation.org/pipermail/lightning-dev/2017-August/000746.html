<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Lightning in the setting of blockchain hardforks
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2017-August/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Lightning%20in%20the%20setting%20of%20blockchain%20hardforks&In-Reply-To=%3CCALxbBHU-_sC7Qr%3DU5TMtB_Gs6fe1QnskAaYrLhp1_7Zqc-m8cg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000745.html">
   <LINK REL="Next"  HREF="000748.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Lightning in the setting of blockchain hardforks</H1>
    <B>Christian Decker</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Lightning%20in%20the%20setting%20of%20blockchain%20hardforks&In-Reply-To=%3CCALxbBHU-_sC7Qr%3DU5TMtB_Gs6fe1QnskAaYrLhp1_7Zqc-m8cg%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Lightning in the setting of blockchain hardforks">decker.christian at gmail.com
       </A><BR>
    <I>Thu Aug 17 10:39:54 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="000745.html">[Lightning-dev] Lightning in the setting of blockchain hardforks
</A></li>
        <LI>Next message: <A HREF="000748.html">[Lightning-dev] Lightning in the setting of blockchain hardforks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#746">[ date ]</a>
              <a href="thread.html#746">[ thread ]</a>
              <a href="subject.html#746">[ subject ]</a>
              <a href="author.html#746">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Martin,

this is the perfect venue to discuss this, welcome to the mailing list :-)
Like you I think that using the first forked block as the forkchain's
genesis block is the way to go, keeping the non-forked blockchain on the
original genesis hash, to avoid disruption. It may become more difficult in
the case one chain doesn't declare itself to be the forked chain.

Even more interesting are channels that are open during the fork. In these
cases we open a single channel, and will have to settle two. If no replay
protection was implemented on the fork, then we can use the last commitment
to close the channel (updates should be avoided since they now double any
intended effect), if replay protection was implemented then commitments
become invalid on the fork, and people will lose money.

Fun times ahead :-)

Cheers,
Christian

On Thu, Aug 17, 2017 at 10:53 AM Martin Schwarz &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">martin.schwarz at gmail.com</A>&gt;
wrote:

&gt;<i> Dear all,
</I>&gt;<i>
</I>&gt;<i> currently the chain_id allows to distinguish blockchains by the hash of
</I>&gt;<i> their genesis block.
</I>&gt;<i>
</I>&gt;<i> With hardforks branching off of the Bitcoin blockchain, how can Lightning
</I>&gt;<i> work on (or across)
</I>&gt;<i> distinct, permanent forks of a parent blockchain that share the same
</I>&gt;<i> genesis block?
</I>&gt;<i>
</I>&gt;<i> I suppose changing the definition of chain_id to the hash of the first
</I>&gt;<i> block of the new
</I>&gt;<i> branch and requiring replay and wipe-out protection should be sufficient.
</I>&gt;<i> But can we
</I>&gt;<i> relax these requirements? Are slow block times an issue? Can we use
</I>&gt;<i> Lightning to transact
</I>&gt;<i> on &quot;almost frozen&quot; block chains suffering from a sudden loss of hashpower?
</I>&gt;<i>
</I>&gt;<i> Has there been any previous discussion or study of Lightning in the
</I>&gt;<i> setting of hardforks?
</I>&gt;<i> (Is this the right place to discuss this? If not, where would be the right
</I>&gt;<i> place?)
</I>&gt;<i>
</I>&gt;<i> thanks,
</I>&gt;<i> Martin
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Lightning-dev mailing list
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">Lightning-dev at lists.linuxfoundation.org</A>
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20170817/fe757404/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20170817/fe757404/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000745.html">[Lightning-dev] Lightning in the setting of blockchain hardforks
</A></li>
	<LI>Next message: <A HREF="000748.html">[Lightning-dev] Lightning in the setting of blockchain hardforks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#746">[ date ]</a>
              <a href="thread.html#746">[ thread ]</a>
              <a href="subject.html#746">[ subject ]</a>
              <a href="author.html#746">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
