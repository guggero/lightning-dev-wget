<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] [PATCH] First draft of option_simplfied_commitment
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-November/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20%5BPATCH%5D%20First%20draft%20of%0A%20option_simplfied_commitment&In-Reply-To=%3C97c76894-aa11-4249-1221-3a51e3e3a399%40bluematt.me%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001665.html">
   <LINK REL="Next"  HREF="001658.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] [PATCH] First draft of option_simplfied_commitment</H1>
    <B>Matt Corallo</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20%5BPATCH%5D%20First%20draft%20of%0A%20option_simplfied_commitment&In-Reply-To=%3C97c76894-aa11-4249-1221-3a51e3e3a399%40bluematt.me%3E"
       TITLE="[Lightning-dev] [PATCH] First draft of option_simplfied_commitment">lf-lists at mattcorallo.com
       </A><BR>
    <I>Sun Nov 25 19:02:55 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001665.html">[Lightning-dev] [PATCH] First draft of option_simplfied_commitment
</A></li>
        <LI>Next message: <A HREF="001658.html">[Lightning-dev] lookupinvoice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1666">[ date ]</a>
              <a href="thread.html#1666">[ thread ]</a>
              <a href="subject.html#1666">[ subject ]</a>
              <a href="author.html#1666">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Indeed, this change assumes (a) the change in relay policy around CPFP 
that is discussed on this thread, and (b) some kind of (at least very 
basic) package relay in Bitcoin Core. (a) requires some discussion, but 
people seem at least not entirely against it when I've discussed it with 
people, and should be easy to implement, (b) requires a bunch more work, 
but has been a longstanding goal for a while.

Matt

On 11/25/18 6:47 PM, David A. Harding wrote:
&gt;<i> On Wed, Nov 21, 2018 at 12:47:17PM +1030, Rusty Russell wrote:
</I>&gt;&gt;<i> I'm also starting to implement this, to see what I missed!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - Feerate is fixed at 253 [satoshis per 1,000 weight]
</I>&gt;<i> 
</I>&gt;<i> IIUC, this is just over Bitcoin Core's default minimum relay fee of
</I>&gt;<i> 0.00001000 BTC/vByte.  That works right now, as mempools are nowhere
</I>&gt;<i> near full, but if they fill up again and the BIP133 feefilters are
</I>&gt;<i> increased by any amount, nodes will no longer relay transactions with
</I>&gt;<i> minimum feerates.
</I>&gt;<i> 
</I>&gt;<i> In that case, how does the commitment transaction get relayed in order
</I>&gt;<i> for its `to_*_pushme` outputs to be spent for CPFP fee bumping?[1]
</I>&gt;<i> 
</I>&gt;<i> There's currently some text in the PR about using
</I>&gt;<i> sighash_single|sighash_anyonecanpay for use with RBF, but I don't think
</I>&gt;<i> that can apply to spending the commitment transaction, as that would
</I>&gt;<i> allow not just adding new inputs and outputs, but also removing all but
</I>&gt;<i> the 'singled' output (allowing theft of its value).
</I>&gt;<i> 
</I>&gt;<i> -Dave
</I>&gt;<i> 
</I>&gt;<i> [1] I don't think Bitcoin Core currently relays transaction packages
</I>&gt;<i> consisting of parents below the relay fee limit and children
</I>&gt;<i> sufficiently above the limit to pay for their parents.  This has
</I>&gt;<i> certainly been discussed, so maybe I'm wrong and it is available or
</I>&gt;<i> maybe it'll be available in the future.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Lightning-dev mailing list
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">Lightning-dev at lists.linuxfoundation.org</A>
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev</A>
</I>&gt;<i> 
</I></PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001665.html">[Lightning-dev] [PATCH] First draft of option_simplfied_commitment
</A></li>
	<LI>Next message: <A HREF="001658.html">[Lightning-dev] lookupinvoice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1666">[ date ]</a>
              <a href="thread.html#1666">[ thread ]</a>
              <a href="subject.html#1666">[ subject ]</a>
              <a href="author.html#1666">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
