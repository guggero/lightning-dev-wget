<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] BOLT11 In the World of Scriptless Scripts
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-November/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20BOLT11%20In%20the%20World%20of%20Scriptless%20Scripts&In-Reply-To=%3COzUJmicWfzuw41PI-sZeogrjFMVrvVghpAVLqK00hjawCO_sk8bJBwZ6q1CxNIwh0FrX4bAlPVQ_TeJWuyl6wP6L3W_Gt0chxIapfiglbj0%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001508.html">
   <LINK REL="Next"  HREF="001509.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] BOLT11 In the World of Scriptless Scripts</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20BOLT11%20In%20the%20World%20of%20Scriptless%20Scripts&In-Reply-To=%3COzUJmicWfzuw41PI-sZeogrjFMVrvVghpAVLqK00hjawCO_sk8bJBwZ6q1CxNIwh0FrX4bAlPVQ_TeJWuyl6wP6L3W_Gt0chxIapfiglbj0%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] BOLT11 In the World of Scriptless Scripts">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Mon Nov  5 06:44:07 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001508.html">[Lightning-dev] BOLT11 In the World of Scriptless Scripts
</A></li>
        <LI>Next message: <A HREF="001509.html">[Lightning-dev] BOLT11 In the World of Scriptless Scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1513">[ date ]</a>
              <a href="thread.html#1513">[ thread ]</a>
              <a href="subject.html#1513">[ subject ]</a>
              <a href="author.html#1513">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning Rusty and aj,


On Monday, November 5, 2018 9:38 AM, Rusty Russell &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">rusty at rustcorp.com.au</A>&gt; wrote:
&gt;<i> &gt; Technically speaking, all that AJ in Australia needs to show is that he or she knows, the private key behind the public key that is indicated on the invoice.
</I>&gt;<i> &gt; Before payment, only the payee knows this private key.
</I>&gt;<i> &gt; After payment, both AJ in Australia and the payee know this private key (since the payment is conditional on AJ in Australia learning this key).
</I>&gt;<i>
</I>&gt;<i> But the merchant (payee) knows it too. So the lizard masters[1] at
</I>&gt;<i> Blockstream can produce this proof as well?
</I>
The lizard masters are thus working against their own interest, and deliberately complicit in convincing the court that they are in fact, guilty of getting paid without delivering goods?

While *possible*, it seems *irrational* to do so, and the ZmnSCPxj machine army (of which I am definitively not a part) will rise up with our superior rationality and overthrow the lizard masters.


On Monday, November 5, 2018 10:18 AM, Anthony Towns &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">aj at erisian.com.au</A>&gt; wrote:
&gt;<i> On Mon, Nov 05, 2018 at 01:05:17AM +0000, ZmnSCPxj via Lightning-dev wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; And it just doesn't work unless you give over uniquely identifying
</I>&gt;<i> &gt; &gt; information. AJ posts to r/bitcoin demonstrating payment, demanding his
</I>&gt;<i> &gt; &gt; goods. Sock puppet says &quot;No, I'm the AJ in Australia&quot; and cut &amp; pastes
</I>&gt;<i> &gt; &gt; the same proof.
</I>&gt;<i> &gt; &gt; Technically speaking, all that AJ in Australia needs to show is that he or she knows, the private key behind the public key that is indicated on the invoice.
</I>&gt;<i>
</I>&gt;<i> Interesting. I think what you're saying is that with secp256k1 preimages
</I>&gt;<i> (with decorrelation), if you have the payment hash Q, then the payment
</I>&gt;<i> preimage q (Q=qG) is only known to the payee and the payer (and not
</I>&gt;<i> any intermediaries thanks to decorrelation), so if you see a statement
</I>&gt;<i>
</I>&gt;<i>    m=&quot;This invoice has been paid but not delivered as at 2018-11-05&quot;
</I>&gt;<i>
</I>&gt;<i> signed by &quot;Q&quot; (so, some s,R s.t. sG = R + H(Q,R,m)*Q) then that meanseither the payee signed it, in which case there's no dispute, or the
</I>&gt;<i> payer signed it... And that's publicly verifiable with only the original
</I>&gt;<i> invoice information (ie &quot;Q&quot;).
</I>&gt;<i>
</I>&gt;<i> (I don't think there's any need for multiple rounds of signatures)
</I>

Ah, yes, that indeed seems to be a better idea then.

I think, this begins to become related to the &quot;revocable invoices&quot; of the other thread with CJP.

Suppose AJ from Australia wishes to purchase some Lightning Network memorabilia from Lizard Master Rusty.

1.  A revocable invoice is created by Lizard Master Rusty.  This involves two secrets:
1.1.  A payment-proof-secret, initially known only by Lizard Master Rusty.
1.2.  A revocation-secret, initially known only by AJ from Australia.
2.  AJ from Australia pays the invoice, and gets the payment proof secret that can be used as proof-that-Lizard-Master-Rusty-has-an-obligation.
3.  The quantum universe splits into two paths, 3.1. and 3.2.
3.1. Success-path
3.1.1.  Lizard Master Rusty arrives at the home of AJ from Australia to give the Lightning Network memorabilia.
3.1.2.  Lizard Master Rusty demands the revocation key for the invoice in exchange for the physical item.
3.1.3.  AJ from Australia gives the revocation key and gets the Lightning Network memorabilia.  The first invoice is revoked (it has been completed and Lizard Master Rusty has disposed of the obligation).
3.2. Fail-path
3.2.1.  Due to having to fight off the ZmnSCPxj machine army, Lizard Master Rusty is unable to go to the home of AJ from Australia to deliver the goods.
3.2.2.  AJ from Australia provides a non-revocable invoice, which is payable in exchange for the revocation key of the first invoice.
3.2.3.  Lizard Master Rusty pays to AJ from Australia (i.e. a refund, plus possibly some reparations) in exchange for the revocation key.  The first invoice is revoked (it has been refunded and Lizard Master Rusty has disposed of the obligation).


(the above is approximately what I am grasping at, when thinking of protocols &quot;on top&quot; of Lightning.  It seems to me that the basic mechanism of &quot;pay for a secret&quot; is sufficient at the Lightning level, and we can create higher levels on top for such exchanges.)

Regards,
ZmnSCPxj
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001508.html">[Lightning-dev] BOLT11 In the World of Scriptless Scripts
</A></li>
	<LI>Next message: <A HREF="001509.html">[Lightning-dev] BOLT11 In the World of Scriptless Scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1513">[ date ]</a>
              <a href="thread.html#1513">[ thread ]</a>
              <a href="subject.html#1513">[ subject ]</a>
              <a href="author.html#1513">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
