<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Penalty tx and RBF
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-November/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Penalty%20tx%20and%20RBF&In-Reply-To=%3CCAJ5H3Z7U%2BePe8xV_4XW4Mi_1V7m-0EuSm8K7xhYqWkpvN19HHQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001659.html">
   <LINK REL="Next"  HREF="001661.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Penalty tx and RBF</H1>
    <B>Ren&#233; Pickhardt</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Penalty%20tx%20and%20RBF&In-Reply-To=%3CCAJ5H3Z7U%2BePe8xV_4XW4Mi_1V7m-0EuSm8K7xhYqWkpvN19HHQ%40mail.gmail.com%3E"
       TITLE="[Lightning-dev] Penalty tx and RBF">r.pickhardt at googlemail.com
       </A><BR>
    <I>Fri Nov 23 18:07:17 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001659.html">[Lightning-dev] Penalty tx and RBF
</A></li>
        <LI>Next message: <A HREF="001661.html">[Lightning-dev] Penalty tx and RBF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1660">[ date ]</a>
              <a href="thread.html#1660">[ thread ]</a>
              <a href="subject.html#1660">[ subject ]</a>
              <a href="author.html#1660">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Cezary,

as far as I understand the problem in the case of a unilateral (force)
close are:

1.) In order to RBF your commitment transaction you would have to have the
signature of your former channel partner. since you initiated a force close
it is unlikely that you get this signature to RBF because then you could
have done a mutual close right away which is cheaper since less tx are
invovled to claim all funds back.
2.) In order to CPFP you have to be able to spend your output which can't
work because there is a timelock on it.

I believe on the last lightning developer summit this issue was discussed
and it was agreed that for BOLT1.1 we want have a third output in the
commitment transactions which anyone can spend (OP_TRUE) and which is just
above the dust level. This output is supposed to have no timelock so that
anyone can CPFP it. In the general case miners of the block could collect
the output as a fee. You can find a pointer to this on this wikipage in the
lightning-rfc git repo:
<A HREF="https://github.com/lightningnetwork/lightning-rfc/wiki/Lightning-Specification-1.1-Proposal-States">https://github.com/lightningnetwork/lightning-rfc/wiki/Lightning-Specification-1.1-Proposal-States</A>
(look in the section tx and fees)

best Rene

On Fri, Nov 23, 2018 at 6:30 PM Cezary Dziemian &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">cezary.dziemian at gmail.com</A>&gt;
wrote:

&gt;<i> Hello all,
</I>&gt;<i>
</I>&gt;<i> Sorry for my ignorance. I have two questions related with penalty txs. I
</I>&gt;<i> assume, that when someone commits obsolete commitment tx, my node
</I>&gt;<i> automatically commit penalty transaction.
</I>&gt;<i>
</I>&gt;<i> What if fees suddenly increases? Can my node use RBF to increase fee?
</I>&gt;<i>
</I>&gt;<i> Is there any approach common to major 3 implementations?
</I>&gt;<i>
</I>&gt;<i> How much time (how many blocks) do my node have to commit penalty tx? Is
</I>&gt;<i> there some value common for implementations?
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i> Cezary Dziemian
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Lightning-dev mailing list
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">Lightning-dev at lists.linuxfoundation.org</A>
</I>&gt;<i> <A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev</A>
</I>&gt;<i>
</I>

-- 
<A HREF="https://www.rene-pickhardt.de">https://www.rene-pickhardt.de</A>

Skype: rene.pickhardt

mobile: +49 (0)176 5762 3618
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20181123/e0bb5ac7/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20181123/e0bb5ac7/attachment.html</A>&gt;
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001659.html">[Lightning-dev] Penalty tx and RBF
</A></li>
	<LI>Next message: <A HREF="001661.html">[Lightning-dev] Penalty tx and RBF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1660">[ date ]</a>
              <a href="thread.html#1660">[ thread ]</a>
              <a href="subject.html#1660">[ subject ]</a>
              <a href="author.html#1660">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
