<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lightning-dev] Proposal for Advertising Channel Liquidity
   </TITLE>
   <LINK REL="Index" HREF="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-November/index.html" >
   <LINK REL="made" HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Proposal%20for%20Advertising%20Channel%20Liquidity&In-Reply-To=%3ChWjtF2WjyrNoJY_yhQvmbNV-kUJv1uOJDIO9oNyAqwRK0PwBeFBql6s0qzVro2_4AZ1JyIAfIPejF79uP9gmzWG9wOTFQeZcqi_vb1lpQE8%3D%40protonmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001536.html">
   <LINK REL="Next"  HREF="001541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lightning-dev] Proposal for Advertising Channel Liquidity</H1>
    <B>ZmnSCPxj</B> 
    <A HREF="mailto:lightning-dev%40lists.linuxfoundation.org?Subject=Re:%20Re%3A%20%5BLightning-dev%5D%20Proposal%20for%20Advertising%20Channel%20Liquidity&In-Reply-To=%3ChWjtF2WjyrNoJY_yhQvmbNV-kUJv1uOJDIO9oNyAqwRK0PwBeFBql6s0qzVro2_4AZ1JyIAfIPejF79uP9gmzWG9wOTFQeZcqi_vb1lpQE8%3D%40protonmail.com%3E"
       TITLE="[Lightning-dev] Proposal for Advertising Channel Liquidity">ZmnSCPxj at protonmail.com
       </A><BR>
    <I>Wed Nov  7 10:49:21 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001536.html">[Lightning-dev] Proposal for Advertising Channel Liquidity
</A></li>
        <LI>Next message: <A HREF="001541.html">[Lightning-dev] Proposal for Advertising Channel Liquidity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1538">[ date ]</a>
              <a href="thread.html#1538">[ thread ]</a>
              <a href="subject.html#1538">[ subject ]</a>
              <a href="author.html#1538">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning Lisa,

On Wednesday, November 7, 2018 2:17 PM, ZmnSCPxj via Lightning-dev &lt;<A HREF="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">lightning-dev at lists.linuxfoundation.org</A>&gt; wrote:

&gt;<i> Good morning Lisa,
</I>&gt;<i>
</I>&gt;&gt;<i>Should a node be able to request more liquidity than they put into the channel on their half? In the case of a vendor who wants inbound capacity, capping the liquidity request
</I>&gt;&gt;<i>allowed seems unnecessary.
</I>&gt;<i>
</I>&gt;<i> My initial thought is that it would be dangerous to allow the initiator of the request to request for arbitrary capacity.
</I>&gt;<i>
</I>&gt;<i> For instance, suppose that, via my legion of captive zombie computers (which are entirely fictional and exist only in this example, since I am an ordinary human person) I have analyzed the blockchain and discovered that you have 1.0 BTC you have reserved for liquidity requests under this protocol.  I could then have one of those computers spin up a temporary Lightning Node, request for 1.0BTC incoming capacity with only some nominal fee, then shut down the node permanently, leaving your funds in an unuseable channel, unable to earn routing fees or such.  This loses you potential earnings from this 1.0 BTC.
</I>&gt;<i>
</I>&gt;<i> If instead I were obligated to have at least greater capacity tied into this channel, then I would also be tying up at least 1.0 BTC into this channel as well, making this attack more expensive for me, as it also loses me any potential earnings from the 1.0 BTC of my own that I have locked up.
</I>
A counterpoint to this argument, however, is that if the fee for the liquidity is high enough, then it does not matter to you whether I use the 1.0 BTC or not: you have already been paid for it.

This however brings up the other potential attack:

1.  I advertise that I have 1.0 BTC available for liquidity requests.
2.  You answer this advertisement, and pay me a good fee for this 1.0 BTC being locked into a channel.
3.  After the channel is opened, I immediately close it, having earned the fee for liquidity, without in fact delivering that liquidity.

Perhaps we can modify channel commitment transactions for channels opened via liquidity requests, so that they have an `nSequence` that prevents them from being claimed for a month or so.  What do you think?

Regards,
ZmnSCPxj

&gt;<i> To my mind, this may become important.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> ZmnSCPxj
</I>&gt;<i>
</I>&gt;&gt;<i> Conclusion
</I>&gt;&gt;<i> =======================================
</I>&gt;&gt;<i> Allowing nodes to advertise liquidity paves the way for automated node re-balancing. Advertised liquidity creates a market of inbound capacity that any node can take advantage of, reducing the amount of out-of-band negotiation needed to get the inbound capacity that you need.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Credit to Casey Rodamor for the initial idea.
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20181107/6ff47164/attachment.html">http://lists.linuxfoundation.org/pipermail/lightning-dev/attachments/20181107/6ff47164/attachment.html</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001536.html">[Lightning-dev] Proposal for Advertising Channel Liquidity
</A></li>
	<LI>Next message: <A HREF="001541.html">[Lightning-dev] Proposal for Advertising Channel Liquidity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1538">[ date ]</a>
              <a href="thread.html#1538">[ thread ]</a>
              <a href="subject.html#1538">[ subject ]</a>
              <a href="author.html#1538">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev">More information about the Lightning-dev
mailing list</a><br>
</body></html>
